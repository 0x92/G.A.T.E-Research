function mShowFull(e){var t,n;return"name"===e.className?(t=e.parentNode.parentNode.parentNode.getElementsByClassName("name")[1])&&(n=t.innerHTML):"subject"===e.parentNode.className?(t=e.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("subject")[1])&&(n=t.innerHTML):/fileThumb/.test(e.parentNode.className)&&(t=e.parentNode.parentNode.getElementsByClassName("fileText")[0])&&(t=t.firstElementChild,n=t.getAttribute("title")||t.innerHTML),n}function loadBannerImage(){var e;!(e=document.getElementById("bannerCnt"))||e.offsetWidth<=0||(e.innerHTML='<img alt="4chan" src="//s.4cdn.org/image/title/'+e.getAttribute("data-src")+'">')}function onMobileSelectChange(){var e,t;e=this.options[this.selectedIndex].value,t="f"!==e&&/\/catalog$/.test(location.pathname)?"catalog":"",window.location="//boards.4chan.org/"+e+"/"+t}function buildMobileNav(){var e,t,n,o,a,i;if(e=document.getElementById("boardSelectMobile")){for(a="",i=[],t=document.querySelectorAll("#boardNavDesktop .boardList > a"),n=0;o=t[n];++n)i.push(o);for(i.sort(function(e,t){return e.textContent<t.textContent?-1:e.textContent>t.textContent?1:0}),n=0;o=i[n];++n)a+='<option value="'+o.textContent+'">/'+o.textContent+"/ - "+o.title+"</option>";e.innerHTML=a}}function cloneTopNav(){var e,t,n,o;(e=document.getElementById("boardNavDesktop"))&&(n=document.getElementById("absbot"),t=e.cloneNode(!0),t.id=t.id+"Foot",(o=t.querySelector("#navtopright"))&&(o.id="navbotright"),(o=t.querySelector("#settingsWindowLink"))&&(o.id=o.id+"Bot"),document.body.insertBefore(t,n))}function initPass(){"1"==get_cookie("pass_enabled")||get_cookie("extra_path")?window.passEnabled=!0:window.passEnabled=!1}function initBlotter(){var e,t;(t=document.getElementById("toggleBlotter"))&&(t.addEventListener("click",toggleBlotter,!1),(e=localStorage.getItem("4chan-blotter"))&&+t.getAttribute("data-utc")<=+e&&toggleBlotter())}function toggleBlotter(e){var t,n;e&&e.preventDefault(),(t=document.getElementById("blotter-msgs"))&&(n=document.getElementById("toggleBlotter"),"none"==t.style.display?(t.style.display="",localStorage.removeItem("4chan-blotter"),n.textContent="Hide",t=n.nextElementSibling,t.style.display&&(t.style.display="")):(t.style.display="none",localStorage.setItem("4chan-blotter",n.getAttribute("data-utc")),n.textContent="Show Blotter",n.nextElementSibling.style.display="none"))}function onRecaptchaLoaded(){"table"==document.getElementById("postForm").style.display&&initRecaptcha()}function initRecaptcha(){var e;(e=document.getElementById("g-recaptcha"))&&!e.firstElementChild&&!window.passEnabled&&window.grecaptcha&&grecaptcha.render(e,{sitekey:window.recaptchaKey,theme:"Tomorrow"===activeStyleSheet||window.dark_captcha?"dark":"light"})}function initAnalytics(){!function(e,t,n,o,a,i,r){e.GoogleAnalyticsObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,i=t.createElement(n),r=t.getElementsByTagName(n)[0],i.async=1,i.src=o,r.parentNode.insertBefore(i,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-166538-1",{sampleRate:1}),ga("set","anonymizeIp",!0),ga("send","pageview")}function initAds(e,t){var n,o="http",a="s";"https:"==document.location.protocol&&(o+="s");var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=o+"://"+a+".zkcdn.net/ados.js",i.onload=function(){ados=ados||{},ados.run=ados.run||[],ados.run.push(function(){(n=document.getElementById("azk91603"))&&(window.matchMedia&&window.matchMedia("(max-width: 480px)").matches&&"true"!=localStorage.getItem("4chan_never_show_mobile")?(n.id="azk92421",window._top_ad=ados_add_placement(3536,18130,"azk92421",5).setZone(162389)):window._top_ad=ados_add_placement(3536,18130,"azk91603",4).setZone(16258),ados_setPassbackTimeout(3e3),ados_setDomain("engine.4chan-ads.org"),ados_setKeywords(e+", "+t+(window.thread_archived?",archive":"")),ados_setNoTrack(),ados_load())})};var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r)}function initAdsAG(){var e,t,n,o,a;for(window.matchMedia&&window.matchMedia("(max-width: 480px)").matches&&"true"!=localStorage.getItem("4chan_never_show_mobile")?(o="adg-m",(e=document.getElementById("adg-ol"))&&(a=document.createElement("script"),a.src="//utraffic.engine.adglare.net/?"+e.getAttribute("data-id"),document.body.appendChild(a))):o="adg",t=document.getElementsByClassName(o),n=0;e=t[n];++n)a=document.createElement("script"),a.src="//utraffic.engine.adglare.net/?"+e.id.replace("zone",""),document.body.appendChild(a)}function applySearch(e){var t;e&&e.preventDefault(),""!==(t=document.getElementById("search-box").value)&&(window.location.href="catalog#s="+t)}function onKeyDownSearch(e){13==e.keyCode&&applySearch()}function onReportClick(){var e,t,n,o;for(n=document.getElementsByTagName("input"),o=location.pathname.split(/\//)[1],e=0;t=n[e];++e)if("checkbox"==t.type&&t.checked&&"delete"==t.value)return reppop("https://sys.4chan.org/"+o+"/imgboard.php?mode=report&no="+t.name.replace(/[a-z]+/,""))}function onStyleSheetChange(){setActiveStyleSheet(this.value)}function onPageSwitch(e){e.preventDefault(),window.location=this.action}function onMobileFormClick(e){var t=location.pathname.split(/\//).length<4;e.preventDefault(),"mpostform"==this.parentNode.id?toggleMobilePostForm(t):toggleMobilePostForm(t,1)}function onMobileRefreshClick(){locationHashChanged(this)}function get_pass(e){var t,n,o,a,i;if(t=get_cookie(e))return t;n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",a=n.length,t="";for(var o=0;o<32;o++)i=Math.floor(Math.random()*a),t+=n.substring(i,i+1);return"_"+t}function toggle(e){var t=document.getElementById(e);t.style.display="block"!=t.style.display?"block":"none"}function quote(e){if(document.selection){document.post.com.focus();document.selection.createRange().text=">>"+e+"\n"}else if(document.post.com.selectionStart||"0"==document.post.com.selectionStart){var t=document.post.com.selectionStart,n=document.post.com.selectionEnd;document.post.com.value=document.post.com.value.substring(0,t)+">>"+e+"\n"+document.post.com.value.substring(n,document.post.com.value.length)}else document.post.com.value+=">>"+e+"\n"}function repquote(e){""==document.post.com.value&&quote(e)}function reppop(e){var t;return t=window.passEnabled||!window.grecaptcha?205:510,window.open(e,Date.now(),"toolbar=0,scrollbars=1,location=0,status=1,menubar=0,resizable=1,width=380,height="+t),!1}function recaptcha_load(){document.getElementById("recaptcha_div")&&Recaptcha.create("6Ldp2bsSAAAAAAJ5uyx_lx34lJeEpTLVkP5k04qc","recaptcha_div",{theme:"clean"})}function onParsingDone(e){var t,n,o,a,i,r,l;if(i=e.detail.threadId,r=e.detail.offset)for(n=document.getElementById("t"+i).getElementsByClassName("nameBlock"),l=e.detail.limit?2*e.detail.limit:n.length,t=2*r+1;t<l;t+=2)(o=n[t].children[1])&&(currentHighlighted&&-1!=o.className.indexOf("id_"+currentHighlighted)&&(a=o.parentNode.parentNode.parentNode,a.className="highlight "+a.className),o.addEventListener("click",idClick,!1))}function loadExtraScripts(){var e,t;return!(!(t=readCookie("extra_path"))||!/^[a-z0-9]+$/.test(t))&&(window.FC?(e=document.createElement("script"),e.type="text/javascript",e.src="https://s.4cdn.org/js/"+t+"."+jsVersion+".js",document.head.appendChild(e)):document.write('<script type="text/javascript" src="https://s.4cdn.org/js/'+t+"."+jsVersion+'.js"></script>'),!0)}function toggleMobilePostForm(e,t){var n=document.getElementById("mpostform").firstElementChild,o=document.getElementById("postForm");n.className.match("hidden")?(n.className=n.className.replace("hidden","shown"),o.className=o.className.replace(" hideMobile",""),n.innerHTML="Close Post Form",initRecaptcha()):(n.className=n.className.replace("shown","hidden"),o.className+=" hideMobile",n.innerHTML=e?"Start New Thread":"Post Reply"),t&&n.scrollIntoView()}function toggleGlobalMessage(e){var t,n;e&&e.preventDefault(),t=document.getElementById("globalToggle"),n=document.getElementById("globalMessage"),t.className.match("hidden")?(t.className=t.className.replace("hidden","shown"),n.className=n.className.replace(" hideMobile",""),t.innerHTML="Close Announcement"):(t.className=t.className.replace("shown","hidden"),n.className+=" hideMobile",t.innerHTML="View Announcement")}function checkRecaptcha(){void 0!==RecaptchaState.timeout&&1800==RecaptchaState.timeout&&(RecaptchaState.timeout=570,Recaptcha._reset_timer(),clearInterval(captchainterval))}function setPassMsg(){var e,t;(e=document.getElementById("captchaFormPart"))&&(t='You are using a 4chan Pass. [<a href="https://sys.4chan.org/auth?act=logout" onclick="confirmPassLogout(event);" tabindex="-1">Logout</a>]',e.children[1].innerHTML='<div style="padding: 5px;">'+t+"</div>")}function confirmPassLogout(e){if(!confirm("Are you sure you want to logout?"))return e.preventDefault(),!1}function initStyleSheet(){var e,t,n,o;if(!window.FC){if(window.style_group){var a=readCookie(style_group);activeStyleSheet=a||getPreferredStyleSheet()}switch(window.css_event&&localStorage.getItem("4chan_stop_css_event")!==window.css_event&&(activeStyleSheet="_special"),activeStyleSheet){case"Yotsuba B":setActiveStyleSheet("Yotsuba B New",!0);break;case"Yotsuba":setActiveStyleSheet("Yotsuba New",!0);break;case"Burichan":setActiveStyleSheet("Burichan New",!0);break;case"Futaba":setActiveStyleSheet("Futaba New",!0);break;default:setActiveStyleSheet(activeStyleSheet,!0)}if("true"==localStorage.getItem("4chan_never_show_mobile"))for(n=document.querySelectorAll("link"),o=n.length,e=0;e<o;e++)n[e].getAttribute("href").match("mobile")&&(t=n[e]).parentNode.removeChild(t)}}function pageHasMath(){var e,t,n;for(n=document.getElementsByClassName("postMessage"),e=0;t=n[e];++e)if(/\[(?:eqn|math)\]|"math">/.test(t.innerHTML))return!0;return!1}function cleanWbr(e){var t,n,o;for(n=e.getElementsByTagName("wbr"),t=n.length-1;o=n[t];t--)o.parentNode.removeChild(o)}function parseMath(){var e,t,n;for(n=document.getElementsByClassName("postMessage"),e=0;t=n[e];++e)/\[(?:eqn|math)\]/.test(t.innerHTML)&&cleanWbr(t);MathJax.Hub.Queue(["Typeset",MathJax.Hub,n])}function loadMathJax(){var e,t;e=document.getElementsByTagName("head")[0],t=document.createElement("script"),t.type="text/x-mathjax-config",t.text="MathJax.Hub.Config({extensions: ['Safe.js'],tex2jax: { processRefs: false, processEnvironments: false, preview: 'none', inlineMath: [['[math]','[/math]']], displayMath: [['[eqn]','[/eqn]']] },Safe: { allow: { URLs: 'none', classes: 'none', cssIDs: 'none', styles: 'none', fontsize: 'none', require: 'none' } },displayAlign: 'left', messageStyle: 'none', skipStartupTypeset: true,'CHTML-preview': { disabled: true }, MathMenu: { showRenderer: false, showLocale: false },TeX: { Macros: { newcommand: '{}', renewcommand: '{}', newenvironment: '{}', renewenvironment: '{}', def: '{}', let: '{}'}}});",e.appendChild(t),t=document.createElement("script"),t.src="//cdn.mathjax.org/mathjax/2.6-latest/MathJax.js?config=TeX-AMS_HTML-full",t.onload=parseMath,e.appendChild(t)}function init(){var e,t="undefined"!=typeof is_error,n=location.href.match(/4chan\.org\/(\w+)/)[1],o=location.href.split(/#/);if(o[1]&&o[1].match(/q[0-9]+$/)&&repquote(o[1].match(/q([0-9]+)$/)[1]),window.math_tags&&pageHasMath()&&loadMathJax(),navigator.userAgent&&navigator.userAgent.match(/iP(hone|ad|od)/i)){links=document.querySelectorAll("s"),len=links.length;for(var a=0;a<len;a++)links[a].onclick=function(){this.hasAttribute("style")?this.removeAttribute("style"):this.setAttribute("style","color: #fff!important;")}}if(document.getElementById("styleSelector")){styleSelect=document.getElementById("styleSelector"),len=styleSelect.options.length;for(var a=0;a<len;a++)styleSelect.options[a].value!=activeStyleSheet||(styleSelect.selectedIndex=a)}!t&&document.forms.post&&(e=document.getElementById("delPassword"),e&&(e.value=get_pass("4chan_pass")),"i"!=n&&"ic"!=n&&"f"!=n&&window.File&&window.FileReader&&window.FileList&&window.Blob&&(e=document.getElementById("postFile"))&&e.addEventListener("change",handleFileSelect,!1)),"undefined"!=typeof extra&&extra&&!t&&extra.init(),window.check_for_block&&checkForBlock()}function onComKeyDown(){clearTimeout(coreLenCheckTimeout),coreLenCheckTimeout=setTimeout(coreCheckComLength,500)}function coreCheckComLength(){var e,t,n;comlen&&(t=document.getElementsByName("com")[0],e=encodeURIComponent(t.value).split(/%..|./).length-1,e>comlen?((n=document.getElementById("comlenError"))||(n=document.createElement("div"),n.id="comlenError",n.style.cssText="font-weight:bold;padding:5px;color:red;",t.parentNode.appendChild(n)),n.textContent="Error: Comment too long ("+e+"/"+comlen+")."):(n=document.getElementById("comlenError"))&&n.parentNode.removeChild(n))}function disableMobile(){localStorage.setItem("4chan_never_show_mobile","true"),location.reload(!0)}function enableMobile(){localStorage.removeItem("4chan_never_show_mobile"),location.reload(!0)}function checkForBlock(){var e,t,n,o,a,i;if(!/Mobile|Android|Dolfin|Opera Mobi|PlayStation Vita|Nintendo DS/.test(navigator.userAgent)&&1!=readCookie("pass_enabled"))for(o=document.getElementsByClassName("ad-cnt"),e=0;t=o[e];++e)0==t.offsetHeight&&(n=document.createElement("div"),n.className="center",n.innerHTML='<div style="display:table-cell;vertical-align:middle">'+blockPlea+"</div>",a=n.style,window.matchMedia&&window.matchMedia("(max-width: 480px)").matches?(a.width="300px",a.height="250px"):(a.width="728px",a.height="90px"),a.display="table",i="1px solid ",i+="Yotsuba B New"==activeStyleSheet?"#34345c":"Yotsuba New"==activeStyleSheet?"#800":"#000",a.border=i,t.parentNode.insertBefore(n,t))}function enableClickableIds(){var e=0,t=0,n=document.getElementsByClassName("posteruid"),o=document.getElementsByClassName("capcode");if(null!=o)for(e=0,t=o.length;e<t;e++)o[e].addEventListener("click",idClick,!1);if(null!=n)for(e=0,t=n.length;e<t;e++)n[e].addEventListener("click",idClick,!1)}function idClick(e){var t,n=0,o=0,a="hand"==e.target.className?e.target.parentNode.className.match(/id_([^ $]+)/)[1]:e.target.className.match(/id_([^ $]+)/)[1],i=document.getElementsByClassName("highlight");for(o=i.length,n=0;n<o;n++){var r=i[0].className.toString();i[0].className=r.replace(/highlight /g,"")}if(currentHighlighted==a)return void(currentHighlighted=null);currentHighlighted=a;var l=document.getElementsByClassName("id_"+a);for(o=l.length,n=0;n<o;n++)t=l[n].parentNode.parentNode.parentNode,t.className.match(/highlight /)||(t.className="highlight "+t.className)}function showPostFormError(e){var t=document.getElementById("postFormError");e?(t.innerHTML=e,t.style.display="block"):(t.textContent="",t.style.display="")}function handleFileSelect(){var e,t;this.files&&(t=window.maxFilesize,e=this.files[0].size,"video/webm"==this.files[0].type&&window.maxWebmFilesize&&(t=window.maxWebmFilesize),e>t?showPostFormError("Error: Maximum file size allowed is "+Math.floor(t/1048576)+" MB"):showPostFormError())}function locationHashChanged(e){var t=document.getElementById("id_css");switch(e.id){case"refresh_top":url=window.location.href.replace(/#.+/,"#top"),/top$/.test(url)||(url+="#top"),t.innerHTML='<meta http-equiv="refresh" content="0;URL='+url+'">',document.location.reload(!0);break;case"refresh_bottom":url=window.location.href.replace(/#.+/,"#bottom"),/bottom$/.test(url)||(url+="#bottom"),t.innerHTML='<meta http-equiv="refresh" content="0;URL='+url+'">',document.location.reload(!0)}return!0}function setActiveStyleSheet(e,t){var n,o,a,i,r,l;if(1!=document.querySelectorAll("link[title]").length){for(a="",r=document.getElementsByTagName("link"),i=0;n=r[i];i++)"switch"==n.getAttribute("title")&&(o=n),-1!=n.getAttribute("rel").indexOf("style")&&n.getAttribute("title")&&n.getAttribute("title")==e&&(a=n.href);o&&o.setAttribute("href",a),t||("_special"!==e?(createCookie(style_group,e,365,"4chan.org"),window.css_event&&(l=window["fc_"+window.css_event+"_cleanup"],localStorage.setItem("4chan_stop_css_event",window.css_event))):window.css_event&&(l=window["fc_"+window.css_event+"_init"],localStorage.removeItem("4chan_stop_css_event")),activeStyleSheet=e,l&&l())}}function getActiveStyleSheet(){var e,t,n;if(1==document.querySelectorAll("link[title]").length)return"Yotsuba P";for(e=0;t=document.getElementsByTagName("link")[e];e++)if("switch"==t.getAttribute("title"))n=t;else if(-1!=t.getAttribute("rel").indexOf("style")&&t.getAttribute("title")&&t.href==n.href)return t.getAttribute("title");return null}function getPreferredStyleSheet(){return"ws_style"==style_group?"Yotsuba B New":"Yotsuba New"}function createCookie(e,t,n,o){if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var i="; expires="+a.toGMTString()}else i="";o=o?"; domain="+o:"",document.cookie=e+"="+t+i+"; path=/"+o}function readCookie(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return decodeURIComponent(a.substring(t.length,a.length))}return""}function setRetinaIcons(){var e,t,n;for(n=document.getElementsByClassName("retina"),e=0;t=n[e];++e)t.src=t.src.replace(/\.(gif|png)$/,"@2x.$1")}function onCoreClick(e){/flag flag-/.test(e.target.className)&&1==e.which&&window.open("//s.4cdn.org/image/country/"+e.target.className.match(/flag-([a-z]+)/)[1]+".gif","")}function showPostForm(e){var t;e&&e.preventDefault(),(t=document.getElementById("postForm"))&&($.id("togglePostFormLink").style.display="none",t.style.display="table",initRecaptcha())}function oeCanvasPreview(e){var t,n,o;if((n=document.getElementById("oe-canvas-preview"))&&n.parentNode.removeChild(n),"OPTION"==e.target.nodeName&&"0"!=e.target.value){if(!(t=document.getElementById("f"+e.target.value)))return;if(!(t=t.getElementsByTagName("img")[0])||!t.hasAttribute("data-md5"))return;n=t.cloneNode(),n.id="oe-canvas-preview",o=e.target.parentNode,o.parentNode.insertBefore(n,o.nextSibling)}}function oeClearPreview(){var e;(e=document.getElementById("oe-canvas-preview"))&&e.parentNode.removeChild(e)}function contentLoaded(){var e,t,n,o,a,i,r,l,s,c;if(document.removeEventListener("DOMContentLoaded",contentLoaded,!0),window._adg&&initAdsAG(),document.post&&(document.post.name.value=get_cookie("4chan_name"),document.post.email.value=get_cookie("options"),document.post.pwd.value=get_pass("4chan_pass")),cloneTopNav(),initAnalytics(),r=location.pathname.split(/\//),l=r[1],window.passEnabled&&setPassMsg(),window.Tegaki&&PainterCore.init(),(t=document.getElementById("bottomReportBtn"))&&t.addEventListener("click",onReportClick,!1),(t=document.getElementById("styleSelector"))&&t.addEventListener("change",onStyleSheetChange,!1),(t=document.getElementById("togglePostFormLink"))&&((t=t.firstElementChild)&&t.addEventListener("click",showPostForm,!1),"#reply"===location.hash&&showPostForm()),(t=document.forms.post)&&t.flag&&(s=readCookie("4chan_flag"))&&(n=t.querySelector('option[value="'+s+'"]'))&&n.setAttribute("selected","selected"),buildMobileNav(l),(t=document.getElementById("globalToggle"))&&t.addEventListener("click",toggleGlobalMessage,!1),"true"==localStorage.getItem("4chan_never_show_mobile")&&(t=document.getElementById("disable-mobile"))&&(t.style.display="none",t=document.getElementById("enable-mobile"),t.parentNode.style.cssText="display: inline !important;"),i=document.getElementById("boardSelectMobile")){for(a=i.options.length,e=0;e<a;e++)i.options[e].value!=l||(i.selectedIndex=e);i.addEventListener("change",onMobileSelectChange,!1)}if(document.forms.oeform&&(t=document.forms.oeform.oe_src)&&(t.addEventListener("mouseover",oeCanvasPreview,!1),t.addEventListener("mouseout",oeClearPreview,!1)),"catalog"!=r[2]){for(o=document.getElementsByClassName("mobilePostFormToggle"),e=0;t=o[e];++e)t.addEventListener("click",onMobileFormClick,!1);if((t=document.getElementsByName("com")[0])&&(t.addEventListener("keydown",onComKeyDown,!1),t.addEventListener("paste",onComKeyDown,!1),t.addEventListener("cut",onComKeyDown,!1)),(t=document.getElementById("refresh_top"))&&t.addEventListener("mouseup",onMobileRefreshClick,!1),(t=document.getElementById("refresh_bottom"))&&t.addEventListener("mouseup",onMobileRefreshClick,!1),"int"!=l&&"sp"!=l&&"pol"!=l||(t=document.getElementById("delform"),t.addEventListener("click",onCoreClick,!1)),!r[3]){for(o=document.getElementsByClassName("pageSwitcherForm"),e=0;t=o[e];++e)t.addEventListener("submit",onPageSwitch,!1);(t=document.getElementById("search-box"))&&t.addEventListener("keydown",onKeyDownSearch,!1)}window.clickable_ids&&enableClickableIds(),Tip.init()}window.devicePixelRatio>=2&&setRetinaIcons(),initBlotter(),loadBannerImage(),window.css_event&&"_special"===activeStyleSheet&&(c=window["fc_"+window.css_event+"_init"])&&c()}var blockPlea='Please <a class="aplnk" href="//www.4chan.org/news?all#109" target="_blank">support 4chan</a> by disabling your ad blocker on *.4chan.org/*, <a class="aplnk" href="https://www.4chan.org/advertise?selfserve" target="_blank">purchasing a self-serve ad</a>, or <a class="aplnk" href="https://www.4chan.org/pass" target="_blank">buying a 4chan Pass</a>.',Tip={node:null,timeout:null,delay:300,init:function(){document.addEventListener("mouseover",this.onMouseOver,!1),document.addEventListener("mouseout",this.onMouseOut,!1)},onMouseOver:function(e){var t,n,o;o=e.target,Tip.timeout&&(clearTimeout(Tip.timeout),Tip.timeout=null),o.hasAttribute("data-tip")&&(n=null,o.hasAttribute("data-tip-cb")&&(t=o.getAttribute("data-tip-cb"),window[t]&&(n=window[t](o))),Tip.timeout=setTimeout(Tip.show,Tip.delay,e.target,n))},onMouseOut:function(){Tip.timeout&&(clearTimeout(Tip.timeout),Tip.timeout=null),Tip.hide()},show:function(e,t,n){var o,a,i,r,l;a=e.getBoundingClientRect(),o=document.createElement("div"),o.id="tooltip",t?o.innerHTML=t:o.textContent=e.getAttribute("data-tip"),n||(n="top"),o.className="tip-"+n,document.body.appendChild(o),r=a.left-(o.offsetWidth-e.offsetWidth)/2,r<0?(r=a.left+2,o.className+="-right"):r+o.offsetWidth>document.documentElement.clientWidth&&(r=a.left-o.offsetWidth+e.offsetWidth+2,o.className+="-left"),l=a.top-o.offsetHeight-5,i=o.style,i.top=l+window.pageYOffset+"px",i.left=r+window.pageXOffset+"px",Tip.node=o},hide:function(){Tip.node&&(document.body.removeChild(Tip.node),Tip.node=null)}},activeStyleSheet;captchainterval=null;var coreLenCheckTimeout=null,currentHighlighted=null,get_cookie=readCookie,PainterCore={init:function(){var e;document.forms.post&&(e=document.forms.post.getElementsByClassName("painter-ctrl")[0])&&(e=e.getElementsByTagName("button"),e[1]&&(this.data=null,this.btnDraw=e[0],this.btnClear=e[1],this.btnFile=document.getElementById("postFile"),this.btnSubmit=document.forms.post.querySelector('input[type="submit"]'),e[0].addEventListener("click",this.onDrawClick,!1),e[1].addEventListener("click",this.onCancel,!1)))},onDrawClick:function(){var e,t,n=this.parentNode.getElementsByTagName("input");e=+n[0].value,t=+n[1].value,e<1||t<1||Tegaki.open({onDone:PainterCore.onDone,onCancel:PainterCore.onCancel,width:e,height:t})},b64toBlob:function(e){var t,n,o,a,i;for(n=atob(e),i=n.length,o=new Array(i),t=0;t<i;++t)o[t]=n.charCodeAt(t);return a=new Uint8Array(o),new Blob([a])},onDone:function(){PainterCore.btnFile.disabled=!0,PainterCore.btnClear.disabled=!1,PainterCore.data=Tegaki.flatten().toDataURL("image/png"),document.forms.post.addEventListener("submit",PainterCore.onSubmit,!1)},onCancel:function(){PainterCore.data=null,PainterCore.btnFile.disabled=!1,PainterCore.btnClear.disabled=!0,document.forms.post.removeEventListener("submit",PainterCore.onSubmit,!1)},onSubmit:function(e){var t,n,o;e.preventDefault(),t=new FormData(this),n=PainterCore.b64toBlob(PainterCore.data.slice(PainterCore.data.indexOf(",")+1)),n&&t.append("upfile",n,"tegaki.png"),o=new XMLHttpRequest,o.open("POST",this.action,!0),o.withCredentials=!0,o.onerror=PainterCore.onSubmitError,o.onload=PainterCore.onSubmitDone,o.send(t),PainterCore.btnSubmit.disabled=!0},onSubmitError:function(){PainterCore.btnSubmit.disabled=!1,showPostFormError("Connection Error.")},onSubmitDone:function(){var e,t,n,o,a;if(PainterCore.btnSubmit.disabled=!1,t=this.responseText.match(/<!-- thread:([0-9]+),no:([0-9]+) -->/))return n=+t[1],o=+t[2],n||(n=o),a=location.pathname.split(/\//)[1],window.location.href="/"+a+"/thread/"+n+"#p"+o,PainterCore.onCancel(),void(n!=o&&(PainterCore.btnClear.disabled=!0,window.location.reload()));(e=this.responseText.match(/"errmsg"[^>]*>(.*?)<\/span/))&&showPostFormError(e[1])}};initPass(),window.onload=init,window.clickable_ids&&document.addEventListener("4chanParsingDone",onParsingDone,!1),document.addEventListener("4chanMainInit",loadExtraScripts,!1),document.addEventListener("DOMContentLoaded",contentLoaded,!0),initStyleSheet();