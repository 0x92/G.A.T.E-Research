/* 
 * main.js - This file is compiled and contains code from the following scripts, concatenated together in order:
 * js/jquery.min.js, js/jquery.mixitup.min.js, js/jquery-ui.custom.min.js, js/catalog.js, js/captcha.js, js/jquery.tablesorter.min.js, js/options.js, js/style-select.js, js/options/general.js, js/post-hover.js, js/update_boards.js, js/favorites.js, js/show-op.js, js/smartphone-spoiler.js, js/inline-expanding.js, js/show-backlinks.js, js/webm-settings.js, js/expand-video.js, js/treeview.js, js/expand-too-long.js, js/settings.js, js/hide-images.js, js/expand-all-images.js, js/local-time.js, js/expand.js, js/auto-reload.js, js/options/user-css.js, js/options/user-js.js, js/options/fav.js, js/forced-anon.js, js/toggle-locked-threads.js, js/toggle-images.js, js/mobile-style.js, js/id_highlighter.js, js/id_colors.js, js/inline.js, js/infinite-scroll.js, js/download-original.js, js/download-hash-unix.js, js/thread-watcher.js, js/ajax.js, js/quick-reply.js, js/quick-post-controls.js, js/show-own-posts.js, js/youtube.js, js/comment-toolbar.js, js/catalog-search.js, js/thread-stats.js, js/quote-selection.js, js/flag-previews.js, js/post-menu.js, js/post-filter.js, js/filter_hidden_images.js, js/fix-report-delete-submit.js, js/image-hover.js, js/auto-scroll.js, js/file-selector.js, js/gallery-view.js, js/board-directory.js, js/post-capture.js, js/show-recommended-boards.js, js/catalog-create-thread.js, js/pepe-colored-quotes.js, js/save-original-filename.js, js/post-captcha-box.js, js/hide-velocious-tempestuous.js, js/recent-post-time.js, js/preview_annoucement.js, js/auto_clear_postfields_options.js, js/embed_api.js, js/stub-options.js, js/jquery-ui.custom.min.js, js/wPaint/8ch.js, js/wpaint.js, js/code_tags/run_prettify.js, js/fileboard.js
 * Please see those files for licensing and authorship information.
 * Compiled on Wed 28 Feb 2018 06:21:50 PM GMT
 */
function _(t){return"undefined"!=typeof l10n&&"undefined"!=typeof l10n[t]?l10n[t]:t}function fmt(t,e){return t.replace(/\{([0-9]+)\}/g,function(t){return e[t[1]]})}function until(t){var e,i=t-Date.now()/1e3|0
switch(!0){case 60>i:return""+i+" "+_("second(s)")
case 3600>i:return""+(e=Math.round(i/60))+" "+_("minute(s)")
case 86400>i:return""+(e=Math.round(i/3600))+" "+_("hour(s)")
case 604800>i:return""+(e=Math.round(i/86400))+" "+_("day(s)")
case 31536e3>i:return""+(e=Math.round(i/604800))+" "+_("week(s)")
default:return""+(e=Math.round(i/31536e3))+" "+_("year(s)")}}function ago(t){var e,i=(Date.now()/1e3|0)-t
switch(!0){case 60>i:return""+i+" "+_("second(s)")
case 3600>i:return""+(e=Math.round(i/60))+" "+_("minute(s)")
case 86400>i:return""+(e=Math.round(i/3600))+" "+_("hour(s)")
case 604800>i:return""+(e=Math.round(i/86400))+" "+_("day(s)")
case 31536e3>i:return""+(e=Math.round(i/604800))+" "+_("week(s)")
default:return""+(e=Math.round(i/31536e3))+" "+_("year(s)")}}function alert(t,e,i,n){var o,r,s,a,l,c=function(){return o.fadeOut(400,function(){o.remove()}),!1}
o=$("<div id='alert_handler'></div>").hide().appendTo("body"),s=$("<div id='alert_background'></div>").appendTo(o),r=$("<div id='alert_div'></div>").appendTo(o),a=$("<a id='alert_close' href='javascript:void(0)'><i class='fa fa-times'></i></div>").appendTo(r),$("<div id='alert_message'></div>").html(t).appendTo(r),l=$("<button class='button alert_button'>"+_("OK")+"</button>").appendTo(r),e&&(i="function"!=typeof i?function(){}:i,n="function"!=typeof n?function(){}:n,l.click(i),$("<button class='button alert_button'>"+_("Cancel")+"</button>").click(n).click(c).appendTo(r),s.click(n),l.click(n),a.click(n)),s.click(c),l.click(c),a.click(c),o.fadeIn(400)}function captchabox(t,e,i,n){var o,r,s,a,l=function(){return o.fadeOut(400,function(){o.remove()}),!1}
o=$("<div id='alert_handler'></div>").hide().appendTo("body"),s=$("<div id='alert_background'></div>").appendTo(o),r=$("<div id='alert_div'></div>").appendTo(o),a=$("<a id='alert_close' href='javascript:void(0)'><i class='fa fa-times'></i></div>").appendTo(r),$("<div id='captcha_main_box' style='margin:15px'>"+_("Loading captcha...")+"<br><a href='https://8ch.net/dnsbls_bypass.php' target='_blank'>Click here if captcha doesnt load</a></div>").appendTo(r)
var c="http://8ch.net/dnsbls_bypass_popup.php"
"https:"==window.document.location.protocol&&(c="https://8ch.net/dnsbls_bypass_popup.php"),$.get(c,function(t){if($("#captcha_main_box").html(t),e){i="function"!=typeof i?function(){}:i,n="function"!=typeof n?function(){}:n
var o=$("#captcha_main_box"),c=function(){o.text().toLowerCase().indexOf("fill out the captcha below")>0?n():i(),l()}
r.find(".alert_button").length>0&&r.find(".alert_button").remove(),$("<button class='button alert_button'>"+_("Cancel")+"</button>").off("click").click(c).appendTo(r),s.off("click").click(c),a.off("click").click(c)}}),e&&(i="function"!=typeof i?function(){}:i,n="function"!=typeof n?function(){}:n,$("<button class='button alert_button'>"+_("Cancel")+"</button>").click(n).click(l).appendTo(r),s.click(n),a.click(n)),s.click(l),a.click(l),o.fadeIn(400)}function get_cookie(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)")
return e?unescape(e[2]):null}function highlightReply(t,e){var i,n,o
for(t=t.toString(),i=document.querySelectorAll("a.post_no"),o=0,n=[];o<i.length;o++)n.push(i[o])
for(n=n.filter(function(t){return t.hasAttribute("id")||(" "+t.parentElement.parentElement.className+" ").indexOf(" hidden ")>-1?!1:!0}),o=0,i=[];o<n.length;o++)i.push(n[o].innerHTML)
if(-1==i.indexOf(t))return!0
var r=e||window.event
if("undefined"!=typeof r){if(2==r.which)return!0
"thread"==active_page&&"undefined"!=typeof r.preventDefault&&r.preventDefault()}for(var s=document.getElementsByTagName("div"),o=0;o<s.length;o++)-1!=s[o].className.indexOf("post")&&(s[o].className=s[o].className.replace(/highlighted/,""))
if(t){var a=document.getElementById("reply_"+t)
if(!a)var a=document.getElementById("op_"+t)
if(a){a.className+=" highlighted",history.pushState?history.pushState(null,null,window.document.location.protocol+"//"+window.document.location.host+window.document.location.pathname+window.document.location.search+"#"+t):window.location.hash=t
var l=a.getBoundingClientRect().top,c=document.body.getBoundingClientRect().top,d=document.getElementsByClassName("boardlist")[0].getBoundingClientRect().height,h=l-c-d
window.scrollTo(0,h)}}return!0}function generatePassword(){for(var t="",e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+",i=0;8>i;i++){var n=Math.floor(Math.random()*e.length)
t+=e.substring(n,n+1)}return t}function dopost(t){if(t.elements.name&&(localStorage.name=t.elements.name.value.replace(/( |^)## .+$/,"")),t.elements.password&&(localStorage.password=t.elements.password.value),t.elements.user_flag){if(localStorage.userflags)var e=JSON.parse(localStorage.userflags)
else localStorage.userflags="{}",e={}
e[board_name]=t.elements.user_flag.value,localStorage.userflags=JSON.stringify(e)}return t.elements.email&&"sage"!=t.elements.email.value&&(localStorage.email=t.elements.email.value),saved[document.location]=t.elements.body.value,sessionStorage.body=JSON.stringify(saved),""!=t.elements.body.value||""!=t.elements.file.value||t.elements.file_url&&""!=t.elements.file_url.value}function citeReply(t,e){var i=document.getElementById("body")
if(!i)return!1
if(document.selection){i.focus()
var n=document.selection.createRange()
n.text=">>"+t+"\n"}else if(i.selectionStart||"0"==i.selectionStart){var o=i.selectionStart,r=i.selectionEnd
i.value=i.value.substring(0,o)+">>"+t+"\n"+i.value.substring(r,i.value.length),i.selectionStart+=(">>"+t).length+1,i.selectionEnd=i.selectionStart}else i.value+=">>"+t+"\n"
var s=sessionStorage.quoteClipboard
return s&&(s=s.split("\n"),s.forEach(function(t){t=""!==t?">"+t+"\n":"\n",i.value+=t}),delete sessionStorage.quoteClipboard),"undefined"!=typeof $&&($(window).trigger("cite",[t,e]),$(i).change()),!1}function rememberStuff(){if(document.forms.post){if(document.forms.post.password&&(localStorage.password||(localStorage.password=generatePassword()),document.forms.post.password.value=localStorage.password),localStorage.name&&document.forms.post.elements.name&&(document.forms.post.elements.name.value=localStorage.name),localStorage.email&&document.forms.post.elements.email&&(document.forms.post.elements.email.value=localStorage.email),localStorage.userflags&&document.forms.post.elements.user_flag){var t=JSON.parse(localStorage.userflags)
document.forms.post.elements.user_flag.value=t[board_name]}if(1==window.location.hash.indexOf("q")&&citeReply(window.location.hash.substring(2),!0),sessionStorage.body){var e=JSON.parse(sessionStorage.body)
if(get_cookie("serv")){var i=JSON.parse(get_cookie("serv"))
for(var n in i)e[n]=null
sessionStorage.body=JSON.stringify(e),document.cookie="serv={};expires=0;path=/;"}e[document.location]&&(document.forms.post.body.value=e[document.location])}localStorage.body&&(document.forms.post.body.value="",localStorage.body="")}}function init(){null!==document.querySelector('form[name="postcontrols"]')&&document.querySelector('form[name="postcontrols"]').addEventListener("mouseup",function(){sessionStorage.quoteClipboard=window.getSelection().toString()}),$(".post-table-options").css("display","none"),window.optionsShowing=!1,$(document).on("click",".show-post-table-options",function(){return window.optionsShowing?($(".show-post-table-options").html("[&#9654; "+_("Show post options &amp; limits")+"]"),$(".post-table-options").css("display","none"),window.optionsShowing=!1):($(".show-post-table-options").html("[&#9660; "+_("Hide post options &amp; limits")+"]"),$(".post-table-options").css("display","table"),window.optionsShowing=!0),!1}),document.forms.postcontrols&&document.forms.postcontrols.password&&(document.forms.postcontrols.password.value=localStorage.password),1!=window.location.hash.indexOf("q")&&window.location.hash.substring(1)&&highlightReply(window.location.hash.substring(1))}function onready(t){onready_callbacks.push(t)}function ready(){for(var t=0;t<onready_callbacks.length;t++)onready_callbacks[t]()}function redo_events(t,e){$('.captcha .captcha_text, textarea[id="body"]').off("focus").one("focus",function(){actually_load_captcha(t,e)})}function actually_load_captcha(t,e){$('.captcha .captcha_text, textarea[id="body"]').off("focus"),void 0!==tout&&clearTimeout(tout),$.getJSON(t,{mode:"get",extra:e},function(i){$(".captcha .captcha_cookie").val(i.cookie),$(".captcha .captcha_html").html(i.captchahtml),setTimeout(function(){redo_events(t,e)},1e3*i.expires_in)})}function load_captcha(t,e){$(function(){$(".captcha>td").html("<input class='captcha_text' type='text' name='captcha_text' size='25' maxlength='6' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false'><input class='captcha_cookie' name='captcha_cookie' type='hidden'><div class='captcha_html'></div>"),$("#quick-reply .captcha .captcha_text").prop("placeholder",_("Verification")),$(".captcha .captcha_html").on("click",function(){actually_load_captcha(t,e)}),$(document).on("ajax_after_post",function(){actually_load_captcha(t,e)}),redo_events(t,e),$(window).on("quick-reply",function(){redo_events(t,e),$("#quick-reply .captcha .captcha_html").html($("form:not(#quick-reply) .captcha .captcha_html").html()),$("#quick-reply .captcha .captcha_cookie").val($("form:not(#quick-reply) .captcha .captcha_cookie").html()),$("#quick-reply .captcha .captcha_html").on("click",function(){actually_load_captcha(t,e)})})})}function favorite(t){var e=JSON.parse(localStorage.favorites)
e.push(t),localStorage.favorites=JSON.stringify(e)}function unfavorite(t){var e=JSON.parse(localStorage.favorites),i=$.inArray(t,e)
~i&&e.splice(i,1),localStorage.favorites=JSON.stringify(e)}function handle_boards(t){var e=new Array
return t=JSON.parse(t),$.each(t,function(t,i){var n=""
inMod&&(n="?"),e.push('<a href="'+n+"/"+i+("catalog"===window.active_page?"/catalog.html":"")+'">'+i+"</a>")}),e[0]?$('<span class="favorite-boards"></span>').append(" [ "+e.join(" / ")+" ] "):$('<span class="favorite-boards"></span>')}function add_favorites(){$(".favorite-boards").remove()
var t=handle_boards(localStorage.favorites)
$(".boardlist").append(t)}function setting(t){return localStorage?void 0===localStorage[t]?defaultSettings[t]:JSON.parse(localStorage[t]):void 0===tempSettings[t]?defaultSettings[t]:tempSettings[t]}function changeSetting(t,e){localStorage?localStorage[t]=JSON.stringify(e):tempSettings[t]=e}function refreshSettings(){for(var t=settingsMenu.getElementsByTagName("input"),e=0;e<t.length;e++){var i=t[e]
"checkbox"==i.type?i.checked=setting(i.name):"range"==i.type&&(i.value=setting(i.name))}}function setupControl(t){t.addEventListener&&t.addEventListener("change",function(){"checkbox"==t.type?changeSetting(t.name,t.checked):"range"==t.type&&changeSetting(t.name,t.value)},!1)}function setupVideo(t,e){function i(){d&&(d=!1,c.pause&&c.pause(),a.style.display="none",t.style.display="inline",c.style.maxWidth="inherit",c.style.maxHeight="inherit")}function n(){h&&(h=!1,c.pause&&c.pause(),a.style.display="none",c.style.maxWidth="inherit",c.style.maxHeight="inherit")}function o(){null==c&&(c=document.createElement("video"),c.src=e,c.loop=p,c.innerText=_("Your browser does not support HTML5 video."),l=document.createElement("img"),l.src=configRoot+"static/collapse.gif",l.alt="[ - ]",l.title="Collapse video",l.style.marginLeft="-15px",l.style.cssFloat="left",l.addEventListener("click",i,!1),a=document.createElement("div"),a.style.paddingLeft="15px",a.style.display="none",a.appendChild(l),a.appendChild(c),t.parentNode.insertBefore(a,t.nextSibling),c.addEventListener("mousedown",function(t){0==t.button&&(g=!0)},!1),c.addEventListener("mouseup",function(t){0==t.button&&(g=!1)},!1),c.addEventListener("mouseenter",function(){g=!1},!1),c.addEventListener("mouseout",function(t){g&&t.clientX-c.getBoundingClientRect().left<=0&&i(),g=!1},!1))}function r(){c.style.maxWidth="100%",c.style.maxHeight=window.innerHeight+"px"
var t=c.getBoundingClientRect().bottom
t>window.innerHeight&&window.scrollBy(0,t-window.innerHeight),c.volume=Math.max(setting("videovolume")-.001,0),c.volume=setting("videovolume")}function s(e){u[e].addEventListener("click",function(){p=0!=e,t.href=t.href.replace(/([\?&])loop=\d+/,"$1loop="+e),null!=c&&(c.loop=p,p&&c.currentTime>=c.duration&&(c.currentTime=0)),u[e].style.fontWeight="bold",u[1-e].style.fontWeight="inherit"},!1)}if(!t.videoAlreadySetUp){t.videoAlreadySetUp=!0
var a,l,c=null,d=!1,h=!1,p=setting("videoloop"),u=[document.createElement("span"),document.createElement("span")],f=t.parentNode.querySelector(".fileinfo"),g=!1
t.addEventListener("click",function(e){!setting("videoexpand")||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||(o(),d=!0,h=!1,c.style.position="static",c.style.pointerEvents="inherit",c.style.display="inline",l.style.display="inline",a.style.display="block",a.style.position="static",c.parentNode.parentNode.removeAttribute("style"),t.style.display="none",c.muted=0==setting("videovolume"),c.volume=setting("videovolume"),c.controls=!0,0==c.readyState?c.addEventListener("loadedmetadata",r,!1):setTimeout(r,0),c.play(),e.preventDefault())},!1),t.addEventListener("mouseover",function(){if(setting("videohover")){o(),d=!1,h=!0
var e=document.documentElement.getBoundingClientRect().right,i=t.querySelector("img, video").getBoundingClientRect().right,n=e-i-20
250>n&&(n=250),c.style.position="fixed",c.style.right="0px",c.style.top="0px"
var e=document.documentElement.getBoundingClientRect().right,i=t.querySelector("img, video").getBoundingClientRect().right
c.style.maxWidth=n+"px",c.style.maxHeight="100%",c.style.pointerEvents="none",c.style.display="inline",l.style.display="none",a.style.display="inline",a.style.position="fixed",c.muted=0==setting("videovolume"),c.volume=setting("videovolume"),c.controls=!1,c.play()}},!1),t.addEventListener("mouseout",n,!1),t.addEventListener("wheel",function(t){if(setting("videohover")){var e=setting("videovolume")
t.deltaY>0&&(e-=.1),t.deltaY<0&&(e+=.1),0>e&&(e=0),e>1&&(e=1),null!=c&&(c.muted=0==e,c.volume=e),changeSetting("videovolume",e),t.preventDefault()}},!1),u[0].textContent=_("[play once]"),u[1].textContent=_("[loop]"),u[setting("videoloop")?1:0].style.fontWeight="bold"
for(var m=0;2>m;m++)s(m),u[m].style.whiteSpace="nowrap",f.appendChild(document.createTextNode(" ")),f.appendChild(u[m])}}function setupVideosIn(t){for(var e=t.querySelectorAll("a.file"),i=0;i<e.length;i++)if(/(\.webm)|(\.mp4)$/.test(e[i].pathname))setupVideo(e[i],e[i].href)
else{var n=e[i].search.match(/\bv=([^&]*)/)
if(null!=n){var o=decodeURIComponent(n[1]);/(\.webm)|(\.mp4)$/.test(o)&&setupVideo(e[i],o)}}}function makeIcon(t){var e=$("link[rel='shortcut icon']")
if(!e.length)var e=$('<link rel="shortcut icon"></link>').appendTo("head")
$("link[rel='shortcut icon']").attr("href",configRoot+"static/favicon"+(t?"-"+t:"")+".ico")}function filter_hide_images_vt(){var t=localStorage.hideimages?!0:!1
if(t){$(".goto_thread_catalog").removeClass("hidden")
var e=function(){"true"==$(this).parent().data("expanded")&&$(this).parent().click(),$(this).attr("data-orig",this.src).attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==").addClass("hidden")}
$("img.post-image, .theme-catalog .thread>a>img").each(e)}else{$(".goto_thread_catalog").addClass("hidden")
var i=function(){$(this).attr("src",$(this).attr("data-orig")).removeClass("hidden")}
$("img.post-image, .theme-catalog .thread>a>img").each(i)}}function getSetting(t){return"true"==localStorage[t]}function isOnCatalog(){return"catalog"===window.active_page}function isOnThread(){return"thread"===window.active_page}function getFileExtension(t){return null!==t.match(/\.([a-z0-9]+)(&loop.*)?$/i)?t.match(/\.([a-z0-9]+)(&loop.*)?$/i)[1]:t.match(/https?:\/\/(www\.)?youtube.com/)?"Youtube":"unknown: "+t}function isImage(t){return-1!==$.inArray(t,["jpg","jpeg","gif","png"])}function isVideo(t){return-1!==$.inArray(t,["webm","mp4"])}function imageHoverStart(t){var e=$("#chx_hoverImage")
if(e.length){if(getSetting("imageHoverFollowCursor")){var i=$(window).scrollTop(),n=t.pageY,o=n,r=$(window).width(),s=e.width()+t.pageX
i+15>n?o=i:n>i+$(window).height()-e.height()-15&&(o=i+$(window).height()-e.height()-15),e.css(s>r?{left:t.pageX+(r-s),top:o}:{left:t.pageX,top:o}),e.appendTo($("body"))}}else{var a,l=$(this),c=!1
if(l.attr("src").match("/static|img.youtube.com/")?c=!0:l.parent().attr("href").match("/src|file_store/")?a=l.parent().attr("href"):isOnCatalog()&&(a=l.attr("data-fullimage"),isImage(getFileExtension(a))||(a=l.attr("src"))),!c){if(isVideo(getFileExtension(a)))return
if(e=$('<img id="chx_hoverImage" src="'+a+'" />'),getSetting("imageHoverFollowCursor")){if("catalog"==active_page)var d=l.parents(".thread.grid-li").find(".img_dimension")
else var d=l.parents(".file").find(".unimportant")
var h=d.text().match(/\b(\d+)x(\d+)\b/),p=$(window).width(),u=$(window).height(),f=Math.min(1,p/h[1],u/h[2])
e.css({position:"absolute","z-index":101,"pointer-events":"none",width:h[1]+"px",height:h[2]+"px","max-width":h[1]*f+"px","max-height":h[2]*f+"px",left:t.pageX,top:o})}else e.css({position:"fixed",top:0,right:0,"z-index":101,"pointer-events":"none","max-width":"100%","max-height":"100%"})
e.appendTo($("body")),isOnThread()&&l.css("cursor","none")}}}function imageHoverEnd(){$("#chx_hoverImage").remove()}function initImageHover(){function t(t){$(t).find(e.join(", ")).each(function(){if(!$(this).parent().data("expanded")){var t=$(this)
t.on("mousemove",imageHoverStart),t.on("mouseout",imageHoverEnd),t.on("click",imageHoverEnd)}})}if(getSetting("imageHover")||getSetting("catalogImageHover")){var e=[]
getSetting("imageHover")&&e.push("img.post-image","canvas.post-image"),getSetting("catalogImageHover")&&isOnCatalog()&&(e.push(".thread-image"),$(".theme-catalog div.thread").css("position","inherit")),t(document.body),$(document).on("new_post",function(e,i){t(i)})}}function getList(){return JSON.parse(localStorage.postFilter)}function removeHiddenThread(){var t=getList(),e=window.location.href,i=e.split("/"),n=i[i.length-2],o=t.postFilter[n],r=$(".mix")
$.isEmptyObject(o)||$.each(o,function(t,e){var i=t
$.each(e,function(){this.post==i&&r.filter("[data-id="+i+"]").remove()})})}function init_file_selector(t){function e(e){r.length!=t&&(r.push(e),o(e))}function i(t){r.splice(r.indexOf(t),1)}function n(t){return $(".tmb-container").filter(function(){return $(this).data("file-ref")==t})}function o(t){var e=t.name.length<24?t.name:t.name.substr(0,22)+"…",i=t.type.split("/")[0],n=t.type.split("/")[1],o=$("<div>").addClass("tmb-container").data("file-ref",t).append($("<div>").addClass("remove-btn").html("✖"),$("<div>").addClass("file-tmb"),$("<div>").addClass("tmb-filename").html(e)).appendTo(".file-thumbs"),r=o.find(".file-tmb")
if("image"==i){var s=window.URL.createObjectURL(t)
r.css("background-image","url("+s+")")}else r.html("<span>"+n.toUpperCase()+"</span>")}if($(document).ready(function(){window.Options&&Options.get_tab("general")&&(Options.extend_tab("general",'<label id="file-drag-drop"><input type="checkbox">'+_("Drag and drop file selection")+"</label>"),$("#file-drag-drop>input").on("click",function(){localStorage.file_dragdrop=$("#file-drag-drop>input").is(":checked")?"true":"false"}),"undefined"==typeof localStorage.file_dragdrop&&(localStorage.file_dragdrop="true"),"true"===localStorage.file_dragdrop&&$("#file-drag-drop>input").prop("checked",!0))}),"false"!=localStorage.file_dragdrop&&window.URL.createObjectURL&&window.File){if("undefined"==typeof t)var t=1
var r=[]
$("#upload_file").hide(),$(".dropzone-wrap").css("user-select","none").show(),$(document).on("ajax_before_post",function(e,i){for(var n=0;t>n;n++){var o="file"
n>0&&(o+=n+1),i.append(o,r[n])}}),$(document).on("ajax_after_post",function(){r=[],$(".file-thumbs").empty(),"true"===localStorage.auto_clear_post_fields&&($('form[name="post"]').trigger("reset"),localStorage.email="",localStorage.name="",sessionStorage.body="")})
var s=0,a={dragenter:function(t){t.stopPropagation(),t.preventDefault(),0===s&&$(this).addClass("dragover"),s++},dragover:function(t){t.stopPropagation(),t.preventDefault()},dragleave:function(t){t.stopPropagation(),t.preventDefault(),s--,0===s&&$(this).removeClass("dragover")},drop:function(t){t.stopPropagation(),t.preventDefault(),$(this).removeClass("dragover"),s=0
for(var i=t.originalEvent.dataTransfer.files,n=0;n<i.length;n++)e(i[n])}}
$(document).on(a,".dropzone"),$(document).on("click",".dropzone .remove-btn",function(t){t.stopPropagation()
var e=$(t.target).parent().data("file-ref")
n(e).remove(),i(e)}),$(document).on("keypress click",".dropzone",function(t){if(t.stopPropagation(),1==t.which&&"file-hint"==t.target.className||13==t.which){var i=$('<input type="file" multiple>')
i.on("change",function(){if(this.files.length>0)for(var t=0;t<this.files.length;t++)e(this.files[t])
$(this).remove()}),i.click()}}),$(document).on("paste",function(t){var i=t.originalEvent.clipboardData
if("undefined"!=typeof i.items&&0!=i.items.length)for(var n=0;n<i.items.length;n++)if("file"==i.items[n].kind){var o=new File([i.items[n].getAsFile()],"ClipboardImage.png",{type:"image/png"})
e(o)}})}}function timeSince(t){var e=Math.floor((new Date).getTime()/1e3)-t,i=Math.floor(e/31536e3)
return i>1?i+" year/s ago":(i=e/2592e3,i>1?Math.floor(i)+" month/s ago":(i=e/86400,i>1?Math.floor(i)+" day/s ago":(i=e/3600,i>1?Math.floor(i)+" hour/s ago":(i=e/60,i>1?Math.floor(i)+" minute/s ago":Math.floor(e)+" seconds ago"))))}var datelocale={days:[_("Sunday"),_("Monday"),_("Tuesday"),_("Wednesday"),_("Thursday"),_("Friday"),_("Saturday")],shortDays:[_("Sun"),_("Mon"),_("Tue"),_("Wed"),_("Thu"),_("Fri"),_("Sat")],months:[_("January"),_("February"),_("March"),_("April"),_("May"),_("June"),_("July"),_("August"),_("September"),_("October"),_("November"),_("December")],shortMonths:[_("Jan"),_("Feb"),_("Mar"),_("Apr"),_("May"),_("Jun"),_("Jul"),_("Aug"),_("Sep"),_("Oct"),_("Nov"),_("Dec")],AM:_("AM"),PM:_("PM"),am:_("am"),pm:_("pm")},saved={}
if("undefined"==typeof board_name)var matches=document.URL.match(/\/([0-9a-zA-Z\+$_\u0080-\uFFFF]{1,58})\/($|res\/\d+\.html|index\.html|res\/\d+\+50\.html|\d+\.html|catalog\.html)/),board_name=matches?matches[1]:!1
var script_settings=function(t){this.script_name=t,this.get=function(t,e){return"undefined"==typeof tb_settings||"undefined"==typeof tb_settings[this.script_name]||"undefined"==typeof tb_settings[this.script_name][t]?e:tb_settings[this.script_name][t]}},RecaptchaOptions={theme:"clean"}
onready_callbacks=[]
var post_date="%m/%d/%y (%a) %H:%M:%S"
"undefined"==typeof active_page&&(active_page="page"),!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document")
return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=Z.type(t)
return"function"===i||Z.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(Z.isFunction(e))return Z.grep(t,function(t,n){return!!e.call(t,n,t)!==i})
if(e.nodeType)return Z.grep(t,function(t){return t===e!==i})
if("string"==typeof e){if(ae.test(e))return Z.filter(e,t,i)
e=Z.filter(e,t)}return Z.grep(t,function(t){return X.call(e,t)>=0!==i})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e=fe[t]={}
return Z.each(t.match(ue)||[],function(t,i){e[i]=!0}),e}function s(){Q.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+Math.random()}function l(t,e,i){var n
if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(_e,"-$1").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:be.test(i)?Z.parseJSON(i):i}catch(o){}ye.set(t,e,i)}else i=void 0
return i}function c(){return!0}function d(){return!1}function h(){try{return Q.activeElement}catch(t){}}function p(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function u(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=Re.exec(t.type)
return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i=0,n=t.length;n>i;i++)ve.set(t[i],"globalEval",!e||ve.get(e[i],"globalEval"))}function m(t,e){var i,n,o,r,s,a,l,c
if(1===e.nodeType){if(ve.hasData(t)&&(r=ve.access(t),s=ve.set(e,r),c=r.events)){delete s.handle,s.events={}
for(o in c)for(i=0,n=c[o].length;n>i;i++)Z.event.add(e,o,c[o][i])}ye.hasData(t)&&(a=ye.access(t),l=Z.extend({},a),ye.set(e,l))}}function v(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[]
return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],i):i}function y(t,e){var i=e.nodeName.toLowerCase()
"input"===i&&ke.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function b(e,i){var n,o=Z(i.createElement(e)).appendTo(i.body),r=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(o[0]))?n.display:Z.css(o[0],"display")
return o.detach(),r}function _(t){var e=Q,i=Fe[t]
return i||(i=b(t,e),"none"!==i&&i||(ze=(ze||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=ze[0].contentDocument,e.write(),e.close(),i=b(t,e),ze.detach()),Fe[t]=i),i}function w(t,e,i){var n,o,r,s,a=t.style
return i=i||We(t),i&&(s=i.getPropertyValue(e)||i[e]),i&&(""!==s||Z.contains(t.ownerDocument,t)||(s=Z.style(t,e)),je.test(s)&&Be.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function x(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function $(t,e){if(e in t)return e
for(var i=e[0].toUpperCase()+e.slice(1),n=e,o=Je.length;o--;)if(e=Je[o]+i,e in t)return e
return n}function k(t,e,i){var n=Ue.exec(e)
return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function S(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===i&&(s+=Z.css(t,i+xe[r],!0,o)),n?("content"===i&&(s-=Z.css(t,"padding"+xe[r],!0,o)),"margin"!==i&&(s-=Z.css(t,"border"+xe[r]+"Width",!0,o))):(s+=Z.css(t,"padding"+xe[r],!0,o),"padding"!==i&&(s+=Z.css(t,"border"+xe[r]+"Width",!0,o)))
return s}function C(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=We(t),s="border-box"===Z.css(t,"boxSizing",!1,r)
if(0>=o||null==o){if(o=w(t,e,r),(0>o||null==o)&&(o=t.style[e]),je.test(o))return o
n=s&&(G.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+S(t,e,i||(s?"border":"content"),n,r)+"px"}function T(t,e){for(var i,n,o,r=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(r[s]=ve.get(n,"olddisplay"),i=n.style.display,e?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&$e(n)&&(r[s]=ve.access(n,"olddisplay",_(n.nodeName)))):(o=$e(n),"none"===i&&o||ve.set(n,"olddisplay",o?i:Z.css(n,"display"))))
for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[s]||"":"none"))
return t}function P(t,e,i,n,o){return new P.prototype.init(t,e,i,n,o)}function E(){return setTimeout(function(){Ge=void 0}),Ge=Z.now()}function I(t,e){var i,n=0,o={height:t}
for(e=e?1:0;4>n;n+=2-e)i=xe[n],o["margin"+i]=o["padding"+i]=t
return e&&(o.opacity=o.width=t),o}function A(t,e,i){for(var n,o=(ii[e]||[]).concat(ii["*"]),r=0,s=o.length;s>r;r++)if(n=o[r].call(i,e,t))return n}function N(t,e,i){var n,o,r,s,a,l,c,d,h=this,p={},u=t.style,f=t.nodeType&&$e(t),g=ve.get(t,"fxshow")
i.queue||(a=Z._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Z.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],c=Z.css(t,"display"),d="none"===c?ve.get(t,"olddisplay")||_(t.nodeName):c,"inline"===d&&"none"===Z.css(t,"float")&&(u.display="inline-block")),i.overflow&&(u.overflow="hidden",h.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}))
for(n in e)if(o=e[n],Ke.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue
f=!0}p[n]=g&&g[n]||Z.style(t,n)}else c=void 0
if(Z.isEmptyObject(p))"inline"===("none"===c?_(t.nodeName):c)&&(u.display=c)
else{g?"hidden"in g&&(f=g.hidden):g=ve.access(t,"fxshow",{}),r&&(g.hidden=!f),f?Z(t).show():h.done(function(){Z(t).hide()}),h.done(function(){var e
ve.remove(t,"fxshow")
for(e in p)Z.style(t,e,p[e])})
for(n in p)s=A(f?g[n]:0,n,h),n in g||(g[n]=s.start,f&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function O(t,e){var i,n,o,r,s
for(i in t)if(n=Z.camelCase(i),o=e[n],r=t[i],Z.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),s=Z.cssHooks[n],s&&"expand"in s){r=s.expand(r),delete t[n]
for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function D(t,e,i){var n,o,r=0,s=ei.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1
for(var e=Ge||E(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,r=1-n,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(r)
return a.notifyWith(t,[c,r,i]),1>r&&l?i:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Ge||E(),duration:i.duration,tweens:[],createTween:function(e,i){var n=Z.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing)
return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0
if(o)return this
for(o=!0;n>i;i++)c.tweens[i].run(1)
return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),d=c.props
for(O(d,c.opts.specialEasing);s>r;r++)if(n=ei[r].call(c,t,d,c.opts))return n
return Z.map(d,A,c),Z.isFunction(c.opts.start)&&c.opts.start.call(t,c),Z.fx.timer(Z.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function M(t){return function(e,i){"string"!=typeof e&&(i=e,e="*")
var n,o=0,r=e.toLowerCase().match(ue)||[]
if(Z.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function R(t,e,i,n){function o(a){var l
return r[a]=!0,Z.each(t[a]||[],function(t,a){var c=a(e,i,n)
return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},s=t===wi
return o(e.dataTypes[0])||!r["*"]&&o("*")}function L(t,e){var i,n,o=Z.ajaxSettings.flatOptions||{}
for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i])
return n&&Z.extend(!0,t,n),t}function H(t,e,i){for(var n,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"))
if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o)
break}if(l[0]in i)r=l[0]
else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o
break}s||(s=o)}r=r||s}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function z(t,e,i,n){var o,r,s,a,l,c={},d=t.dataTypes.slice()
if(d[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s]
for(r=d.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=d.shift())if("*"===r)r=l
else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(r=a[0],d.unshift(a[1]))
break}if(s!==!0)if(s&&t["throws"])e=s(e)
else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function F(t,e,i,n){var o
if(Z.isArray(e))Z.each(e,function(e,o){i||Si.test(t)?n(t,o):F(t+"["+("object"==typeof o?e:"")+"]",o,i,n)})
else if(i||"object"!==Z.type(e))n(t,e)
else for(o in e)F(t+"["+o+"]",e[o],i,n)}function B(t){return Z.isWindow(t)?t:9===t.nodeType&&t.defaultView}var j=[],W=j.slice,q=j.concat,U=j.push,X=j.indexOf,V={},Y=V.toString,J=V.hasOwnProperty,G={},Q=t.document,K="2.1.1",Z=function(t,e){return new Z.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ie=/-([\da-z])/gi,ne=function(t,e){return e.toUpperCase()}
Z.fn=Z.prototype={jquery:K,constructor:Z,selector:"",length:0,toArray:function(){return W.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:W.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t)
return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(t){return this.pushStack(Z.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0)
return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:j.sort,splice:j.splice},Z.extend=Z.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1
for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(c&&n&&(Z.isPlainObject(n)||(o=Z.isArray(n)))?(o?(o=!1,r=i&&Z.isArray(i)?i:[]):r=i&&Z.isPlainObject(i)?i:{},s[e]=Z.extend(c,r,n)):void 0!==n&&(s[e]=n))
return s},Z.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Z.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return"object"!==Z.type(t)||t.nodeType||Z.isWindow(t)?!1:t.constructor&&!J.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e
for(e in t)return!1
return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?V[Y.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval
t=Z.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ie,ne)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o,r=0,s=t.length,a=i(t)
if(n){if(a)for(;s>r&&(o=e.apply(t[r],n),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],n),o===!1)break}else if(a)for(;s>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break
return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var n=e||[]
return null!=t&&(i(Object(t))?Z.merge(n,"string"==typeof t?[t]:t):U.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:X.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;i>n;n++)t[o++]=e[n]
return t.length=o,t},grep:function(t,e,i){for(var n,o=[],r=0,s=t.length,a=!i;s>r;r++)n=!e(t[r],r),n!==a&&o.push(t[r])
return o},map:function(t,e,n){var o,r=0,s=t.length,a=i(t),l=[]
if(a)for(;s>r;r++)o=e(t[r],r,n),null!=o&&l.push(o)
else for(r in t)o=e(t[r],r,n),null!=o&&l.push(o)
return q.apply([],l)},guid:1,proxy:function(t,e){var i,n,o
return"string"==typeof e&&(i=t[e],e=t,t=i),Z.isFunction(t)?(n=W.call(arguments,2),o=function(){return t.apply(e||this,n.concat(W.call(arguments)))},o.guid=t.guid=t.guid||Z.guid++,o):void 0},now:Date.now,support:G}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){V["[object "+e+"]"]=e.toLowerCase()})
var oe=function(t){function e(t,e,i,n){var o,r,s,a,l,c,h,u,f,g
if((e?e.ownerDocument||e:F)!==N&&A(e),e=e||N,i=i||[],!t||"string"!=typeof t)return i
if(1!==(a=e.nodeType)&&9!==a)return[]
if(D&&!n){if(o=ye.exec(t))if(s=o[1]){if(9===a){if(r=e.getElementById(s),!r||!r.parentNode)return i
if(r.id===s)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&H(e,r)&&r.id===s)return i.push(r),i}else{if(o[2])return Z.apply(i,e.getElementsByTagName(t)),i
if((s=o[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(s)),i}if(w.qsa&&(!M||!M.test(t))){if(u=h=z,f=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=S(t),(h=e.getAttribute("id"))?u=h.replace(_e,"\\$&"):e.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+p(c[l])
f=be.test(t)&&d(e.parentNode)||e,g=c.join(",")}if(g)try{return Z.apply(i,f.querySelectorAll(g)),i}catch(m){}finally{h||e.removeAttribute("id")}}}return T(t.replace(le,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[]
return t}function n(t){return t[z]=!0,t}function o(t){var e=N.createElement("div")
try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=t.length;n--;)x.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y)
if(n)return n
if(i)for(;i=i.nextSibling;)if(i===e)return-1
return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase()
return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase()
return("input"===i||"button"===i)&&e.type===t}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function d(t){return t&&typeof t.getElementsByTagName!==V&&t}function h(){}function p(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value
return n}function u(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=j++
return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,s){var a,l,c=[B,r]
if(s){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(l=e[z]||(e[z]={}),(a=l[n])&&a[0]===B&&a[1]===r)return c[2]=a[2]
if(l[n]=c,c[2]=t(e,i,s))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1
return!0}:t[0]}function g(t,i,n){for(var o=0,r=i.length;r>o;o++)e(t,i[o],n)
return n}function m(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(r=t[a])&&(!i||i(r,n,o))&&(s.push(r),c&&e.push(a))
return s}function v(t,e,i,o,r,s){return o&&!o[z]&&(o=v(o)),r&&!r[z]&&(r=v(r,s)),n(function(n,s,a,l){var c,d,h,p=[],u=[],f=s.length,v=n||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:m(v,p,t,a,l),b=i?r||(n?t:f||o)?[]:s:y
if(i&&i(y,b,a,l),o)for(c=m(b,u),o(c,[],a,l),d=c.length;d--;)(h=c[d])&&(b[u[d]]=!(y[u[d]]=h))
if(n){if(r||t){if(r){for(c=[],d=b.length;d--;)(h=b[d])&&c.push(y[d]=h)
r(null,b=[],c,l)}for(d=b.length;d--;)(h=b[d])&&(c=r?ee.call(n,h):p[d])>-1&&(n[c]=!(s[c]=h))}}else b=m(b===s?b.splice(f,b.length):b),r?r(null,s,b,l):Z.apply(s,b)})}function y(t){for(var e,i,n,o=t.length,r=x.relative[t[0].type],s=r||x.relative[" "],a=r?1:0,l=u(function(t){return t===e},s,!0),c=u(function(t){return ee.call(e,t)>-1},s,!0),d=[function(t,i,n){return!r&&(n||i!==P)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];o>a;a++)if(i=x.relative[t[a].type])d=[u(f(d),i)]
else{if(i=x.filter[t[a].type].apply(null,t[a].matches),i[z]){for(n=++a;o>n&&!x.relative[t[n].type];n++);return v(a>1&&f(d),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(le,"$1"),i,n>a&&y(t.slice(a,n)),o>n&&y(t=t.slice(n)),o>n&&p(t))}d.push(i)}return f(d)}function b(t,i){var o=i.length>0,r=t.length>0,s=function(n,s,a,l,c){var d,h,p,u=0,f="0",g=n&&[],v=[],y=P,b=n||r&&x.find.TAG("*",c),_=B+=null==y?1:Math.random()||.1,w=b.length
for(c&&(P=s!==N&&s);f!==w&&null!=(d=b[f]);f++){if(r&&d){for(h=0;p=t[h++];)if(p(d,s,a)){l.push(d)
break}c&&(B=_)}o&&((d=!p&&d)&&u--,n&&g.push(d))}if(u+=f,o&&f!==u){for(h=0;p=i[h++];)p(g,v,s,a)
if(n){if(u>0)for(;f--;)g[f]||v[f]||(v[f]=Q.call(l))
v=m(v)}Z.apply(l,v),c&&!n&&v.length>0&&u+i.length>1&&e.uniqueSort(l)}return c&&(B=_,P=y),g}
return o?n(s):s}var _,w,x,$,k,S,C,T,P,E,I,A,N,O,D,M,R,L,H,z="sizzle"+-new Date,F=t.document,B=0,j=0,W=i(),q=i(),U=i(),X=function(t,e){return t===e&&(I=!0),0},V="undefined",Y=1<<31,J={}.hasOwnProperty,G=[],Q=G.pop,K=G.push,Z=G.push,te=G.slice,ee=G.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e
return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=oe.replace("w","w#"),se="\\["+ne+"*("+oe+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+oe+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),de=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(ae),ue=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+oe+")"),CLASS:new RegExp("^\\.("+oe+")"),TAG:new RegExp("^("+oe.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(t,e,i){var n="0x"+e-65536
return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)}
try{Z.apply(G=te.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch($e){Z={apply:G.length?function(t,e){K.apply(t,te.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement
return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,i=t?t.ownerDocument||t:F,n=i.defaultView
return i!==N&&9===i.nodeType&&i.documentElement?(N=i,O=i.documentElement,D=!k(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){A()},!1):n.attachEvent&&n.attachEvent("onunload",function(){A()})),w.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(i.getElementsByClassName)&&o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),w.getById=o(function(t){return O.appendChild(t).id=z,!i.getElementsByName||!i.getElementsByName(z).length}),w.getById?(x.find.ID=function(t,e){if(typeof e.getElementById!==V&&D){var i=e.getElementById(t)
return i&&i.parentNode?[i]:[]}},x.filter.ID=function(t){var e=t.replace(we,xe)
return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(we,xe)
return function(t){var i=typeof t.getAttributeNode!==V&&t.getAttributeNode("id")
return i&&i.value===e}}),x.find.TAG=w.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==V?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t)
if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i)
return n}return r},x.find.CLASS=w.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==V&&D?e.getElementsByClassName(t):void 0},R=[],M=[],(w.qsa=ve.test(i.querySelectorAll))&&(o(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||M.push(":checked")}),o(function(t){var e=i.createElement("input")
e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ve.test(L=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(t){w.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),R.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),R=R.length&&new RegExp(R.join("|")),e=ve.test(O.compareDocumentPosition),H=e||ve.test(O.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode
return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0
return!1},X=e?function(t,e){if(t===e)return I=!0,0
var n=!t.compareDocumentPosition-!e.compareDocumentPosition
return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===F&&H(F,t)?-1:e===i||e.ownerDocument===F&&H(F,e)?1:E?ee.call(E,t)-ee.call(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return I=!0,0
var n,o=0,r=t.parentNode,a=e.parentNode,l=[t],c=[e]
if(!r||!a)return t===i?-1:e===i?1:r?-1:a?1:E?ee.call(E,t)-ee.call(E,e):0
if(r===a)return s(t,e)
for(n=t;n=n.parentNode;)l.unshift(n)
for(n=e;n=n.parentNode;)c.unshift(n)
for(;l[o]===c[o];)o++
return o?s(l[o],c[o]):l[o]===F?-1:c[o]===F?1:0},i):N},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==N&&A(t),i=i.replace(he,"='$1']"),!(!w.matchesSelector||!D||R&&R.test(i)||M&&M.test(i)))try{var n=L.call(t,i)
if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&A(t),H(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&A(t)
var i=x.attrHandle[e.toLowerCase()],n=i&&J.call(x.attrHandle,e.toLowerCase())?i(t,e,!D):void 0
return void 0!==n?n:w.attributes||!D?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0
if(I=!w.detectDuplicates,E=!w.sortStable&&t.slice(0),t.sort(X),I){for(;e=t[o++];)e===t[o]&&(n=i.push(o))
for(;n--;)t.splice(i[n],1)}return E=null,t},$=e.getText=function(t){var e,i="",n=0,o=t.nodeType
if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent
for(t=t.firstChild;t;t=t.nextSibling)i+=$(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=$(e)
return i},x=e.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,xe),t[3]=(t[3]||t[4]||t[5]||"").replace(we,xe),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2]
return fe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&pe.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,xe).toLowerCase()
return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "]
return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==V&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t)
return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e
return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,d,h,p,u,f,g=r!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a
if(m){if(r){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1
f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(d=m[z]||(m[z]={}),c=d[t]||[],u=c[0]===B&&c[1],p=c[0]===B&&c[2],h=u&&m.childNodes[u];h=++u&&h&&h[g]||(p=u=0)||f.pop();)if(1===h.nodeType&&++p&&h===e){d[t]=[B,u,p]
break}}else if(y&&(c=(e[z]||(e[z]={}))[t])&&c[0]===B)p=c[1]
else for(;(h=++u&&h&&h[g]||(p=u=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++p||(y&&((h[z]||(h[z]={}))[t]=[B,p]),h!==e)););return p-=o,p===n||p%n===0&&p/n>=0}}},PSEUDO:function(t,i){var o,r=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t)
return r[z]?r(i):r.length>1?(o=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),s=o.length;s--;)n=ee.call(t,o[s]),t[n]=!(e[n]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=C(t.replace(le,"$1"))
return o[z]?n(function(t,e,i,n){for(var r,s=o(t,null,n,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return function(e){return(e.textContent||e.innerText||$(e)).indexOf(t)>-1}}),lang:n(function(t){return ue.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(we,xe).toLowerCase(),function(e){var i
do if(i=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-")
while((e=e.parentNode)&&1===e.nodeType)
return!1}}),target:function(e){var i=t.location&&t.location.hash
return i&&i.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase()
return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1
return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase()
return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e
return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[0>i?i+e:i]}),even:c(function(t,e){for(var i=0;e>i;i+=2)t.push(i)
return t}),odd:c(function(t,e){for(var i=1;e>i;i+=2)t.push(i)
return t}),lt:c(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n)
return t}),gt:c(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n)
return t})}},x.pseudos.nth=x.pseudos.eq
for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=a(_)
for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_)
return h.prototype=x.filters=x.pseudos,x.setFilters=new h,S=e.tokenize=function(t,i){var n,o,r,s,a,l,c,d=q[t+" "]
if(d)return i?0:d.slice(0)
for(a=t,l=[],c=x.preFilter;a;){(!n||(o=ce.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=de.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(le," ")}),a=a.slice(n.length))
for(s in x.filter)!(o=fe[s].exec(a))||c[s]&&!(o=c[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length))
if(!n)break}return i?a.length:a?e.error(t):q(t,l).slice(0)},C=e.compile=function(t,e){var i,n=[],o=[],r=U[t+" "]
if(!r){for(e||(e=S(t)),i=e.length;i--;)r=y(e[i]),r[z]?n.push(r):o.push(r)
r=U(t,b(o,n)),r.selector=t}return r},T=e.select=function(t,e,i,n){var o,r,s,a,l,c="function"==typeof t&&t,h=!n&&S(t=c.selector||t)
if(i=i||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&w.getById&&9===e.nodeType&&D&&x.relative[r[1].type]){if(e=(x.find.ID(s.matches[0].replace(we,xe),e)||[])[0],!e)return i
c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=fe.needsContext.test(t)?0:r.length;o--&&(s=r[o],!x.relative[a=s.type]);)if((l=x.find[a])&&(n=l(s.matches[0].replace(we,xe),be.test(r[0].type)&&d(e.parentNode)||e))){if(r.splice(o,1),t=n.length&&p(r),!t)return Z.apply(i,n),i
break}}return(c||C(t,h))(n,e,!D,i,be.test(t)&&d(e.parentNode)||e),i},w.sortStable=z.split("").sort(X).join("")===z,w.detectDuplicates=!!I,A(),w.sortDetached=o(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(ie,function(t,e,i){var n
return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t)
Z.find=oe,Z.expr=oe.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=oe.uniqueSort,Z.text=oe.getText,Z.isXMLDoc=oe.isXML,Z.contains=oe.contains
var re=Z.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/
Z.filter=function(t,e,i){var n=e[0]
return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?Z.find.matchesSelector(n,t)?[n]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,i=this.length,n=[],o=this
if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){for(e=0;i>e;e++)if(Z.contains(o[e],this))return!0}))
for(e=0;i>e;e++)Z.find(t,o[e],n)
return n=this.pushStack(i>1?Z.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&re.test(t)?Z(t):t||[],!1).length}})
var le,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,de=Z.fn.init=function(t,e){var i,n
if(!t)return this
if("string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ce.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||le).find(t):this.constructor(e).find(t)
if(i[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),se.test(i[1])&&Z.isPlainObject(e))for(i in e)Z.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i])
return this}return n=Q.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?"undefined"!=typeof le.ready?le.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))}
de.prototype=Z.fn,le=Z(Q)
var he=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0}
Z.extend({dir:function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&Z(t).is(i))break
n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t)
return i}}),Z.fn.extend({has:function(t){var e=Z(t,this),i=e.length
return this.filter(function(){for(var t=0;i>t;t++)if(Z.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],s=re.test(t)||"string"!=typeof t?Z(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&Z.find.matchesSelector(i,t))){r.push(i)
break}return this.pushStack(r.length>1?Z.unique(r):r)},index:function(t){return t?"string"==typeof t?X.call(Z(t),this[0]):X.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode
return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Z.dir(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Z.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Z.dir(t,"previousSibling",i)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(i,n){var o=Z.map(this,e,i)
return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=Z.filter(n,o)),this.length>1&&(pe[t]||Z.unique(o),he.test(t)&&o.reverse()),this.pushStack(o)}})
var ue=/\S+/g,fe={}
Z.Callbacks=function(t){t="string"==typeof t?fe[t]||r(t):Z.extend({},t)
var e,i,n,o,s,a,l=[],c=!t.once&&[],d=function(r){for(e=t.memory&&r,i=!0,a=o||0,o=0,s=l.length,n=!0;l&&s>a;a++)if(l[a].apply(r[0],r[1])===!1&&t.stopOnFalse){e=!1
break}n=!1,l&&(c?c.length&&d(c.shift()):e?l=[]:h.disable())},h={add:function(){if(l){var i=l.length
!function r(e){Z.each(e,function(e,i){var n=Z.type(i)
"function"===n?t.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),n?s=l.length:e&&(o=i,d(e))}return this},remove:function(){return l&&Z.each(arguments,function(t,e){for(var i;(i=Z.inArray(e,l,i))>-1;)l.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(t){return t?Z.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||i&&!c||(e=e||[],e=[t,e.slice?e.slice():e],n?c.push(e):d(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}}
return h},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments
return Z.Deferred(function(i){Z.each(e,function(e,r){var s=Z.isFunction(t[e])&&t[e]
o[r[1]](function(){var t=s&&s.apply(this,arguments)
t&&Z.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,n):n}},o={}
return n.pipe=n.then,Z.each(e,function(t,r){var s=r[2],a=r[3]
n[r[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=W.call(arguments),s=r.length,a=1!==s||t&&Z.isFunction(t.promise)?s:0,l=1===a?t:Z.Deferred(),c=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?W.call(arguments):o,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}}
if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>o;o++)r[o]&&Z.isFunction(r[o].promise)?r[o].promise().done(c(o,n,r)).fail(l.reject).progress(c(o,i,e)):--a
return a||l.resolveWith(n,r),l.promise()}})
var ge
Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){(t===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,t!==!0&&--Z.readyWait>0||(ge.resolveWith(Q,[Z]),Z.fn.triggerHandler&&(Z(Q).triggerHandler("ready"),Z(Q).off("ready"))))}}),Z.ready.promise=function(e){return ge||(ge=Z.Deferred(),"complete"===Q.readyState?setTimeout(Z.ready):(Q.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),ge.promise(e)},Z.ready.promise()
var me=Z.access=function(t,e,i,n,o,r,s){var a=0,l=t.length,c=null==i
if("object"===Z.type(i)){o=!0
for(a in i)Z.access(t,e,a,i[a],!0,r,s)}else if(void 0!==n&&(o=!0,Z.isFunction(n)||(s=!0),c&&(s?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(Z(t),i)})),e))for(;l>a;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)))
return o?t:c?e.call(t):l?e(t[0],i):r}
Z.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0
var e={},i=t[this.expando]
if(!i){i=a.uid++
try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,Z.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,o=this.key(t),r=this.cache[o]
if("string"==typeof e)r[e]=i
else if(Z.isEmptyObject(r))Z.extend(this.cache[o],e)
else for(n in e)r[n]=e[n]
return r},get:function(t,e){var i=this.cache[this.key(t)]
return void 0===e?i:i[e]},access:function(t,e,i){var n
return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,Z.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,r=this.key(t),s=this.cache[r]
if(void 0===e)this.cache[r]={}
else{Z.isArray(e)?n=e.concat(e.map(Z.camelCase)):(o=Z.camelCase(e),e in s?n=[e,o]:(n=o,n=n in s?[n]:n.match(ue)||[])),i=n.length
for(;i--;)delete s[n[i]]}},hasData:function(t){return!Z.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}}
var ve=new a,ye=new a,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g
Z.extend({hasData:function(t){return ye.hasData(t)||ve.hasData(t)},data:function(t,e,i){return ye.access(t,e,i)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,i){return ve.access(t,e,i)},_removeData:function(t,e){ve.remove(t,e)}}),Z.fn.extend({data:function(t,e){var i,n,o,r=this[0],s=r&&r.attributes
if(void 0===t){if(this.length&&(o=ye.get(r),1===r.nodeType&&!ve.get(r,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=Z.camelCase(n.slice(5)),l(r,n,o[n])))
ve.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){ye.set(this,t)}):me(this,function(e){var i,n=Z.camelCase(t)
if(r&&void 0===e){if(i=ye.get(r,t),void 0!==i)return i
if(i=ye.get(r,n),void 0!==i)return i
if(i=l(r,n,void 0),void 0!==i)return i}else this.each(function(){var i=ye.get(this,n)
ye.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),Z.extend({queue:function(t,e,i){var n
return t?(e=(e||"fx")+"queue",n=ve.get(t,e),i&&(!n||Z.isArray(i)?n=ve.access(t,e,Z.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx"
var i=Z.queue(t,e),n=i.length,o=i.shift(),r=Z._queueHooks(t,e),s=function(){Z.dequeue(t,e)}
"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks"
return ve.get(t,i)||ve.access(t,i,{empty:Z.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",i])})})}}),Z.fn.extend({queue:function(t,e){var i=2
return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Z.queue(this[0],t):void 0===e?this:this.each(function(){var i=Z.queue(this,t,e)
Z._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=Z.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])}
for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=ve.get(r[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a))
return a(),o.promise(e)}})
var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],$e=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},ke=/^(?:checkbox|radio)$/i
!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),i=Q.createElement("input")
i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),G.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}()
var Se="undefined"
G.focusinBubbles="onfocusin"in t
var Ce=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,Pe=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/
Z.event={global:{},add:function(t,e,i,n,o){var r,s,a,l,c,d,h,p,u,f,g,m=ve.get(t)
if(m)for(i.handler&&(r=i,i=r.handler,o=r.selector),i.guid||(i.guid=Z.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof Z!==Se&&Z.event.triggered!==e.type?Z.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(ue)||[""],c=e.length;c--;)a=Ee.exec(e[c])||[],u=g=a[1],f=(a[2]||"").split(".").sort(),u&&(h=Z.event.special[u]||{},u=(o?h.delegateType:h.bindType)||u,h=Z.event.special[u]||{},d=Z.extend({type:u,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:f.join(".")},r),(p=l[u])||(p=l[u]=[],p.delegateCount=0,h.setup&&h.setup.call(t,n,f,s)!==!1||t.addEventListener&&t.addEventListener(u,s,!1)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,d):p.push(d),Z.event.global[u]=!0)},remove:function(t,e,i,n,o){var r,s,a,l,c,d,h,p,u,f,g,m=ve.hasData(t)&&ve.get(t)
if(m&&(l=m.events)){for(e=(e||"").match(ue)||[""],c=e.length;c--;)if(a=Ee.exec(e[c])||[],u=g=a[1],f=(a[2]||"").split(".").sort(),u){for(h=Z.event.special[u]||{},u=(n?h.delegateType:h.bindType)||u,p=l[u]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=p.length;r--;)d=p[r],!o&&g!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(p.splice(r,1),d.selector&&p.delegateCount--,h.remove&&h.remove.call(t,d))
s&&!p.length&&(h.teardown&&h.teardown.call(t,f,m.handle)!==!1||Z.removeEvent(t,u,m.handle),delete l[u])}else for(u in l)Z.event.remove(t,u+e[c],i,n,!0)
Z.isEmptyObject(l)&&(delete m.handle,ve.remove(t,"events"))}},trigger:function(e,i,n,o){var r,s,a,l,c,d,h,p=[n||Q],u=J.call(e,"type")?e.type:e,f=J.call(e,"namespace")?e.namespace.split("."):[]
if(s=a=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!Pe.test(u+Z.event.triggered)&&(u.indexOf(".")>=0&&(f=u.split("."),u=f.shift(),f.sort()),c=u.indexOf(":")<0&&"on"+u,e=e[Z.expando]?e:new Z.Event(u,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:Z.makeArray(i,[e]),h=Z.event.special[u]||{},o||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!o&&!h.noBubble&&!Z.isWindow(n)){for(l=h.delegateType||u,Pe.test(l+u)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s
a===(n.ownerDocument||Q)&&p.push(a.defaultView||a.parentWindow||t)}for(r=0;(s=p[r++])&&!e.isPropagationStopped();)e.type=r>1?l:h.bindType||u,d=(ve.get(s,"events")||{})[e.type]&&ve.get(s,"handle"),d&&d.apply(s,i),d=c&&s[c],d&&d.apply&&Z.acceptData(s)&&(e.result=d.apply(s,i),e.result===!1&&e.preventDefault())
return e.type=u,o||e.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),i)!==!1||!Z.acceptData(n)||c&&Z.isFunction(n[u])&&!Z.isWindow(n)&&(a=n[c],a&&(n[c]=null),Z.event.triggered=u,n[u](),Z.event.triggered=void 0,a&&(n[c]=a)),e.result}},dispatch:function(t){t=Z.event.fix(t)
var e,i,n,o,r,s=[],a=W.call(arguments),l=(ve.get(this,"events")||{})[t.type]||[],c=Z.event.special[t.type]||{}
if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=Z.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,n=((Z.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()))
return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,s=[],a=e.delegateCount,l=t.target
if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(n=[],i=0;a>i;i++)r=e[i],o=r.selector+" ",void 0===n[o]&&(n[o]=r.needsContext?Z(o,this).index(l)>=0:Z.find(o,this,null,[l]).length),n[o]&&n.push(r)
n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button
return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Q,n=i.documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[Z.expando])return t
var e,i,n,o=t.type,r=t,s=this.fixHooks[o]
for(s||(this.fixHooks[o]=s=Te.test(o)?this.mouseHooks:Ce.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new Z.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i]
return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=Z.extend(new Z.Event,i,{type:t,isSimulated:!0,originalEvent:{}})
n?Z.event.trigger(o,null,e):Z.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:d):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent
this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent
this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent
this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj
return(!o||o!==n&&!Z.contains(n,o))&&(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),G.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)}
Z.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=ve.access(n,e)
o||n.addEventListener(t,i,!0),ve.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=ve.access(n,e)-1
o?ve.access(n,e,o):(n.removeEventListener(t,i,!0),ve.remove(n,e))}}}),Z.fn.extend({on:function(t,e,i,n,o){var r,s
if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0)
for(s in t)this.on(s,e,i,t[s],o)
return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=d
else if(!n)return this
return 1===o&&(r=n,n=function(t){return Z().off(t),r.apply(this,arguments)},n.guid=r.guid||(r.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,o
if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,Z(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this
if("object"==typeof t){for(o in t)this.off(o,e,t[o])
return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=d),this.each(function(){Z.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0]
return i?Z.event.trigger(t,e,i,!0):void 0}})
var Ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,Ne=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,He={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]}
He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td,Z.extend({clone:function(t,e,i){var n,o,r,s,a=t.cloneNode(!0),l=Z.contains(t.ownerDocument,t)
if(!(G.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(s=v(a),r=v(t),n=0,o=r.length;o>n;n++)y(r[n],s[n])
if(e)if(i)for(r=r||v(t),s=s||v(a),n=0,o=r.length;o>n;n++)m(r[n],s[n])
else m(t,a)
return s=v(a,"script"),s.length>0&&g(s,!l&&v(t,"script")),a},buildFragment:function(t,e,i,n){for(var o,r,s,a,l,c,d=e.createDocumentFragment(),h=[],p=0,u=t.length;u>p;p++)if(o=t[p],o||0===o)if("object"===Z.type(o))Z.merge(h,o.nodeType?[o]:o)
else if(Ne.test(o)){for(r=r||d.appendChild(e.createElement("div")),s=(Ae.exec(o)||["",""])[1].toLowerCase(),a=He[s]||He._default,r.innerHTML=a[1]+o.replace(Ie,"<$1></$2>")+a[2],c=a[0];c--;)r=r.lastChild
Z.merge(h,r.childNodes),r=d.firstChild,r.textContent=""}else h.push(e.createTextNode(o))
for(d.textContent="",p=0;o=h[p++];)if((!n||-1===Z.inArray(o,n))&&(l=Z.contains(o.ownerDocument,o),r=v(d.appendChild(o),"script"),l&&g(r),i))for(c=0;o=r[c++];)Me.test(o.type||"")&&i.push(o)
return d},cleanData:function(t){for(var e,i,n,o,r=Z.event.special,s=0;void 0!==(i=t[s]);s++){if(Z.acceptData(i)&&(o=i[ve.expando],o&&(e=ve.cache[o]))){if(e.events)for(n in e.events)r[n]?Z.event.remove(i,n):Z.removeEvent(i,n,e.handle)
ve.cache[o]&&delete ve.cache[o]}delete ye.cache[i[ye.expando]]}}}),Z.fn.extend({text:function(t){return me(this,function(t){return void 0===t?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t)
e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t)
e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?Z.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||Z.cleanData(v(i)),i.parentNode&&(e&&Z.contains(i.ownerDocument,i)&&g(v(i,"script")),i.parentNode.removeChild(i))
return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Z.cleanData(v(t,!1)),t.textContent="")
return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return me(this,function(t){var e=this[0]||{},i=0,n=this.length
if(void 0===t&&1===e.nodeType)return e.innerHTML
if("string"==typeof t&&!Oe.test(t)&&!He[(Ae.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ie,"<$1></$2>")
try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(Z.cleanData(v(e,!1)),e.innerHTML=t)
e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0]
return this.domManip(arguments,function(e){t=this.parentNode,Z.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=q.apply([],t)
var i,n,o,r,s,a,l=0,c=this.length,d=this,h=c-1,p=t[0],g=Z.isFunction(p)
if(g||c>1&&"string"==typeof p&&!G.checkClone&&De.test(p))return this.each(function(i){var n=d.eq(i)
g&&(t[0]=p.call(this,i,n.html())),n.domManip(t,e)})
if(c&&(i=Z.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(o=Z.map(v(i,"script"),u),r=o.length;c>l;l++)s=i,l!==h&&(s=Z.clone(s,!0,!0),r&&Z.merge(o,v(s,"script"))),e.call(this[l],s,l)
if(r)for(a=o[o.length-1].ownerDocument,Z.map(o,f),l=0;r>l;l++)s=o[l],Me.test(s.type||"")&&!ve.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Le,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(t){for(var i,n=[],o=Z(t),r=o.length-1,s=0;r>=s;s++)i=s===r?this:this.clone(!0),Z(o[s])[e](i),U.apply(n,i.get())
return this.pushStack(n)}})
var ze,Fe={},Be=/^margin/,je=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),We=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)}
!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",o.appendChild(r)
var e=t.getComputedStyle(s,null)
i="1%"!==e.top,n="4px"===e.width,o.removeChild(r)}var i,n,o=Q.documentElement,r=Q.createElement("div"),s=Q.createElement("div")
s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(s),t.getComputedStyle&&Z.extend(G,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=s.appendChild(Q.createElement("div"))
return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",o.appendChild(r),e=!parseFloat(t.getComputedStyle(i,null).marginRight),o.removeChild(r),e}}))}(),Z.swap=function(t,e,i,n){var o,r,s={}
for(r in e)s[r]=t.style[r],t.style[r]=e[r]
o=i.apply(t,n||[])
for(r in e)t.style[r]=s[r]
return o}
var qe=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+we+")(.*)$","i"),Xe=new RegExp("^([+-])=("+we+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Je=["Webkit","O","Moz","ms"]
Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=w(t,"opacity")
return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=Z.camelCase(e),l=t.style
return e=Z.cssProps[a]||(Z.cssProps[a]=$(l,a)),s=Z.cssHooks[e]||Z.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(o=s.get(t,!1,n))?o:l[e]:(r=typeof i,"string"===r&&(o=Xe.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Z.css(t,e)),r="number"),void(null!=i&&i===i&&("number"!==r||Z.cssNumber[a]||(i+="px"),G.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l[e]=i))))}},css:function(t,e,i,n){var o,r,s,a=Z.camelCase(e)
return e=Z.cssProps[a]||(Z.cssProps[a]=$(t.style,a)),s=Z.cssHooks[e]||Z.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=w(t,e,n)),"normal"===o&&e in Ye&&(o=Ye[e]),""===i||i?(r=parseFloat(o),i===!0||Z.isNumeric(r)?r||0:o):o}}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,i,n){return i?qe.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,Ve,function(){return C(t,e,n)}):C(t,e,n):void 0},set:function(t,i,n){var o=n&&We(t)
return k(t,i,n?S(t,e,n,"border-box"===Z.css(t,"boxSizing",!1,o),o):0)}}}),Z.cssHooks.marginRight=x(G.reliableMarginRight,function(t,e){return e?Z.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+xe[n]+e]=r[n]||r[n-2]||r[0]
return o}},Be.test(t)||(Z.cssHooks[t+e].set=k)}),Z.fn.extend({css:function(t,e){return me(this,function(t,e,i){var n,o,r={},s=0
if(Z.isArray(e)){for(n=We(t),o=e.length;o>s;s++)r[e[s]]=Z.css(t,e[s],!1,n)
return r}return void 0!==i?Z.style(t,e,i):Z.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$e(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=P,P.prototype={constructor:P,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(Z.cssNumber[i]?"":"px")},cur:function(){var t=P.propHooks[this.prop]
return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,i=P.propHooks[this.prop]
return this.pos=e=this.options.duration?Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e
return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=P.prototype.init,Z.fx.step={}
var Ge,Qe,Ke=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),ti=/queueHooks$/,ei=[N],ii={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=Ze.exec(e),r=o&&o[3]||(Z.cssNumber[t]?"":"px"),s=(Z.cssNumber[t]||"px"!==r&&+n)&&Ze.exec(Z.css(i.elem,t)),a=1,l=20
if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+n||1
do a=a||".5",s/=a,Z.style(i.elem,t,s+r)
while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(s=i.start=+s||+n||0,i.unit=r,i.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),i}]}
Z.Animation=Z.extend(D,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ")
for(var i,n=0,o=t.length;o>n;n++)i=t[n],ii[i]=ii[i]||[],ii[i].unshift(e)},prefilter:function(t,e){e?ei.unshift(t):ei.push(t)}}),Z.speed=function(t,e,i){var n=t&&"object"==typeof t?Z.extend({},t):{complete:i||!i&&e||Z.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Z.isFunction(e)&&e}
return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.fn.extend({fadeTo:function(t,e,i,n){return this.filter($e).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=Z.isEmptyObject(t),r=Z.speed(e,i,n),s=function(){var e=D(this,Z.extend({},t),r);(o||ve.get(this,"finish"))&&e.stop(!0)}
return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop
delete t.stop,e(i)}
return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=Z.timers,s=ve.get(this)
if(o)s[o]&&s[o].stop&&n(s[o])
else for(o in s)s[o]&&s[o].stop&&ti.test(o)&&n(s[o])
for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));(e||!i)&&Z.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=ve.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=Z.timers,s=n?n.length:0
for(i.finish=!0,Z.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1))
for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this)
delete i.finish})}}),Z.each(["toggle","show","hide"],function(t,e){var i=Z.fn[e]
Z.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(I(e,!0),t,n,o)}}),Z.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Z.timers=[],Z.fx.tick=function(){var t,e=0,i=Z.timers
for(Ge=Z.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1)
i.length||Z.fx.stop(),Ge=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Qe||(Qe=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Qe),Qe=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t)
i.stop=function(){clearTimeout(n)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),i=e.appendChild(Q.createElement("option"))
t.type="checkbox",G.checkOn=""!==t.value,G.optSelected=i.selected,e.disabled=!0,G.optDisabled=!i.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",G.radioValue="t"===t.value}()
var ni,oi,ri=Z.expr.attrHandle
Z.fn.extend({attr:function(t,e){return me(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,i){var n,o,r=t.nodeType
return t&&3!==r&&8!==r&&2!==r?typeof t.getAttribute===Se?Z.prop(t,e,i):(1===r&&Z.isXMLDoc(t)||(e=e.toLowerCase(),n=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?oi:ni)),void 0===i?n&&"get"in n&&null!==(o=n.get(t,e))?o:(o=Z.find.attr(t,e),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(t,i,e))?o:(t.setAttribute(e,i+""),i):void Z.removeAttr(t,e)):void 0},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(ue)
if(r&&1===t.nodeType)for(;i=r[o++];)n=Z.propFix[i]||i,Z.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!G.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var i=t.value
return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),oi={set:function(t,e,i){return e===!1?Z.removeAttr(t,i):t.setAttribute(i,i),i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ri[e]||Z.find.attr
ri[e]=function(t,e,n){var o,r
return n||(r=ri[e],ri[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,ri[e]=r),o}})
var si=/^(?:input|select|textarea|button)$/i
Z.fn.extend({prop:function(t,e){return me(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Z.propFix[t]||t]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,o,r,s=t.nodeType
return t&&3!==s&&8!==s&&2!==s?(r=1!==s||!Z.isXMLDoc(t),r&&(e=Z.propFix[e]||e,o=Z.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]):void 0},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||si.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),G.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode
return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this})
var ai=/[\t\r\n\f]/g
Z.fn.extend({addClass:function(t){var e,i,n,o,r,s,a="string"==typeof t&&t,l=0,c=this.length
if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))})
if(a)for(e=(t||"").match(ue)||[];c>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ai," "):" ")){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ")
s=Z.trim(n),i.className!==s&&(i.className=s)}return this},removeClass:function(t){var e,i,n,o,r,s,a=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length
if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))})
if(a)for(e=(t||"").match(ue)||[];c>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ai," "):"")){for(r=0;o=e[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ")
s=t?Z.trim(n):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(t,e){var i=typeof t
return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(Z.isFunction(t)?function(i){Z(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,n=0,o=Z(this),r=t.match(ue)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e)
else(i===Se||"boolean"===i)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ai," ").indexOf(e)>=0)return!0
return!1}})
var li=/\r/g
Z.fn.extend({val:function(t){var e,i,n,o=this[0]
return arguments.length?(n=Z.isFunction(t),this.each(function(i){var o
1===this.nodeType&&(o=n?t.call(this,i,Z(this).val()):t,null==o?o="":"number"==typeof o?o+="":Z.isArray(o)&&(o=Z.map(o,function(t){return null==t?"":t+""})),e=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(li,""):null==i?"":i)):void 0}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value")
return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:n.length,l=0>o?a:r?o:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==o||(G.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(e=Z(i).val(),r)return e
s.push(e)}return s},set:function(t,e){for(var i,n,o=t.options,r=Z.makeArray(e),s=o.length;s--;)n=o[s],(n.selected=Z.inArray(n.value,r)>=0)&&(i=!0)
return i||(t.selectedIndex=-1),r}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}},G.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}})
var ci=Z.now(),di=/\?/
Z.parseJSON=function(t){return JSON.parse(t+"")},Z.parseXML=function(t){var e,i
if(!t||"string"!=typeof t)return null
try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(n){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+t),e}
var hi,pi,ui=/#.*$/,fi=/([?&])_=[^&]*/,gi=/^(.*?):[ \t]*([^\r\n]*)$/gm,mi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vi=/^(?:GET|HEAD)$/,yi=/^\/\//,bi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,_i={},wi={},xi="*/".concat("*")
try{pi=location.href}catch($i){pi=Q.createElement("a"),pi.href="",pi=pi.href}hi=bi.exec(pi.toLowerCase())||[],Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pi,type:"GET",isLocal:mi.test(hi[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?L(L(t,Z.ajaxSettings),e):L(Z.ajaxSettings,t)},ajaxPrefilter:M(_i),ajaxTransport:M(wi),ajax:function(t,e){function i(t,e,i,s){var l,d,v,y,_,x=e
2!==b&&(b=2,a&&clearTimeout(a),n=void 0,r=s||"",w.readyState=t>0?4:0,l=t>=200&&300>t||304===t,i&&(y=H(h,w,i)),y=z(h,y,w,l),l?(h.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(Z.lastModified[o]=_),_=w.getResponseHeader("etag"),_&&(Z.etag[o]=_)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=y.state,d=y.data,v=y.error,l=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),w.status=t,w.statusText=(e||x)+"",l?f.resolveWith(p,[d,x,w]):f.rejectWith(p,[w,x,v]),w.statusCode(m),m=void 0,c&&u.trigger(l?"ajaxSuccess":"ajaxError",[w,h,l?d:v]),g.fireWith(p,[w,x]),c&&(u.trigger("ajaxComplete",[w,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{}
var n,o,r,s,a,l,c,d,h=Z.ajaxSetup({},e),p=h.context||h,u=h.context&&(p.nodeType||p.jquery)?Z(p):Z.event,f=Z.Deferred(),g=Z.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e
if(2===b){if(!s)for(s={};e=gi.exec(r);)s[e[1].toLowerCase()]=e[2]
e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase()
return b||(t=y[i]=y[i]||t,v[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e
if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]]
else w.always(t[w.status])
return this},abort:function(t){var e=t||_
return n&&n.abort(e),i(0,e),this}}
if(f.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||pi)+"").replace(ui,"").replace(yi,hi[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().match(ue)||[""],null==h.crossDomain&&(l=bi.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===hi[1]&&l[2]===hi[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(hi[3]||("http:"===hi[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),R(_i,h,e,w),2===b)return w
c=h.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!vi.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(di.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=fi.test(o)?o.replace(fi,"$1_="+ci++):o+(di.test(o)?"&":"?")+"_="+ci++)),h.ifModified&&(Z.lastModified[o]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[o]),Z.etag[o]&&w.setRequestHeader("If-None-Match",Z.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+xi+"; q=0.01":""):h.accepts["*"])
for(d in h.headers)w.setRequestHeader(d,h.headers[d])
if(h.beforeSend&&(h.beforeSend.call(p,w,h)===!1||2===b))return w.abort()
_="abort"
for(d in{success:1,error:1,complete:1})w[d](h[d])
if(n=R(wi,h,e,w)){w.readyState=1,c&&u.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout))
try{b=1,n.send(v,i)}catch(x){if(!(2>b))throw x
i(-1,x)}}else i(-1,"No Transport")
return w},getJSON:function(t,e,i){return Z.get(t,e,i,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,e){Z[e]=function(t,i,n,o){return Z.isFunction(i)&&(o=o||n,n=i,i=void 0),Z.ajax({url:t,type:e,dataType:o,data:i,success:n})}}),Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(t){var e
return Z.isFunction(t)?this.each(function(e){Z(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Z(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild
return t}).append(this)),this)},wrapInner:function(t){return this.each(Z.isFunction(t)?function(e){Z(this).wrapInner(t.call(this,e))}:function(){var e=Z(this),i=e.contents()
i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t)
return this.each(function(i){Z(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)}
var ki=/%20/g,Si=/\[\]$/,Ci=/\r?\n/g,Ti=/^(?:submit|button|image|reset|file)$/i,Pi=/^(?:input|select|textarea|keygen)/i
Z.param=function(t,e){var i,n=[],o=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)}
if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){o(this.name,this.value)})
else for(i in t)F(i,t[i],e,o)
return n.join("&").replace(ki,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements")
return t?Z.makeArray(t):this}).filter(function(){var t=this.type
return this.name&&!Z(this).is(":disabled")&&Pi.test(this.nodeName)&&!Ti.test(t)&&(this.checked||!ke.test(t))}).map(function(t,e){var i=Z(this).val()
return null==i?null:Z.isArray(i)?Z.map(i,function(t){return{name:e.name,value:t.replace(Ci,"\r\n")}}):{name:e.name,value:i.replace(Ci,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}}
var Ei=0,Ii={},Ai={0:200,1223:204},Ni=Z.ajaxSettings.xhr()
t.ActiveXObject&&Z(t).on("unload",function(){for(var t in Ii)Ii[t]()}),G.cors=!!Ni&&"withCredentials"in Ni,G.ajax=Ni=!!Ni,Z.ajaxTransport(function(t){var e
return G.cors||Ni&&!t.crossDomain?{send:function(i,n){var o,r=t.xhr(),s=++Ei
if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o]
t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest")
for(o in i)r.setRequestHeader(o,i[o])
e=function(t){return function(){e&&(delete Ii[s],e=r.onload=r.onerror=null,"abort"===t?r.abort():"error"===t?n(r.status,r.statusText):n(Ai[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=e(),r.onerror=e("error"),e=Ii[s]=e("abort")
try{r.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var e,i
return{send:function(n,o){e=Z("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){i&&i()}}}})
var Oi=[],Di=/(=)\?(?=&|$)|\?\?/
Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Oi.pop()||Z.expando+"_"+ci++
return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,s,a=e.jsonp!==!1&&(Di.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Di.test(e.data)&&"data")
return a||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=Z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Di,"$1"+o):e.jsonp!==!1&&(e.url+=(di.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||Z.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},n.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,Oi.push(o)),s&&Z.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),Z.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null
"boolean"==typeof e&&(i=e,e=!1),e=e||Q
var n=se.exec(t),o=!i&&[]
return n?[e.createElement(n[1])]:(n=Z.buildFragment([t],e,o),o&&o.length&&Z(o).remove(),Z.merge([],n.childNodes))}
var Mi=Z.fn.load
Z.fn.load=function(t,e,i){if("string"!=typeof t&&Mi)return Mi.apply(this,arguments)
var n,o,r,s=this,a=t.indexOf(" ")
return a>=0&&(n=Z.trim(t.slice(a)),t=t.slice(0,a)),Z.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&Z.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(n?Z("<div>").append(Z.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){s.each(i,r||[t.responseText,e,t])}),this},Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length}
var Ri=t.document.documentElement
Z.offset={setOffset:function(t,e,i){var n,o,r,s,a,l,c,d=Z.css(t,"position"),h=Z(t),p={}
"static"===d&&(t.style.position="relative"),a=h.offset(),r=Z.css(t,"top"),l=Z.css(t,"left"),c=("absolute"===d||"fixed"===d)&&(r+l).indexOf("auto")>-1,c?(n=h.position(),s=n.top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),Z.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+o),"using"in e?e.using.call(t,p):h.css(p)}},Z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Z.offset.setOffset(this,t,e)})
var e,i,n=this[0],o={top:0,left:0},r=n&&n.ownerDocument
return r?(e=r.documentElement,Z.contains(e,n)?(typeof n.getBoundingClientRect!==Se&&(o=n.getBoundingClientRect()),i=B(r),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o):void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0}
return"fixed"===Z.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(n=t.offset()),n.top+=Z.css(t[0],"borderTopWidth",!0),n.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-Z.css(i,"marginTop",!0),left:e.left-n.left-Z.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ri;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent
return t||Ri})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i
Z.fn[e]=function(o){return me(this,function(e,o,r){var s=B(e)
return void 0===r?s?s[i]:e[o]:void(s?s.scrollTo(n?t.pageXOffset:r,n?r:t.pageYOffset):e[o]=r)},e,o,arguments.length,null)}}),Z.each(["top","left"],function(t,e){Z.cssHooks[e]=x(G.pixelPosition,function(t,i){return i?(i=w(t,e),je.test(i)?Z(t).position()[e]+"px":i):void 0})}),Z.each({Height:"height",Width:"width"},function(t,e){Z.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){Z.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||o===!0?"margin":"border")
return me(this,function(e,i,n){var o
return Z.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?Z.css(e,i,s):Z.style(e,i,n,s)},e,r?n:void 0,r,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z})
var Li=t.jQuery,Hi=t.$
return Z.noConflict=function(e){return t.$===Z&&(t.$=Hi),e&&t.jQuery===Z&&(t.jQuery=Li),Z},typeof e===Se&&(t.jQuery=t.$=Z),Z}),function(t,e){t.MixItUp=function(){this._execAction("_constructor",0),t.extend(this,{selectors:{target:".mix",filter:".filter",sort:".sort"},animation:{enable:!0,effects:"fade scale",duration:600,easing:"ease",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",queue:!0,queueLimit:1,animateChangeLayout:!1,animateResizeContainer:!0,animateResizeTargets:!1,staggerSequence:!1,reverseOut:!1},callbacks:{onMixLoad:!1,onMixStart:!1,onMixBusy:!1,onMixEnd:!1,onMixFail:!1,_user:!1},controls:{enable:!0,live:!1,toggleFilterButtons:!1,toggleLogic:"or",activeClass:"active"},layout:{display:"inline-block",containerClass:"",containerClassFail:"fail"},load:{filter:"all",sort:!1},_$body:null,_$container:null,_$targets:null,_$parent:null,_$sortButtons:null,_$filterButtons:null,_suckMode:!1,_mixing:!1,_sorting:!1,_clicking:!1,_loading:!0,_changingLayout:!1,_changingClass:!1,_changingDisplay:!1,_origOrder:[],_startOrder:[],_newOrder:[],_activeFilter:null,_toggleArray:[],_toggleString:"",_activeSort:"default:asc",_newSort:null,_startHeight:null,_newHeight:null,_incPadding:!0,_newDisplay:null,_newClass:null,_targetsBound:0,_targetsDone:0,_queue:[],_$show:t(),_$hide:t()}),this._execAction("_constructor",1)},t.MixItUp.prototype={constructor:t.MixItUp,_instances:{},_handled:{_filter:{},_sort:{}},_bound:{_filter:{},_sort:{}},_actions:{},_filters:{},extend:function(e){for(var i in e)t.MixItUp.prototype[i]=e[i]},addAction:function(e,i,n,o){t.MixItUp.prototype._addHook("_actions",e,i,n,o)},addFilter:function(e,i,n,o){t.MixItUp.prototype._addHook("_filters",e,i,n,o)},_addHook:function(e,i,n,o,r){e=t.MixItUp.prototype[e]
var s={}
r=1===r||"post"===r?"post":"pre",s[i]={},s[i][r]={},s[i][r][n]=o,t.extend(!0,e,s)},_init:function(e,i){if(this._execAction("_init",0,arguments),i&&t.extend(!0,this,i),this._$body=t("body"),this._domNode=e,this._$container=t(e),this._$container.addClass(this.layout.containerClass),this._id=e.id,this._platformDetect(),this._brake=this._getPrefixedCSS("transition","none"),this._refresh(!0),this._$parent=this._$targets.parent().length?this._$targets.parent():this._$container,this.load.sort&&(this._newSort=this._parseSort(this.load.sort),this._activeSort=this._newSortString=this.load.sort,this._sort(),this._printSort()),this._activeFilter="all"===this.load.filter?this.selectors.target:"none"===this.load.filter?"":this.load.filter,this.controls.enable&&this._bindHandlers(),this.controls.toggleFilterButtons){this._buildToggleArray()
for(var n=0;n<this._toggleArray.length;n++)this._updateControls({filter:this._toggleArray[n],sort:this._activeSort},!0)}else this.controls.enable&&this._updateControls({filter:this._activeFilter,sort:this._activeSort})
this._filter(),this._init=!0,this._$container.data("mixItUp",this),this._execAction("_init",1,arguments),this._buildState(),this._$targets.css(this._brake),this._goMix(this.animation.enable)},_platformDetect:function(){var t=["Webkit","Moz","O","ms"],i=["webkit","moz"],n=window.navigator.appVersion.match(/Chrome\/(\d+)\./)||!1,o="undefined"!=typeof InstallTrigger,r=function(e){for(var i=0;i<t.length;i++)if(t[i]+"Transition"in e.style)return{prefix:"-"+t[i].toLowerCase()+"-",vendor:t[i]}
return"transition"in e.style?"":!1}(this._domNode)
for(this._execAction("_platformDetect",0),this._chrome=n?parseInt(n[1],10):!1,this._ff=o?parseInt(window.navigator.userAgent.match(/rv:([^)]+)\)/)[1]):!1,this._prefix=r.prefix,this._vendor=r.vendor,(this._suckMode=window.atob&&this._prefix?!1:!0)&&(this.animation.enable=!1),this._ff&&4>=this._ff&&(this.animation.enable=!1),n=0;n<i.length&&!window.requestAnimationFrame;n++)window.requestAnimationFrame=window[i[n]+"RequestAnimationFrame"]
"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(t){return t.__proto__}:function(t){return t.constructor.prototype}),this._domNode.nextElementSibling===e&&Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var t=this.nextSibling;t;){if(1===t.nodeType)return t
t=t.nextSibling}return null}}),this._execAction("_platformDetect",1)},_refresh:function(t,i){this._execAction("_refresh",0,arguments),this._$targets=this._$container.find(this.selectors.target)
for(var n=0;n<this._$targets.length;n++){var o=this._$targets[n]
if(o.dataset===e||i){o.dataset={}
for(var r=0;r<o.attributes.length;r++){var s=o.attributes[r],a=s.name,s=s.value;-1<a.indexOf("data-")&&(a=this._helpers._camelCase(a.substring(5,a.length)),o.dataset[a]=s)}}o.mixParent===e&&(o.mixParent=this._id)}if(this._$targets.length&&t||!this._origOrder.length&&this._$targets.length)for(this._origOrder=[],n=0;n<this._$targets.length;n++)o=this._$targets[n],this._origOrder.push(o)
this._execAction("_refresh",1,arguments)},_bindHandlers:function(){var i=this,n=t.MixItUp.prototype._bound._filter,o=t.MixItUp.prototype._bound._sort
i._execAction("_bindHandlers",0),i.controls.live?i._$body.on("click.mixItUp."+i._id,i.selectors.sort,function(){i._processClick(t(this),"sort")}).on("click.mixItUp."+i._id,i.selectors.filter,function(){i._processClick(t(this),"filter")}):(i._$sortButtons=t(i.selectors.sort),i._$filterButtons=t(i.selectors.filter),i._$sortButtons.on("click.mixItUp."+i._id,function(){i._processClick(t(this),"sort")}),i._$filterButtons.on("click.mixItUp."+i._id,function(){i._processClick(t(this),"filter")})),n[i.selectors.filter]=n[i.selectors.filter]===e?1:n[i.selectors.filter]+1,o[i.selectors.sort]=o[i.selectors.sort]===e?1:o[i.selectors.sort]+1,i._execAction("_bindHandlers",1)},_processClick:function(i,n){var o=this,r=function(i,n,r){var s=t.MixItUp.prototype
s._handled["_"+n][o.selectors[n]]=s._handled["_"+n][o.selectors[n]]===e?1:s._handled["_"+n][o.selectors[n]]+1,s._handled["_"+n][o.selectors[n]]===s._bound["_"+n][o.selectors[n]]&&(i[(r?"remove":"add")+"Class"](o.controls.activeClass),delete s._handled["_"+n][o.selectors[n]])}
if(o._execAction("_processClick",0,arguments),!o._mixing||o.animation.queue&&o._queue.length<o.animation.queueLimit){if(o._clicking=!0,"sort"===n){var s=i.attr("data-sort");(!i.hasClass(o.controls.activeClass)||-1<s.indexOf("random"))&&(t(o.selectors.sort).removeClass(o.controls.activeClass),r(i,n),o.sort(s))}if("filter"===n){var a=i.attr("data-filter"),s="or"===o.controls.toggleLogic?",":""
o.controls.toggleFilterButtons?(o._buildToggleArray(),i.hasClass(o.controls.activeClass)?(r(i,n,!0),r=o._toggleArray.indexOf(a),o._toggleArray.splice(r,1)):(r(i,n),o._toggleArray.push(a)),o._toggleArray=t.grep(o._toggleArray,function(t){return t}),o._toggleString=o._toggleArray.join(s),o.filter(o._toggleString)):i.hasClass(o.controls.activeClass)||(t(o.selectors.filter).removeClass(o.controls.activeClass),r(i,n),o.filter(a))}o._execAction("_processClick",1,arguments)}else"function"==typeof o.callbacks.onMixBusy&&o.callbacks.onMixBusy.call(o._domNode,o._state,o),o._execAction("_processClickBusy",1,arguments)},_buildToggleArray:function(){var t=this._activeFilter.replace(/\s/g,"")
if(this._execAction("_buildToggleArray",0,arguments),"or"===this.controls.toggleLogic)this._toggleArray=t.split(",")
else{this._toggleArray=t.split("."),!this._toggleArray[0]&&this._toggleArray.shift()
for(var e,t=0;e=this._toggleArray[t];t++)this._toggleArray[t]="."+e}this._execAction("_buildToggleArray",1,arguments)},_updateControls:function(i,n){var o={filter:i.filter,sort:i.sort},r="filter",s=null
this._execAction("_updateControls",0,arguments),i.filter===e&&(o.filter=this._activeFilter),i.sort===e&&(o.sort=this._activeSort),o.filter===this.selectors.target&&(o.filter="all")
for(var a=0;2>a;a++){if(s=this.controls.live?t(this.selectors[r]):this["_$"+r+"Buttons"]){var l="[data-"+r+'="'+o[r]+'"]'
n&&"filter"===r&&"none"!==o.filter&&""!==o.filter?s.filter(l).addClass(this.controls.activeClass):s.removeClass(this.controls.activeClass).filter(l).addClass(this.controls.activeClass)}r="sort"}this._execAction("_updateControls",1,arguments)},_filter:function(){this._execAction("_filter",0)
for(var e=0;e<this._$targets.length;e++){var i=t(this._$targets[e])
i.is(this._activeFilter)?this._$show=this._$show.add(i):this._$hide=this._$hide.add(i)}this._execAction("_filter",1)},_sort:function(){var t=this,e=function(t){t=t.slice()
for(var e=t.length,i=e;i--;){var n=parseInt(Math.random()*e),o=t[i]
t[i]=t[n],t[n]=o}return t}
t._execAction("_sort",0),t._startOrder=[]
for(var i=0;i<t._$targets.length;i++)t._startOrder.push(t._$targets[i])
switch(t._newSort[0].sortBy){case"default":t._newOrder=t._origOrder
break
case"random":t._newOrder=e(t._startOrder)
break
case"custom":t._newOrder=t._newSort[0].order
break
default:t._newOrder=t._startOrder.concat().sort(function(e,i){return t._compare(e,i)})}t._execAction("_sort",1)},_compare:function(t,e,i){i=i?i:0
var n=this,o=n._newSort[i].order,r=function(t){return t.dataset[n._newSort[i].sortBy]||0},s=isNaN(1*r(t))?r(t).toLowerCase():1*r(t),r=isNaN(1*r(e))?r(e).toLowerCase():1*r(e)
return r>s?"asc"===o?-1:1:s>r?"asc"===o?1:-1:s===r&&n._newSort.length>i+1?n._compare(t,e,i+1):0},_printSort:function(t){var e=t?this._startOrder:this._newOrder,i=this._$parent[0].querySelectorAll(this.selectors.target),n=i.length?i[i.length-1].nextElementSibling:null,o=document.createDocumentFragment()
this._execAction("_printSort",0,arguments)
for(var r=0;r<i.length;r++){var s=i[r],a=s.nextSibling
"absolute"!==s.style.position&&(a&&"#text"===a.nodeName&&this._$parent[0].removeChild(a),this._$parent[0].removeChild(s))}for(r=0;r<e.length;r++)i=e[r],"default"!==this._newSort[0].sortBy||"desc"!==this._newSort[0].order||t?(o.appendChild(i),o.appendChild(document.createTextNode(" "))):(o.insertBefore(i,o.firstChild),o.insertBefore(document.createTextNode(" "),i))
n?this._$parent[0].insertBefore(o,n):this._$parent[0].appendChild(o),this._execAction("_printSort",1,arguments)},_parseSort:function(t){for(var e="string"==typeof t?t.split(" "):[t],i=[],n=0;n<e.length;n++){var o="string"==typeof t?e[n].split(":"):["custom",e[n]],o={sortBy:this._helpers._camelCase(o[0]),order:o[1]||"asc"}
if(i.push(o),"default"===o.sortBy||"random"===o.sortBy)break}return this._execFilter("_parseSort",i,arguments)},_parseEffects:function(){var t=this,e={opacity:"",transformIn:"",transformOut:"",filter:""},i=function(e,i){return-1<t.animation.effects.indexOf(e)?i&&(e=t.animation.effects.indexOf(e+"("),e>-1)?(e=t.animation.effects.substring(e),{val:/\(([^)]+)\)/.exec(e)[1]}):!0:!1},n=function(t,n){for(var o=[["scale",".01"],["translateX","20px"],["translateY","20px"],["translateZ","20px"],["rotateX","90deg"],["rotateY","90deg"],["rotateZ","180deg"]],r=0;r<o.length;r++){var s,a=o[r][0],l=o[r][1],c=n&&"scale"!==a,d=e[t]
i(a)?(s=a+"(",a=i(a,!0).val||l,c=c?"-"===a.charAt(0)?a.substr(1,a.length):"-"+a:a,s=s+c+") "):s="",e[t]=d+s}}
return e.opacity=i("fade")?i("fade",!0).val||"0":"1",n("transformIn"),t.animation.reverseOut?n("transformOut",!0):e.transformOut=e.transformIn,e.transition={},e.transition=t._getPrefixedCSS("transition","all "+t.animation.duration+"ms "+t.animation.easing+", opacity "+t.animation.duration+"ms linear"),t.animation.stagger=i("stagger")?!0:!1,t.animation.staggerDuration=parseInt(i("stagger")&&i("stagger",!0).val?i("stagger",!0).val:100),t._execFilter("_parseEffects",e)},_buildState:function(t){var e={}
return this._execAction("_buildState",0),e={activeFilter:""===this._activeFilter?"none":this._activeFilter,activeSort:t&&this._newSortString?this._newSortString:this._activeSort,fail:!this._$show.length&&""!==this._activeFilter,$targets:this._$targets,$show:this._$show,$hide:this._$hide,totalTargets:this._$targets.length,totalShow:this._$show.length,totalHide:this._$hide.length,display:t&&this._newDisplay?this._newDisplay:this.layout.display},t?this._execFilter("_buildState",e):(this._state=e,void this._execAction("_buildState",1))},_goMix:function(t){var e=this,i=function(){if(e._chrome&&31===e._chrome){var t=e._$parent[0],i=t.parentElement,o=document.createElement("div"),r=document.createDocumentFragment()
i.insertBefore(o,t),r.appendChild(t),i.replaceChild(t,o)}e._setInter(),n()},n=function(){var t=window.pageYOffset,i=window.pageXOffset
e._getInterMixData(),e._setFinal(),e._getFinalMixData(),window.pageYOffset!==t&&window.scrollTo(i,t),e._prepTargets(),window.requestAnimationFrame?requestAnimationFrame(o):setTimeout(function(){o()},20)},o=function(){e._animateTargets(),0===e._targetsBound&&e._cleanUp()},r=e._buildState(!0)
e._execAction("_goMix",0,arguments),!e.animation.duration&&(t=!1),e._mixing=!0,e._$container.removeClass(e.layout.containerClassFail),"function"==typeof e.callbacks.onMixStart&&e.callbacks.onMixStart.call(e._domNode,e._state,r,e),e._$container.trigger("mixStart",[e._state,r,e]),e._getOrigMixData(),t&&!e._suckMode?window.requestAnimationFrame?requestAnimationFrame(i):i():e._cleanUp(),e._execAction("_goMix",1,arguments)},_getTargetData:function(t,e){var i
t.dataset[e+"PosX"]=t.offsetLeft,t.dataset[e+"PosY"]=t.offsetTop,this.animation.animateResizeTargets&&(i=window.getComputedStyle(t),t.dataset[e+"MarginBottom"]=parseInt(i.marginBottom),t.dataset[e+"MarginRight"]=parseInt(i.marginRight),t.dataset[e+"Width"]=t.offsetWidth,t.dataset[e+"Height"]=t.offsetHeight)},_getOrigMixData:function(){var t=this._suckMode?{boxSizing:""}:window.getComputedStyle(this._$parent[0])
for(this._incPadding="border-box"===(t.boxSizing||t[this._vendor+"BoxSizing"]),this._execAction("_getOrigMixData",0),!this._suckMode&&(this.effects=this._parseEffects()),this._$toHide=this._$hide.filter(":visible"),this._$toShow=this._$show.filter(":hidden"),this._$pre=this._$targets.filter(":visible"),this._startHeight=this._incPadding?this._$parent.outerHeight():this._$parent.height(),t=0;t<this._$pre.length;t++)this._getTargetData(this._$pre[t],"orig")
this._execAction("_getOrigMixData",1)},_setInter:function(){this._execAction("_setInter",0),this._changingLayout&&this.animation.animateChangeLayout?(this._$toShow.css("display",this._newDisplay),this._changingClass&&this._$container.removeClass(this.layout.containerClass).addClass(this._newClass)):this._$toShow.css("display",this.layout.display),this._execAction("_setInter",1)},_getInterMixData:function(){this._execAction("_getInterMixData",0)
for(var t=0;t<this._$toShow.length;t++){var e=this._$toShow[t]
this._getTargetData(e,"inter")}for(t=0;t<this._$pre.length;t++)e=this._$pre[t],this._getTargetData(e,"inter")
this._execAction("_getInterMixData",1)},_setFinal:function(){this._execAction("_setFinal",0),this._sorting&&this._printSort(),this._$toHide.removeStyle("display"),this._changingLayout&&this.animation.animateChangeLayout&&this._$pre.css("display",this._newDisplay),this._execAction("_setFinal",1)},_getFinalMixData:function(){this._execAction("_getFinalMixData",0)
for(var t=0;t<this._$toShow.length;t++){var e=this._$toShow[t]
this._getTargetData(e,"final")}for(t=0;t<this._$pre.length;t++)e=this._$pre[t],this._getTargetData(e,"final")
this._newHeight=this._incPadding?this._$parent.outerHeight():this._$parent.height(),this._sorting&&this._printSort(!0),this._$toShow.removeStyle("display"),this._$pre.css("display",this.layout.display),this._changingClass&&this.animation.animateChangeLayout&&this._$container.removeClass(this._newClass).addClass(this.layout.containerClass),this._execAction("_getFinalMixData",1)},_prepTargets:function(){var e={_in:this._getPrefixedCSS("transform",this.effects.transformIn),_out:this._getPrefixedCSS("transform",this.effects.transformOut)}
this._execAction("_prepTargets",0),this.animation.animateResizeContainer&&this._$parent.css("height",this._startHeight+"px")
for(var i=0;i<this._$toShow.length;i++){var n=this._$toShow[i],o=t(n)
n.style.opacity=this.effects.opacity,n.style.display=this._changingLayout&&this.animation.animateChangeLayout?this._newDisplay:this.layout.display,o.css(e._in),this.animation.animateResizeTargets&&(n.style.width=n.dataset.finalWidth+"px",n.style.height=n.dataset.finalHeight+"px",n.style.marginRight=-(n.dataset.finalWidth-n.dataset.interWidth)+1*n.dataset.finalMarginRight+"px",n.style.marginBottom=-(n.dataset.finalHeight-n.dataset.interHeight)+1*n.dataset.finalMarginBottom+"px")}for(i=0;i<this._$pre.length;i++)n=this._$pre[i],o=t(n),e=this._getPrefixedCSS("transform","translate("+(n.dataset.origPosX-n.dataset.interPosX)+"px,"+(n.dataset.origPosY-n.dataset.interPosY)+"px)"),o.css(e),this.animation.animateResizeTargets&&(n.style.width=n.dataset.origWidth+"px",n.style.height=n.dataset.origHeight+"px",n.dataset.origWidth-n.dataset.finalWidth&&(n.style.marginRight=-(n.dataset.origWidth-n.dataset.interWidth)+1*n.dataset.origMarginRight+"px"),n.dataset.origHeight-n.dataset.finalHeight&&(n.style.marginBottom=-(n.dataset.origHeight-n.dataset.interHeight)+1*n.dataset.origMarginBottom+"px"))
this._execAction("_prepTargets",1)},_animateTargets:function(){var e,i
this._execAction("_animateTargets",0),this._targetsBound=this._targetsDone=0,this._$parent.css(this._getPrefixedCSS("perspective",this.animation.perspectiveDistance+"px")).css(this._getPrefixedCSS("perspective-origin",this.animation.perspectiveOrigin)),this.animation.animateResizeContainer&&this._$parent.css(this._getPrefixedCSS("transition","height "+this.animation.duration+"ms ease")).css("height",this._newHeight+"px")
for(var n=0;n<this._$toShow.length;n++){var o=this._$toShow[n],r=t(o)
e=o.dataset.finalPosX-o.dataset.interPosX,i=o.dataset.finalPosY-o.dataset.interPosY
var s=this._getDelay(n),a={}
for(o.style.opacity="",o=0;2>o;o++){var l=0===o?l=this._prefix:""
this._ff&&20>=this._ff&&(a[l+"transition-property"]="all",a[l+"transition-timing-function"]=this.animation.easing+"ms",a[l+"transition-duration"]=this.animation.duration+"ms"),a[l+"transition-delay"]=s+"ms",a[l+"transform"]="translate("+e+"px,"+i+"px)"}(this.effects.transform||this.effects.opacity)&&this._bindTargetDone(r),this._ff&&20>=this._ff?r.css(a):r.css(this.effects.transition).css(a)}for(n=0;n<this._$pre.length;n++)o=this._$pre[n],r=t(o),e=o.dataset.finalPosX-o.dataset.interPosX,i=o.dataset.finalPosY-o.dataset.interPosY,s=this._getDelay(n),o.dataset.finalPosX===o.dataset.origPosX&&o.dataset.finalPosY===o.dataset.origPosY||this._bindTargetDone(r),r.css(this._getPrefixedCSS("transition","all "+this.animation.duration+"ms "+this.animation.easing+" "+s+"ms")),r.css(this._getPrefixedCSS("transform","translate("+e+"px,"+i+"px)")),this.animation.animateResizeTargets&&(o.dataset.origWidth-o.dataset.finalWidth&&1*o.dataset.finalWidth&&(o.style.width=o.dataset.finalWidth+"px",o.style.marginRight=-(o.dataset.finalWidth-o.dataset.interWidth)+1*o.dataset.finalMarginRight+"px"),o.dataset.origHeight-o.dataset.finalHeight&&1*o.dataset.finalHeight&&(o.style.height=o.dataset.finalHeight+"px",o.style.marginBottom=-(o.dataset.finalHeight-o.dataset.interHeight)+1*o.dataset.finalMarginBottom+"px"))
for(this._changingClass&&this._$container.removeClass(this.layout.containerClass).addClass(this._newClass),n=0;n<this._$toHide.length;n++){for(o=this._$toHide[n],r=t(o),s=this._getDelay(n),e={},o=0;2>o;o++)l=0===o?l=this._prefix:"",e[l+"transition-delay"]=s+"ms",e[l+"transform"]=this.effects.transformOut,e.opacity=this.effects.opacity
r.css(this.effects.transition).css(e),(this.effects.transform||this.effects.opacity)&&this._bindTargetDone(r)}this._execAction("_animateTargets",1)},_bindTargetDone:function(e){var i=this,n=e[0]
i._execAction("_bindTargetDone",0,arguments),n.dataset.bound||(n.dataset.bound=!0,i._targetsBound++,e.on("webkitTransitionEnd.mixItUp transitionend.mixItUp",function(o){(-1<o.originalEvent.propertyName.indexOf("transform")||-1<o.originalEvent.propertyName.indexOf("opacity"))&&t(o.originalEvent.target).is(i.selectors.target)&&(e.off(".mixItUp"),delete n.dataset.bound,i._targetDone())})),i._execAction("_bindTargetDone",1,arguments)},_targetDone:function(){this._execAction("_targetDone",0),this._targetsDone++,this._targetsDone===this._targetsBound&&this._cleanUp(),this._execAction("_targetDone",1)},_cleanUp:function(){var e=this,i=e.animation.animateResizeTargets?"transform opacity width height margin-bottom margin-right":"transform opacity"
unBrake=function(){e._$targets.removeStyle("transition",e._prefix)},e._execAction("_cleanUp",0),e._changingLayout?e._$show.css("display",e._newDisplay):e._$show.css("display",e.layout.display),e._$targets.css(e._brake),e._$targets.removeStyle(i,e._prefix).removeAttr("data-inter-pos-x data-inter-pos-y data-final-pos-x data-final-pos-y data-orig-pos-x data-orig-pos-y data-orig-height data-orig-width data-final-height data-final-width data-inter-width data-inter-height data-orig-margin-right data-orig-margin-bottom data-inter-margin-right data-inter-margin-bottom data-final-margin-right data-final-margin-bottom"),e._$hide.removeStyle("display"),e._$parent.removeStyle("height transition perspective-distance perspective perspective-origin-x perspective-origin-y perspective-origin perspectiveOrigin",e._prefix),e._sorting&&(e._printSort(),e._activeSort=e._newSortString,e._sorting=!1),e._changingLayout&&(e._changingDisplay&&(e.layout.display=e._newDisplay,e._changingDisplay=!1),e._changingClass&&(e._$parent.removeClass(e.layout.containerClass).addClass(e._newClass),e.layout.containerClass=e._newClass,e._changingClass=!1),e._changingLayout=!1),e._refresh(),e._buildState(),e._state.fail&&e._$container.addClass(e.layout.containerClassFail),e._$show=t(),e._$hide=t(),window.requestAnimationFrame&&requestAnimationFrame(unBrake),e._mixing=!1,"function"==typeof e.callbacks._user&&e.callbacks._user.call(e._domNode,e._state,e),"function"==typeof e.callbacks.onMixEnd&&e.callbacks.onMixEnd.call(e._domNode,e._state,e),e._$container.trigger("mixEnd",[e._state,e]),e._state.fail&&("function"==typeof e.callbacks.onMixFail&&e.callbacks.onMixFail.call(e._domNode,e._state,e),e._$container.trigger("mixFail",[e._state,e])),e._loading&&("function"==typeof e.callbacks.onMixLoad&&e.callbacks.onMixLoad.call(e._domNode,e._state,e),e._$container.trigger("mixLoad",[e._state,e])),e._queue.length&&(e._execAction("_queue",0),e.multiMix(e._queue[0][0],e._queue[0][1],e._queue[0][2]),e._queue.splice(0,1)),e._execAction("_cleanUp",1),e._loading=!1},_getPrefixedCSS:function(t,e,n){var o={}
for(i=0;2>i;i++){var r=0===i?this._prefix:""
o[r+t]=n?r+e:e}return this._execFilter("_getPrefixedCSS",o,arguments)},_getDelay:function(t){var e="function"==typeof this.animation.staggerSequence?this.animation.staggerSequence.call(this._domNode,t,this._state):t
return this._execFilter("_getDelay",this.animation.stagger?e*this.animation.staggerDuration:0,arguments)},_parseMultiMixArgs:function(t){for(var e={command:null,animate:this.animation.enable,callback:null},i=0;i<t.length;i++){var n=t[i]
null!==n&&("object"==typeof n||"string"==typeof n?e.command=n:"boolean"==typeof n?e.animate=n:"function"==typeof n&&(e.callback=n))}return this._execFilter("_parseMultiMixArgs",e,arguments)},_parseInsertArgs:function(e){for(var i={index:0,$object:t(),multiMix:{filter:this._state.activeFilter},callback:null},n=0;n<e.length;n++){var o=e[n]
"number"==typeof o?i.index=o:"object"==typeof o&&o instanceof t?i.$object=o:"object"==typeof o&&this._helpers._isElement(o)?i.$object=t(o):"object"==typeof o&&null!==o?i.multiMix=o:"boolean"!=typeof o||o?"function"==typeof o&&(i.callback=o):i.multiMix=!1}return this._execFilter("_parseInsertArgs",i,arguments)},_execAction:function(t,e,i){if(e=e?"post":"pre",!this._actions.isEmptyObject&&this._actions.hasOwnProperty(t))for(var n in this._actions[t][e])this._actions[t][e][n].call(this,i)},_execFilter:function(t,e,i){if(this._filters.isEmptyObject||!this._filters.hasOwnProperty(t))return e
for(var n in this._filters[t])return this._filters[t][n].call(this,i)},_helpers:{_camelCase:function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},_isElement:function(t){return window.HTMLElement?t instanceof HTMLElement:null!==t&&1===t.nodeType&&"string"===t.nodeName}},isMixing:function(){return this._execFilter("isMixing",this._mixing)},filter:function(){var t=this._parseMultiMixArgs(arguments)
this._clicking&&(this._toggleString=""),this.multiMix({filter:t.command},t.animate,t.callback)},sort:function(){var t=this._parseMultiMixArgs(arguments)
this.multiMix({sort:t.command},t.animate,t.callback)},changeLayout:function(){var t=this._parseMultiMixArgs(arguments)
this.multiMix({changeLayout:t.command},t.animate,t.callback)},multiMix:function(){var t=this._parseMultiMixArgs(arguments)
if(this._execAction("multiMix",0,arguments),this._mixing)this.animation.queue&&this._queue.length<this.animation.queueLimit?(this._queue.push(arguments),this.controls.enable&&!this._clicking&&this._updateControls(t.command),this._execAction("multiMixQueue",1,arguments)):("function"==typeof this.callbacks.onMixBusy&&this.callbacks.onMixBusy.call(this._domNode,this._state,this),this._$container.trigger("mixBusy",[this._state,this]),this._execAction("multiMixBusy",1,arguments))
else{this.controls.enable&&!this._clicking&&(this.controls.toggleFilterButtons&&this._buildToggleArray(),this._updateControls(t.command,this.controls.toggleFilterButtons)),2>this._queue.length&&(this._clicking=!1),delete this.callbacks._user,t.callback&&(this.callbacks._user=t.callback)
var i=t.command.sort,n=t.command.filter,o=t.command.changeLayout
this._refresh(),i&&(this._newSort=this._parseSort(i),this._newSortString=i,this._sorting=!0,this._sort()),n!==e&&(this._activeFilter=n="all"===n?this.selectors.target:n),this._filter(),o&&(this._newDisplay="string"==typeof o?o:o.display||this.layout.display,this._newClass=o.containerClass||"",this._newDisplay!==this.layout.display||this._newClass!==this.layout.containerClass)&&(this._changingLayout=!0,this._changingClass=this._newClass!==this.layout.containerClass,this._changingDisplay=this._newDisplay!==this.layout.display),this._$targets.css(this._brake),this._goMix(t.animate^this.animation.enable?t.animate:this.animation.enable),this._execAction("multiMix",1,arguments)}},insert:function(){var t,e=this._parseInsertArgs(arguments),i="function"==typeof e.callback?e.callback:null,n=document.createDocumentFragment()
if(this._refresh(),t=this._$targets.length?e.index<this._$targets.length||!this._$targets.length?this._$targets[e.index]:this._$targets[this._$targets.length-1].nextElementSibling:this._$parent[0].children[0],this._execAction("insert",0,arguments),e.$object){for(var o=0;o<e.$object.length;o++)n.appendChild(e.$object[o]),n.appendChild(document.createTextNode(" "))
this._$parent[0].insertBefore(n,t)}this._execAction("insert",1,arguments),"object"==typeof e.multiMix&&this.multiMix(e.multiMix,i)},prepend:function(){var t=this._parseInsertArgs(arguments)
this.insert(0,t.$object,t.multiMix,t.callback)},append:function(){var t=this._parseInsertArgs(arguments)
this.insert(this._state.totalTargets,t.$object,t.multiMix,t.callback)},getOption:function(t){var i=function(t,i){for(var n=i.split("."),o=n.pop(),r=n.length,s=1,a=n[0]||i;(t=t[a])&&r>s;)a=n[s],s++
return t!==e?t[o]!==e?t[o]:t:void 0}
return t?this._execFilter("getOption",i(this,t),arguments):this},setOptions:function(e){this._execAction("setOptions",0,arguments),"object"==typeof e&&t.extend(!0,this,e),this._execAction("setOptions",1,arguments)},getState:function(){return this._execFilter("getState",this._state,this)},forceRefresh:function(){this._refresh(!1,!0)},destroy:function(e){this._execAction("destroy",0,arguments),this._$body.add(t(this.selectors.sort)).add(t(this.selectors.filter)).off(".mixItUp")
for(var i=0;i<this._$targets.length;i++){var n=this._$targets[i]
e&&(n.style.display=""),delete n.mixParent}this._execAction("destroy",1,arguments),delete t.MixItUp.prototype._instances[this._id]}},t.fn.mixItUp=function(){var i,n=arguments,o=[],r=function(e,i){var n=new t.MixItUp
n._execAction("_instantiate",0,arguments),e.id=e.id?e.id:"MixItUp"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase(),n._instances[e.id]||(n._instances[e.id]=n,n._init(e,i)),n._execAction("_instantiate",1,arguments)}
return i=this.each(function(){if(n&&"string"==typeof n[0]){var i=t.MixItUp.prototype._instances[this.id]
"isLoaded"===n[0]?o.push(i?!0:!1):(i=i[n[0]](n[1],n[2],n[3]),i!==e&&o.push(i))}else r(this,n[0])}),o.length?1<o.length?o:o[0]:i},t.fn.removeStyle=function(i,n){return n=n?n:"",this.each(function(){for(var o=i.split(" "),r=0;r<o.length;r++)for(var s=0;4>s;s++){switch(s){case 0:var a=o[r]
break
case 1:a=t.MixItUp.prototype._helpers._camelCase(a)
break
case 2:a=n+o[r]
break
case 3:a=t.MixItUp.prototype._helpers._camelCase(n+o[r])}if(this.style[a]!==e&&"unknown"!=typeof this.style[a]&&0<this.style[a].length&&(this.style[a]=""),!n&&1===s)break}this.attributes&&this.attributes.style&&this.attributes.style!==e&&""===this.attributes.style.value&&this.attributes.removeNamedItem("style")})}}(jQuery),function(t,e){function i(e,i){var o,r,s,a=e.nodeName.toLowerCase()
return"area"===a?(o=e.parentNode,r=o.name,e.href&&r&&"map"===o.nodeName.toLowerCase()?(s=t("img[usemap=#"+r+"]")[0],!!s&&n(s)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var o=0,r=/^ui-id-\d+$/
t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this
setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e
return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i)
if(this.length)for(var n,o,r=t(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(o=parseInt(r.css("zIndex"),10),!isNaN(o)&&0!==o))return o
r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),o=isNaN(n)
return(o||n>=0)&&i(e,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function o(e,i,n,o){return t.each(r,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var r="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight}
t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each(function(){t(this).css(s,o(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(s,o(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var o,r=t.ui[e].prototype
for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(t,e,i){var n,o=t.plugins[e]
if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1
var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1
return e[n]>0?!0:(e[n]=1,o=e[n]>0,e[n]=0,o)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,o=t.cleanData
t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(r){}o(e)},t.widget=function(i,n,o){var r,s,a,l,c={},d=i.split(".")[0]
i=i.split(".")[1],r=d+"-"+i,o||(o=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[d]=t[d]||{},s=t[d][i],a=t[d][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new a(t,i)},t.extend(a,s,{version:o.version,_proto:t.extend({},o),_childConstructors:[]}),l=new n,l.options=t.widget.extend({},l.options),t.each(o,function(i,o){return t.isFunction(o)?(c[i]=function(){var t=function(){return n.prototype[i].apply(this,arguments)},e=function(t){return n.prototype[i].apply(this,t)}
return function(){var i,n=this._super,r=this._superApply
return this._super=t,this._superApply=e,i=o.apply(this,arguments),this._super=n,this._superApply=r,i}}(),e):(c[i]=o,e)}),a.prototype=t.widget.extend(l,{widgetEventPrefix:s?l.widgetEventPrefix||i:i},c,{constructor:a,namespace:d,widgetName:i,widgetFullName:r}),s?(t.each(s._childConstructors,function(e,i){var n=i.prototype
t.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete s._childConstructors):n._childConstructors.push(a),t.widget.bridge(i,a)},t.widget.extend=function(i){for(var o,r,s=n.call(arguments,1),a=0,l=s.length;l>a;a++)for(o in s[a])r=s[a][o],s[a].hasOwnProperty(o)&&r!==e&&(i[o]=t.isPlainObject(r)?t.isPlainObject(i[o])?t.widget.extend({},i[o],r):t.widget.extend({},r):r)
return i},t.widget.bridge=function(i,o){var r=o.prototype.widgetFullName||i
t.fn[i]=function(s){var a="string"==typeof s,l=n.call(arguments,1),c=this
return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,this.each(a?function(){var n,o=t.data(this,r)
return o?t.isFunction(o[s])&&"_"!==s.charAt(0)?(n=o[s].apply(o,l),n!==o&&n!==e?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):e):t.error("no such method '"+s+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+s+"'")}:function(){var e=t.data(this,r)
e?e.option(s||{})._init():t.data(this,r,new o(s,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var o,r,s,a=i
if(0===arguments.length)return t.widget.extend({},this.options)
if("string"==typeof i)if(a={},o=i.split("."),i=o.shift(),o.length){for(r=a[i]=t.widget.extend({},this.options[i]),s=0;o.length-1>s;s++)r[o[s]]=r[o[s]]||{},r=r[o[s]]
if(i=o.pop(),1===arguments.length)return r[i]===e?null:r[i]
r[i]=n}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i]
a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e
for(e in t)this._setOption(e,t[e])
return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,o){var r,s=this
"boolean"!=typeof i&&(o=n,n=i,i=!1),o?(n=r=t(n),this.bindings=this.bindings.add(n)):(o=n,n=this.element,r=this.widget()),t.each(o,function(o,a){function l(){return i||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):e}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||t.guid++)
var c=o.match(/^(\w+)\s*(.*)$/),d=c[1]+s.eventNamespace,h=c[2]
h?r.delegate(h,d,l):n.bind(d,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this
return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var o,r,s=this.options[e]
if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o])
return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,r){"string"==typeof o&&(o={effect:o})
var s,a=o?o===!0||"number"==typeof o?i:o.effect||i:e
o=o||{},"number"==typeof o&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),s&&t.effects&&t.effects.effect[a]?n[e](o):a!==e&&n[a]?n[a](o.duration,o.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}})}(jQuery),function(t){var e=!1
t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this
this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i
var n=this,o=1===i.which,r="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1
return o&&!r&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options
return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options
return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash()
if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1
this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1
return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element
return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset()
return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position()
return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options
return o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),n=i[0],void(n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position)
var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent
return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,o,r,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,c=e.pageY
return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-s.grid[0]:r+s.grid[0]:r)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),o=n.options,r=t.extend({},i,{item:n.element})
n.sortables=[],t(o.connectToSortable).each(function(){var i=t.data(this,"ui-sortable")
i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,r))})},stop:function(e,i){var n=t(this).data("ui-draggable"),o=t.extend({},i,{item:n.element})
t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,o))})},drag:function(e,i){var n=t(this).data("ui-draggable"),o=this
t.each(n.sortables,function(){var r=!1,s=this
this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(s.instance.element[0],this.instance.element[0])&&(r=!1),r})),r?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options
e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options
e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),o=t(this).data("ui-draggable").options
n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options
n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable")
e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,o=!1
i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?o=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(o=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?o=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(o=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options
e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset()
this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,o,r,s,a,l,c,d,h,p,u=t(this).data("ui-draggable"),f=u.options,g=f.snapTolerance,m=i.offset.left,v=m+u.helperProportions.width,y=i.offset.top,b=y+u.helperProportions.height
for(h=u.snapElements.length-1;h>=0;h--)a=u.snapElements[h].left,l=a+u.snapElements[h].width,c=u.snapElements[h].top,d=c+u.snapElements[h].height,a-g>v||m>l+g||c-g>b||y>d+g||!t.contains(u.snapElements[h].item.ownerDocument,u.snapElements[h].item)?(u.snapElements[h].snapping&&u.options.snap.release&&u.options.snap.release.call(u.element,e,t.extend(u._uiHash(),{snapItem:u.snapElements[h].item})),u.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(d-y),r=g>=Math.abs(a-v),s=g>=Math.abs(l-m),n&&(i.position.top=u._convertPositionTo("relative",{top:c-u.helperProportions.height,left:0}).top-u.margins.top),o&&(i.position.top=u._convertPositionTo("relative",{top:d,left:0}).top-u.margins.top),r&&(i.position.left=u._convertPositionTo("relative",{top:0,left:a-u.helperProportions.width}).left-u.margins.left),s&&(i.position.left=u._convertPositionTo("relative",{top:0,left:l}).left-u.margins.left)),p=n||o||r||s,"outer"!==f.snapMode&&(n=g>=Math.abs(c-y),o=g>=Math.abs(d-b),r=g>=Math.abs(a-m),s=g>=Math.abs(l-v),n&&(i.position.top=u._convertPositionTo("relative",{top:c,left:0}).top-u.margins.top),o&&(i.position.top=u._convertPositionTo("relative",{top:d-u.helperProportions.height,left:0}).top-u.margins.top),r&&(i.position.left=u._convertPositionTo("relative",{top:0,left:a}).left-u.margins.left),s&&(i.position.left=u._convertPositionTo("relative",{top:0,left:l-u.helperProportions.width}).left-u.margins.left)),!u.snapElements[h].snapping&&(n||o||r||s||p)&&u.options.snap.snap&&u.options.snap.snap.call(u.element,e,t.extend(u._uiHash(),{snapItem:u.snapElements[h].item})),u.snapElements[h].snapping=n||o||r||s||p)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)})
n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),o=t(this).data("ui-draggable").options
n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options
n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept
this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1)
this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current
this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current
this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current
i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current
i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,o=!1
return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable")
return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,n){if(!i.offset)return!1
var o,r,s=(t.positionAbs||t.position.absolute).left,a=(t.positionAbs||t.position.absolute).top,l=s+t.helperProportions.width,c=a+t.helperProportions.height,d=i.offset.left,h=i.offset.top,p=d+i.proportions().width,u=h+i.proportions().height
switch(n){case"fit":return s>=d&&p>=l&&a>=h&&u>=c
case"intersect":return s+t.helperProportions.width/2>d&&p>l-t.helperProportions.width/2&&a+t.helperProportions.height/2>h&&u>c-t.helperProportions.height/2
case"pointer":return o=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,r=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(r,h,i.proportions().height)&&e(o,d,i.proportions().width)
case"touch":return(a>=h&&u>=a||c>=h&&u>=c||h>a&&c>u)&&(s>=d&&p>=s||l>=d&&p>=l||d>s&&l>p)
default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,o,r=t.ui.ddmanager.droppables[e.options.scope]||[],s=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack()
t:for(n=0;r.length>n;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(o=0;a.length>o;o++)if(a[o]===r[n].element[0]){r[n].proportions().height=0
continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===s&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1
return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,r,s=t.ui.intersect(e,this,this.options.tolerance),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null
a&&(this.options.greedy&&(o=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===o}),r.length&&(n=t.data(r[0],"ui-droppable"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,o,r,s=this,a=this.options
if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)n=t.trim(e[i]),r="ui-resizable-"+n,o=t("<div class='ui-resizable-handle "+r+"'></div>"),o.css({zIndex:a.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o)
this._renderAxis=function(e){var i,n,o,r
e=e||this.element
for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,r),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy()
var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()}
return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,o=!1
for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(o=!0)
return!this.options.disabled&&o},_mouseStart:function(i){var n,o,r,s=this.options,a=this.element.position(),l=this.element
return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=e(this.helper.css("left")),o=e(this.helper.css("top")),s.containment&&(n+=t(s.containment).scrollLeft()||0,o+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:o},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:o},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,n=this.helper,o={},r=this.originalMousePosition,s=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,d=this.size.height,h=e.pageX-r.left||0,p=e.pageY-r.top||0,u=this._change[s]
return u?(i=u.apply(this,[e,h,p]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==a&&(o.top=this.position.top+"px"),this.position.left!==l&&(o.left=this.position.left+"px"),this.size.width!==c&&(o.width=this.size.width+"px"),this.size.height!==d&&(o.height=this.size.height+"px"),n.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(o)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1
var i,n,o,r,s,a,l,c=this.options,d=this
return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&t.ui.hasScroll(i[0],"left")?0:d.sizeDiff.height,r=n?0:d.sizeDiff.width,s={width:d.helper.width()-r,height:d.helper.height()-o},a=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,o,r,s,a=this.options
s={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,o=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),o>s.minHeight&&(s.minHeight=o),s.maxWidth>n&&(s.maxWidth=n),s.maxHeight>r&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,o=this.axis
return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===o&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===o&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,o=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=i(t.width)&&e.minWidth&&e.minWidth>t.width,a=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,d=/sw|nw|w/.test(n),h=/nw|ne|n/.test(n)
return s&&(t.width=e.minWidth),a&&(t.height=e.minHeight),o&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),s&&d&&(t.left=l-e.minWidth),o&&d&&(t.left=l-e.maxWidth),a&&h&&(t.top=c-e.minHeight),r&&h&&(t.top=c-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,o,r=this.helper||this.element
for(t=0;this._proportionallyResizeElements.length>t;t++){if(o=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0)
o.css({height:r.height()-this.borderDif[0]-this.borderDif[2]||0,width:r.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options
this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition
return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,o=this.originalPosition
return{top:o.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,o=i._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&t.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null
i.element.animate(t.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)}
o&&o.length&&t(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,n,o,r,s,a,l,c=t(this).data("ui-resizable"),d=c.options,h=c.element,p=d.containment,u=p instanceof t?p.get(0):/parent/.test(p)?h.parent().get(0):p
u&&(c.containerElement=t(u),/document/.test(p)||p===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(u),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,o){n[t]=e(i.css("padding"+o))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},o=c.containerOffset,r=c.containerSize.height,s=c.containerSize.width,a=t.ui.hasScroll(u,"left")?u.scrollWidth:s,l=t.ui.hasScroll(u)?u.scrollHeight:r,c.parentData={element:u,left:o.left,top:o.top,width:a,height:l}))},resize:function(e){var i,n,o,r,s=t(this).data("ui-resizable"),a=s.options,l=s.containerOffset,c=s.position,d=s._aspectRatio||e.shiftKey,h={top:0,left:0},p=s.containerElement
p[0]!==document&&/static/.test(p.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),d&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),d&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,i=Math.abs((s._helper?s.offset.left-h.left:s.offset.left-h.left)+s.sizeDiff.width),n=Math.abs((s._helper?s.offset.top-h.top:s.offset.top-l.top)+s.sizeDiff.height),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r&&(i-=Math.abs(s.parentData.left)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,d&&(s.size.height=s.size.width/s.aspectRatio)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,d&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,o=e.containerPosition,r=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height
e._helper&&!i.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(r.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this)
e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})}
"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("ui-resizable"),o=n.options,r=n.originalSize,s=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0},l=function(e,n){t(e).each(function(){var e=t(this),o=t(this).data("ui-resizable-alsoresize"),r={},s=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"]
t.each(s,function(t,e){var i=(o[e]||0)+(a[e]||0)
i&&i>=0&&(r[e]=i||null)}),e.css(r)})}
"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):t.each(o.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size
e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable")
e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable")
e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,o=e.originalSize,r=e.originalPosition,s=e.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,c=a[1]||1,d=Math.round((n.width-o.width)/l)*l,h=Math.round((n.height-o.height)/c)*c,p=o.width+d,u=o.height+h,f=i.maxWidth&&p>i.maxWidth,g=i.maxHeight&&u>i.maxHeight,m=i.minWidth&&i.minWidth>p,v=i.minHeight&&i.minHeight>u
i.grid=a,m&&(p+=l),v&&(u+=c),f&&(p-=l),g&&(u-=c),/^(se|s|e)$/.test(s)?(e.size.width=p,e.size.height=u):/^(ne)$/.test(s)?(e.size.width=p,e.size.height=u,e.position.top=r.top-h):/^(sw)$/.test(s)?(e.size.width=p,e.size.height=u,e.position.left=r.left-d):(u-c>0?(e.size.height=u,e.position.top=r.top-h):(e.size.height=c,e.position.top=r.top+o.height-c),p-l>0?(e.size.width=p,e.position.left=r.left-d):(e.size.width=l,e.position.left=r.left+o.width-l))}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this
this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset()
t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options
this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item")
n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,o=t.data(this,"selectable-item")
return o?(n=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",e,{selecting:o.element}):i._trigger("unselecting",e,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,r=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY
return r>a&&(i=a,a=r,r=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:r,top:s,width:a-r,height:l-s}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1
i&&i.element!==n.element[0]&&("touch"===o.tolerance?c=!(i.left>a||r>i.right||i.top>l||s>i.bottom):"fit"===o.tolerance&&(c=i.left>r&&a>i.right&&i.top>s&&l>i.bottom),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this
return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item")
n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item")
n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options
this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy()
for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item")
return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,o=!1,r=this
return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")===r?(n=t(this),!1):void 0}),t.data(e.target,r.widgetName+"-item")===r&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(o=!0)}),o))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var o,r,s=this.options
if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this))
return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,o,r,s=this.options,a=!1
for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],r=this._intersectsWithPointer(n),r&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],o):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break
this._rearrange(e,n),this._trigger("change",e,this._uiHash())
break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,o=this.placeholder.offset(),r=this.options.axis,s={}
r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i)
return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show()
for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[]
return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/)
i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[]
return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,d=this.offset.click.left,h="x"===this.options.axis||n+c>a&&l>n+c,p="y"===this.options.axis||e+d>r&&s>e+d,u=h&&p
return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:e+this.helperProportions.width/2>r&&s>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>o-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&n,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection()
return o?this.floating?s&&"right"===s||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection()
return this.floating&&r?"right"===r&&n||"left"===r&&!n:o&&("down"===o&&i||"up"===o&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top
return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left
return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options
return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,o,r,s,a=[],l=[],c=this._connectWith()
if(c&&e)for(n=c.length-1;n>=0;n--)for(r=t(c[n]),o=r.length-1;o>=0;o--)s=t.data(r[o],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])
for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i)
return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)")
this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1
return!0})},_refreshItems:function(e){this.items=[],this.containers=[this]
var i,n,o,r,s,a,l,c,d=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],p=this._connectWith()
if(p&&this.ready)for(i=p.length-1;i>=0;i--)for(o=t(p[i]),n=o.length-1;n>=0;n--)r=t.data(o[n],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(h.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r))
for(i=h.length-1;i>=0;i--)for(s=h[i][1],a=h[i][0],n=0,c=a.length;c>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",s),d.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset())
var i,n,o,r
for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=o.outerWidth(),n.height=o.outerHeight()),r=o.offset(),n.left=r.left,n.top=r.top)
if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this)
else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()
return this},_createPlaceholder:function(e){e=e||this
var i,n=e.options
n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")
return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)}):"img"===n&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(n){var o,r,s,a,l,c,d,h,p,u,f=null,g=null
for(o=this.containers.length-1;o>=0;o--)if(!t.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(f&&t.contains(this.containers[o].element[0],f.element[0]))continue
f=this.containers[o],g=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",n,this._uiHash(this)),this.containers[o].containerCache.over=0)
if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",n,this._uiHash(this)),this.containers[g].containerCache.over=1)
else{for(s=1e4,a=null,u=f.floating||i(this.currentItem),l=u?"left":"top",c=u?"width":"height",d=this.positionAbs[l]+this.offset.click[l],r=this.items.length-1;r>=0;r--)t.contains(this.containers[g].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(!u||e(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height))&&(h=this.items[r].item.offset()[l],p=!1,Math.abs(h-d)>Math.abs(h+this.items[r][c]-d)&&(p=!0,h+=this.items[r][c]),s>Math.abs(h-d)&&(s=Math.abs(h-d),a=this.items[r],this.direction=p?"up":"down"))
if(!a&&!this.options.dropOnEmpty)return
if(this.currentContainer===this.containers[g])return
a?this._rearrange(n,a,null,!0):this._rearrange(n,null,this.containers[g].element,!0),this._trigger("change",n,this._uiHash()),this.containers[g]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",n,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem
return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent()
var e=this.offsetParent.offset()
return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position()
return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options
"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position)
var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName)
return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*n}},_generatePosition:function(e){var i,n,o=this.options,r=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName)
return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1
var o=this.counter
this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1
var n,o=[]
if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="")
this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show()
for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||o.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(o.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0)
if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;o.length>n;n++)o[n].call(this,t)
this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;o.length>n;n++)o[n].call(this,t)
this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this
return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),"catalog"==active_page&&$(function(){if(void 0!==localStorage.catalog)var t=JSON.parse(localStorage.catalog)
else{var t={}
localStorage.catalog=JSON.stringify(t)}$("#sort_by").change(function(){var e=this.value
$("#Grid").mixItUp("sort","random"==e?e:"sticky:desc "+e),t.sort_by=e,localStorage.catalog=JSON.stringify(t)}),$("#image_size").change(function(){var e=this.value
$(".grid-li").removeClass("grid-size-vsmall"),$(".grid-li").removeClass("grid-size-small"),$(".grid-li").removeClass("grid-size-medium"),$(".grid-li").removeClass("grid-size-large"),$(".grid-li").addClass("grid-size-"+e),t.image_size=e,localStorage.catalog=JSON.stringify(t)}),$("#Grid").mixItUp({animation:{enable:!1}}),void 0!==t.sort_by&&$("#sort_by").val(t.sort_by).trigger("change"),void 0!==t.image_size&&$("#image_size").val(t.image_size).trigger("change"),$("div.thread").on("click",function(){"hidden"===$(this).css("overflow-y")?($(this).css("overflow-y","auto"),$(this).css("width","100%")):($(this).css("overflow-y","hidden"),$(this).css("width","auto"))})})
var tout
if(function($){$.extend({tablesorter:new function(){function benchmark(t,e){log(t+","+((new Date).getTime()-e.getTime())+"ms")}function log(t){"undefined"!=typeof console&&"undefined"!=typeof console.debug?console.log(t):alert(t)}function buildParserCache(t,e){if(t.config.debug)var i=""
if(0!=t.tBodies.length){var n=t.tBodies[0].rows
if(n[0])for(var o=[],r=n[0].cells,s=r.length,a=0;s>a;a++){var l=!1
$.metadata&&$(e[a]).metadata()&&$(e[a]).metadata().sorter?l=getParserById($(e[a]).metadata().sorter):t.config.headers[a]&&t.config.headers[a].sorter&&(l=getParserById(t.config.headers[a].sorter)),l||(l=detectParserForColumn(t,n,-1,a)),t.config.debug&&(i+="column:"+a+" parser:"+l.id+"\n"),o.push(l)}return t.config.debug&&log(i),o}}function detectParserForColumn(t,e,i,n){for(var o=parsers.length,r=!1,s=!1,a=!0;""==s&&a;)i++,e[i]?(r=getNodeFromRowAndCellIndex(e,i,n),s=trimAndGetNodeText(t.config,r),t.config.debug&&log("Checking if value was empty on row:"+i)):a=!1
for(var l=1;o>l;l++)if(parsers[l].is(s,t,r))return parsers[l]
return parsers[0]}function getNodeFromRowAndCellIndex(t,e,i){return t[e].cells[i]}function trimAndGetNodeText(t,e){return $.trim(getElementText(t,e))}function getParserById(t){for(var e=parsers.length,i=0;e>i;i++)if(parsers[i].id.toLowerCase()==t.toLowerCase())return parsers[i]
return!1}function buildCache(t){if(t.config.debug)var e=new Date
for(var i=t.tBodies[0]&&t.tBodies[0].rows.length||0,n=t.tBodies[0].rows[0]&&t.tBodies[0].rows[0].cells.length||0,o=t.config.parsers,r={row:[],normalized:[]},s=0;i>s;++s){var a=$(t.tBodies[0].rows[s]),l=[]
if(a.hasClass(t.config.cssChildRow))r.row[r.row.length-1]=r.row[r.row.length-1].add(a)
else{r.row.push(a)
for(var c=0;n>c;++c)l.push(o[c].format(getElementText(t.config,a[0].cells[c]),t,a[0].cells[c]))
l.push(r.normalized.length),r.normalized.push(l),l=null}}return t.config.debug&&benchmark("Building cache for "+i+" rows:",e),r}function getElementText(t,e){var i=""
return e?(t.supportsTextContent||(t.supportsTextContent=e.textContent||!1),i="simple"==t.textExtraction?t.supportsTextContent?e.textContent:e.childNodes[0]&&e.childNodes[0].hasChildNodes()?e.childNodes[0].innerHTML:e.innerHTML:"function"==typeof t.textExtraction?t.textExtraction(e):$(e).text()):""}function appendToTable(t,e){if(t.config.debug)var i=new Date
for(var n=e,o=n.row,r=n.normalized,s=r.length,a=r[0].length-1,l=$(t.tBodies[0]),c=[],d=0;s>d;d++){var h=r[d][a]
if(c.push(o[h]),!t.config.appender)for(var p=o[h].length,u=0;p>u;u++)l[0].appendChild(o[h][u])}t.config.appender&&t.config.appender(t,c),c=null,t.config.debug&&benchmark("Rebuilt table:",i),applyWidget(t),setTimeout(function(){$(t).trigger("sortEnd")},0)}function buildHeaders(t){if(t.config.debug)var e=new Date
var i=($.metadata?!0:!1,computeTableHeaderCellIndexes(t))
return $tableHeaders=$(t.config.selectorHeaders,t).each(function(e){if(this.column=i[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(t.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(t,e))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(t,e)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(t,e)),!this.sortDisabled){var n=$(this).addClass(t.config.cssHeader)
t.config.onRenderHeader&&t.config.onRenderHeader.apply(n)}t.config.headerList[e]=this}),t.config.debug&&(benchmark("Built headers:",e),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(t){for(var e=[],i={},n=t.getElementsByTagName("THEAD")[0],o=n.getElementsByTagName("TR"),r=0;r<o.length;r++)for(var s=o[r].cells,a=0;a<s.length;a++){var l,c=s[a],d=c.parentNode.rowIndex,h=d+"-"+c.cellIndex,p=c.rowSpan||1,u=c.colSpan||1
"undefined"==typeof e[d]&&(e[d]=[])
for(var f=0;f<e[d].length+1;f++)if("undefined"==typeof e[d][f]){l=f
break}i[h]=l
for(var f=d;d+p>f;f++){"undefined"==typeof e[f]&&(e[f]=[])
for(var g=e[f],m=l;l+u>m;m++)g[m]="x"}}return i}function checkCellColSpan(t,e,i){for(var n=[],o=t.tHead.rows,r=o[i].cells,s=0;s<r.length;s++){var a=r[s]
a.colSpan>1?n=n.concat(checkCellColSpan(t,headerArr,i++)):(1==t.tHead.length||a.rowSpan>1||!o[i+1])&&n.push(a)}return n}function checkHeaderMetadata(t){return $.metadata&&$(t).metadata().sorter===!1?!0:!1}function checkHeaderOptions(t,e){return t.config.headers[e]&&t.config.headers[e].sorter===!1?!0:!1}function checkHeaderOptionsSortingLocked(t,e){return t.config.headers[e]&&t.config.headers[e].lockedOrder?t.config.headers[e].lockedOrder:!1}function applyWidget(t){for(var e=t.config.widgets,i=e.length,n=0;i>n;n++)getWidgetById(e[n]).format(t)}function getWidgetById(t){for(var e=widgets.length,i=0;e>i;i++)if(widgets[i].id.toLowerCase()==t.toLowerCase())return widgets[i]}function formatSortingOrder(t){return"Number"!=typeof t?"desc"==t.toLowerCase()?1:0:1==t?1:0}function isValueInArray(t,e){for(var i=e.length,n=0;i>n;n++)if(e[n][0]==t)return!0
return!1}function setHeadersCss(t,e,i,n){e.removeClass(n[0]).removeClass(n[1])
var o=[]
e.each(function(){this.sortDisabled||(o[this.column]=$(this))})
for(var r=i.length,s=0;r>s;s++)o[i[s][0]].addClass(n[i[s][1]])}function fixColumnWidth(t){var e=t.config
if(e.widthFixed){var i=$("<colgroup>")
$("tr:first td",t.tBodies[0]).each(function(){i.append($("<col>").css("width",$(this).width()))}),$(t).prepend(i)}}function updateHeaderSortCount(t,e){for(var i=t.config,n=e.length,o=0;n>o;o++){var r=e[o],s=i.headerList[r[0]]
s.count=r[1],s.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date
for(var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;l>i;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==table.config.parsers[c].type?0==order?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):0==order?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c),e="e"+i
dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1
dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];"
for(var i=0;l>i;i++)dynamicExp+="}; "
return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(t,e,i){var n="a["+i+"]",o="b["+i+"]"
return"text"==t&&"asc"==e?"("+n+" == "+o+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : ("+n+" < "+o+") ? -1 : 1 )));":"text"==t&&"desc"==e?"("+n+" == "+o+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : ("+o+" < "+n+") ? -1 : 1 )));":"numeric"==t&&"asc"==e?"("+n+" === null && "+o+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : "+n+" - "+o+"));":"numeric"==t&&"desc"==e?"("+n+" === null && "+o+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : "+o+" - "+n+"));":void 0}function makeSortText(t){return"((a["+t+"] < b["+t+"]) ? -1 : ((a["+t+"] > b["+t+"]) ? 1 : 0));"}function makeSortTextDesc(t){return"((b["+t+"] < a["+t+"]) ? -1 : ((b["+t+"] > a["+t+"]) ? 1 : 0));"}function makeSortNumeric(t){return"a["+t+"]-b["+t+"];"}function makeSortNumericDesc(t){return"b["+t+"]-a["+t+"];"}function sortText(t,e){return table.config.sortLocaleCompare?t.localeCompare(e):e>t?-1:t>e?1:0}function sortTextDesc(t,e){return table.config.sortLocaleCompare?e.localeCompare(t):t>e?-1:e>t?1:0}function sortNumeric(t,e){return t-e}function sortNumericDesc(t,e){return e-t}function getCachedSortType(t,e){return t[e].type}var parsers=[],widgets=[]
this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(t){return this.each(function(){if(this.tHead&&this.tBodies){var e,i,n,o
this.config={},o=$.extend(this.config,$.tablesorter.defaults,t),e=$(this),$.data(this,"tablesorter",o),i=buildHeaders(this),this.config.parsers=buildParserCache(this,i),n=buildCache(this)
var r=[o.cssDesc,o.cssAsc]
fixColumnWidth(this),i.click(function(t){var s=e[0].tBodies[0]&&e[0].tBodies[0].rows.length||0
if(!this.sortDisabled&&s>0){e.trigger("sortStart")
var a=($(this),this.column)
if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),t[o.sortMultiSortKey])if(isValueInArray(a,o.sortList))for(var l=0;l<o.sortList.length;l++){var c=o.sortList[l],d=o.headerList[c[0]]
c[0]==a&&(d.count=c[1],d.count++,c[1]=d.count%2)}else o.sortList.push([a,this.order])
else{if(o.sortList=[],null!=o.sortForce)for(var h=o.sortForce,l=0;l<h.length;l++)h[l][0]!=a&&o.sortList.push(h[l])
o.sortList.push([a,this.order])}return setTimeout(function(){setHeadersCss(e[0],i,o.sortList,r),appendToTable(e[0],multisort(e[0],o.sortList,n))},1),!1}}).mousedown(function(){return o.cancelSelection?(this.onselectstart=function(){return!1},!1):void 0}),e.bind("update",function(){var t=this
setTimeout(function(){t.config.parsers=buildParserCache(t,i),n=buildCache(t)},1)}).bind("updateCell",function(t,e){var i=this.config,o=[e.parentNode.rowIndex-1,e.cellIndex]
n.normalized[o[0]][o[1]]=i.parsers[o[1]].format(getElementText(i,e),e)}).bind("sorton",function(t,e){$(this).trigger("sortStart"),o.sortList=e
var s=o.sortList
updateHeaderSortCount(this,s),setHeadersCss(this,i,s,r),appendToTable(this,multisort(this,s,n))}).bind("appendCache",function(){appendToTable(this,n)}).bind("applyWidgetId",function(t,e){getWidgetById(e).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(o.sortList=$(this).metadata().sortlist),o.sortList.length>0&&e.trigger("sorton",[o.sortList]),applyWidget(this)}})},this.addParser=function(t){for(var e=parsers.length,i=!0,n=0;e>n;n++)parsers[n].id.toLowerCase()==t.id.toLowerCase()&&(i=!1)
i&&parsers.push(t)},this.addWidget=function(t){widgets.push(t)},this.formatFloat=function(t){var e=parseFloat(t)
return isNaN(e)?0:e},this.formatInt=function(t){var e=parseInt(t)
return isNaN(e)?0:e},this.isDigit=function(t){return/^[-+]?\d*$/.test($.trim(t.replace(/[,.']/g,"")))},this.clearTableBody=function(t){function e(){for(;this.firstChild;)this.removeChild(this.firstChild)}$.browser.msie?e.apply(t.tBodies[0]):t.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct})
var ts=$.tablesorter
ts.addParser({id:"text",is:function(){return!0},format:function(t){return $.trim(t.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(t,e){var i=e.config
return $.tablesorter.isDigit(t,i)},format:function(t){return $.tablesorter.formatFloat(t)},type:"numeric"}),ts.addParser({id:"currency",is:function(t){return/^[£$€?.]/.test(t)},format:function(t){return $.tablesorter.formatFloat(t.replace(new RegExp(/[£$€]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(t){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(t)},format:function(t){for(var e=t.split("."),i="",n=e.length,o=0;n>o;o++){var r=e[o]
i+=2==r.length?"0"+r:r}return $.tablesorter.formatFloat(i)},type:"numeric"}),ts.addParser({id:"url",is:function(t){return/^(https?|ftp|file):\/\/$/.test(t)},format:function(t){return jQuery.trim(t.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(t){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(t)},format:function(t){return $.tablesorter.formatFloat(""!=t?new Date(t.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(t){return/\%$/.test($.trim(t))},format:function(t){return $.tablesorter.formatFloat(t.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(t){return t.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(t){return $.tablesorter.formatFloat(new Date(t).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(t){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(t)},format:function(t,e){var i=e.config
return t=t.replace(/\-/g,"/"),"us"==i.dateFormat?t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):"uk"==i.dateFormat?t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):("dd/mm/yy"==i.dateFormat||"dd-mm-yy"==i.dateFormat)&&(t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(t).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(t){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(t)},format:function(t){return $.tablesorter.formatFloat(new Date("2000/01/01 "+t).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(){return!1},format:function(t,e,i){var n=e.config,o=n.parserMetadataName?n.parserMetadataName:"sortValue"
return $(i).metadata()[o]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(t){if(t.config.debug)var e=new Date
var i,n,o=-1
$("tr:visible",t.tBodies[0]).each(function(){i=$(this),i.hasClass(t.config.cssChildRow)||o++,n=o%2==0,i.removeClass(t.config.widgetZebra.css[n?0:1]).addClass(t.config.widgetZebra.css[n?1:0])}),t.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",e)}})}(jQuery),+function(){var t,e,i,n,o,r,s,a,l={}
window.Options=l
var c=function(){for(var t in s)return t
return!1}
l.show=function(){a||l.select_tab(c(),!0),e.fadeIn()},l.hide=function(){e.fadeOut()},s={},l.add_tab=function(t,e,i,o){var a={}
return"string"==typeof o&&(o=$("<div>"+o+"</div>")),a.id=t,a.name=i,a.icon=$("<div class='options_tab_icon'><i class='fa fa-"+e+"'></i><div>"+i+"</div></div>"),a.content=$("<div class='options_tab'></div>").css("display","none"),a.content.appendTo(n),a.icon.on("click",function(){l.select_tab(t)}).appendTo(r),$("<h2>"+i+"</h2>").appendTo(a.content),o&&o.appendTo(a.content),s[t]=a,a},l.get_tab=function(t){return s[t]},l.extend_tab=function(t,e){return"string"==typeof e&&(e=$("<div>"+e+"</div>")),e.appendTo(s[t].content),s[t]},l.select_tab=function(t,e){if(a){if(a.id==t)return!1
a.content.fadeOut(),a.icon.removeClass("active")}var i=s[t]
return a=i,a.icon.addClass("active"),i.content[e?"show":"fadeIn"](),i},e=$("<div id='options_handler'></div>").css("display","none"),i=$("<div id='options_background'></div>").on("click",l.hide).appendTo(e),n=$("<div id='options_div'></div>").appendTo(e),o=$("<a id='options_close' href='javascript:void(0)'><i class='fa fa-times'></i></div>").on("click",l.hide).appendTo(n),r=$("<div id='options_tablist'></div>").appendTo(n),$(function(){if(t=$("<a href='javascript:void(0)' title='"+_("Options")+"'>["+_("Options")+"]</a>"),$(".boardlist.compact-boardlist").length&&t.addClass("cb-item cb-fa").html("<i class='fa fa-gear'></i>"),$(".boardlist:first").length)t.css("float","right").appendTo($(".boardlist:first"))
else{var i=$('<div style="text-align: right"></div>')
t.appendTo(i),i.prependTo($(document.body))}t.on("click",l.show),e.appendTo($(document.body))})}(),onready(function(){var t=$("div.styles"),e=$("<select></select>"),i=1
t.children().each(function(){var t=$("<option></option>").html(this.innerHTML.replace(/(^\[|\]$)/g,"")).val(i)
$(this).hasClass("selected")&&t.attr("selected",!0),e.append(t),$(this).attr("id","style-select-"+i),i++}),e.change(function(){$("#style-select-"+$(this).val()).click()}),t.hide(),t.after($('<div id="style-select" style="float:right;margin-bottom:10px"></div>').text(_("Style: ")).append(e))}),+function(){var t=Options.add_tab("general","home",_("General"))
$(function(){var e=$("<div><em>"+_("Note: Most option changes will only take effect on future page loads.")+"</em></div>")
e.appendTo(t.content)
var i=$("<div>"+_("Storage: ")+"</div>")
i.appendTo(t.content),$("<button>"+_("Export")+"</button>").appendTo(i).on("click",function(){var t=JSON.stringify(localStorage)
$(".output").remove(),$("<input type='text' class='output'>").appendTo(i).val(t)}),$("<button>"+_("Import")+"</button>").appendTo(i).on("click",function(){var t=prompt(_("Paste your storage data"))
if(!t)return!1
var e=JSON.parse(t)
if(!e)return!1
localStorage.clear()
for(var i in e)localStorage[i]=e[i]
document.location.reload()}),$("<button>"+_("Erase")+"</button>").appendTo(i).on("click",function(){confirm(_("Are you sure you want to erase your storage? This involves your hidden threads, watched threads, post password and many more."))&&(localStorage.clear(),document.location.reload())}),$("#style-select").detach().css({"float":"none","margin-bottom":0}).appendTo(t.content)})}(),onready(function(){function t(t,e){var i=6e4,n=60*i,o=24*n,r=30*o,s=365*o,a=t-e
return i>a?"Just now":n>a?Math.round(a/i)+(Math.round(a/i)<=1?" minute ago":" minutes ago"):o>a?Math.round(a/n)+(Math.round(a/n)<=1?" hour ago":" hours ago"):r>a?Math.round(a/o)+(Math.round(a/o)<=1?" day ago":" days ago"):s>a?Math.round(a/r)+(Math.round(a/r)<=1?" month ago":" months ago"):Math.round(a/s)+(Math.round(a/s)<=1?" year ago":" years ago")}init_hover=function(){var i,o,r=$(this)
if(r.is("[data-thread]"))i=r.attr("data-thread")
else{if(!(o=r.text().match(/^>>(?:>\/([^\/]+)\/)?(\d+)$/)))return
i=o[2]}for(var s=$(this);void 0===s.data("board");)s=s.parent()
var a
a=r.is("[data-thread]")?0:s.attr("id").replace("thread_",""),s=s.data("board")
var l=s
r.is("[data-thread]")?l=$('form[name="post"] input[name="board"]').val():void 0!==o[1]&&(s=o[1])
var c=!1,d=!1
r.hover(function(){d=!0
var o=function(t){if(c.is(":visible")&&c.offset().top>=$(window).scrollTop()&&c.offset().top+c.height()<=$(window).scrollTop()+$(window).height())c.addClass("highlighted")
else{var e=c.clone()
if(e.find(">.reply, >br").remove(),e.find("a.post_anchor").remove(),e.attr("id","post-hover-"+i).attr("data-board",s).addClass("post-hover").css("border-style","solid").css("box-shadow","1px 1px 1px #999").css("display","block").css("position","absolute").css("font-style","normal").css("z-index","100").css("left","0").css("margin-left","").addClass("reply").addClass("post").appendTo(t.closest("div.post")),e.find("div.file img.post-image").css({display:"",opacity:""}),e.find("div.file img.full-image").remove(),t.hasClass("mentioned-"+i)){var n=e.find('div.body a:not([rel="nofollow"])')
if(n.length>1){var o=t.closest("div.post").attr("id").replace("reply_","").replace("inline_","")
n.each(function(){$(this).text()==">>"+o&&$(this).addClass("dashed-underline")})}}var r,a,l=e.outerWidth(!0),d=l-e.width(),h=t.offset().left
h<.7*$(document).width()?(r=h+t.width(),r+l>$(window).width()&&e.css("width",$(window).width()-r-d)):(l>h&&(e.css("width",h-d),l=h),r=h-l),e.css("left",r),a=t.offset().top-10
var p=$(window).scrollTop()
t.is("[data-thread]")&&(p=0,a-=$(window).scrollTop()),p+15>a?a=p:a>p+$(window).height()-e.height()-15&&(a=p+$(window).height()-e.height()-15),e.height()>$(window).height()&&(a=p),e.css("top",a)}}
if(c=$('[data-board="'+s+'"] div.post#reply_'+i+', [data-board="'+s+'"]div#thread_'+i),c.length>0)o($(this))
else{var h=r.attr("href").replace(/#.*$/,"").replace(".html",".json"),p=e(i,h)
p.done(function(e){var h=[],p=!1,u=function(t){var e={thumb_h:t.tn_h,thumb_w:t.tn_w,fsize:t.fsize,filename:t.filename,ext:t.ext,tim:t.tim}
"h"in t?(e.isImage=!0,e.h=t.h,e.w=t.w):e.isImage=!1,e.isSpoiler=128==t.tn_h&&128==t.tn_w,h.push(e)},f=function(t){var e=["Bytes","KB","MB"],i=parseInt(Math.floor(Math.log(t)/Math.log(1024)))
return 0===i?t+" "+e[i]:(t/Math.pow(1024,i)).toFixed(2)+" "+e[i]}
void 0===e.name&&(e.name="")
var g=localStorage.show_relative_time&&"false"!==localStorage.show_relative_time?t(Date.now(),1e3*e.time):n(new Date(1e3*e.time)),m=$('<div class="post reply hidden" id="reply_'+e.no+'">').append($('<p class="intro"></p>').append('<span class="name">'+e.name+"</span> ").append('<time datetime="'+new Date(1e3*e.time).toISOString()+'">'+g+"</time>").append('<a class="post_no"> No.'+e.no+"</a>")).append($('<div class="body"></div>').html(e.com)).css("display","none")
if("sub"in e&&m.find(".intro").prepend('<span class="subject">'+e.sub+"</span> "),"trip"in e&&m.find(".name").after('<span class="trip">'+e.trip+"</span>"),"capcode"in e&&m.find(".post_no").before('<span class="capcode">## '+e.capcode+"</span>"),"id"in e&&m.find(".post_no").before('<span class="poster_id">'+e.id+"</span>"),"embed"in e&&m.find("p.intro").after(e.embed),"filename"in e){var v=$('<div class="files">')
u(e),"extra_files"in e&&(p=!0,$.each(e.extra_files,function(){u(this)})),$.each(h,function(){var t,i=this.ext
this.isImage&&!this.isSpoiler?(e.last_modified>1422489600?this.ext=".png"==this.ext||".PNG"==this.ext?".png":".jpg":((".webm"===this.ext||".mp4"===this.ext||".jpeg"===this.ext)&&(this.ext=".jpg"),(".png"==this.ext||".PNG"==this.ext)&&(this.ext=".png")),t=this.tim.length>16?"/file_store/thumb/"+this.tim+this.ext:"/"+s+"/thumb/"+this.tim+this.ext):t=this.isSpoiler?"/static/spoiler.png":"/static/file.png",this.filename.length>23&&(this.filename=this.filename.substr(0,22)+"…")
var n=$('<div class="file">').append($('<p class="fileinfo">').append("<span>File: </span>").append("<a>"+this.filename+i+"</a>").append('<span class="unimportant"> ('+f(this.fsize)+", "+this.w+"x"+this.h+")</span>"))
p&&n.addClass("multifile").css("width",this.thumb_w+30)
var o=$('<img class="post-image">').css("width",this.thumb_w).css("height",this.thumb_h).attr("src",t)
n.append(o),v.append(n)}),m.children("p.intro").after(v)}var y=0!==e.resto?e.resto:e.no;(y!=a||l!=s)&&0===$("div#thread_"+y+'[data-board="'+s+'"]').length&&$('form[name="postcontrols"]').prepend('<div class="thread" id="thread_'+y+'" data-board="'+s+'" style="display: none;"></div>'),0===$("div#thread_"+y+'[data-board="'+s+'"]').children("#reply_"+e.no).length&&$("div#thread_"+y+'[data-board="'+s+'"]').prepend(m),c=$('[data-board="'+s+'"] div.post#reply_'+i+', [data-board="'+s+'"]div#thread_'+i),d&&c.length>0&&o(r)})}},function(){d=!1,c&&(c.removeClass("highlighted"),c.hasClass("hidden")&&c.css("display","none"),$(".post-hover").remove())})}
var e=function(){var t={}
return function(e,i){var n,o,r=$.Deferred(),s=function(t,e){for(var i=e.posts,n=0;n<i.length;n++)if(i[n].no==t)return i[n]
return!1},a=function(e,i){$.ajax({url:i,success:function(n){t[i]=n
var o=s(e,n)
r.resolve(o)}})}
return void 0!==(n=t[i])&&(o=s(e,n))?r.resolve(o):a(e,i),r.promise()}}(),i=function(t,e){return[Math.pow(10,e-t.toString().length),t].join("").substr(1)},n="undefined"==typeof strftime?function(t){return i(t.getMonth()+1,2)+"/"+i(t.getDate(),2)+"/"+t.getFullYear().toString().substring(2)+" ("+[_("Sun"),_("Mon"),_("Tue"),_("Wed"),_("Thu"),_("Fri"),_("Sat"),_("Sun")][t.getDay()]+") "+i(t.getHours(),2)+":"+i(t.getMinutes(),2)+":"+i(t.getSeconds(),2)}:function(t){return strftime(window.post_date,t,datelocale)}
$('div.body a:not([rel="nofollow"])').each(init_hover),$(document).on("new_post",function(t,e){$(e).find('div.body a:not([rel="nofollow"])').each(init_hover)})}),$(document).ready(function(){function t(t){("undefined"==typeof t||t)&&$.getJSON("https://8ch.net/boards-top20.json",e)}function e(t){$.each(t,function(t,e){boards.push('<a href="/'+e.uri+("catalog"===window.active_page?"/catalog.html":"/index.html")+'" title="'+e.title+'">'+e.uri+"</a>")}),boards[0]&&$('.sub[data-description="1"]').after('<span class="sub" data-description="4"> [ '+boards.slice(0,25).join(" / ")+" ] </span>")}if(window.boards=new Array,window.Options&&Options.get_tab("general")){if(Options.extend_tab("general","<label id='show_top_boards'><input type='checkbox' /> "+_("Show top boards")+"</label>"),"undefined"==typeof localStorage.show_top_boards){localStorage.show_top_boards="false"
var i=JSON.parse(localStorage.show_top_boards)}var i=JSON.parse(localStorage.show_top_boards)
i&&$("#show_top_boards>input").attr("checked","checked"),$("#show_top_boards>input").on("change",function(){var e=$(this).is(":checked")
localStorage.show_top_boards=JSON.stringify(e),e?t(e):$('.sub[data-description="4"]').remove()})}(""==window.location.pathname||"/"==window.location.pathname||"/index.html"==window.location.pathname||"undefined"==typeof i||i)&&$.getJSON("https://8ch.net/boards-top20.json",e)}),localStorage.favorites||(localStorage.favorites="[]"),("thread"==active_page||"index"==active_page||"catalog"==active_page)&&$(document).ready(function(){var t=JSON.parse(localStorage.favorites),e=~$.inArray(board_name,t)
$("header>h1").append('<a id="favorite-star" href="#" data-active="'+(e?"true":"false")+'" style="color: '+(e?"yellow":"grey")+'; text-decoration:none">★</span>'),add_favorites(),$("#favorite-star").on("click",function(t){t.preventDefault(),$(this).data("active")?(unfavorite(board_name),add_favorites(),$(this).css("color","grey"),$(this).data("active",!1)):(favorite(board_name),add_favorites(),$(this).css("color","yellow"),$(this).data("active",!0))})}),$(document).ready(function(){var t=function(){var t
t=parseInt(0==$("div.banner").length?$(this).parent().find("div.post.op a.post_no:eq(1)").text():$("div.post.op a.post_no:eq(1)").text()),$(this).find('div.body a:not([rel="nofollow"])').each(function(){var e;(e=$(this).text().match(/^>>(\d+)$/))&&(e=e[1],e==t&&$(this).after(" <small>(OP)</small>"))})}
$("div.post.reply").each(t),$(document).on("new_post",function(e,i){$(i).is("div.post.reply")?$(i).each(t):$(i).find("div.post.reply").each(t)})}),onready(function(){if("mobile"==device_type){var t=function(t){for(var e=t.getElementsByClassName("spoiler"),i=0;i<e.length;i++)e[i].onmousedown=function(){this.style.color="white"}}
t(document),$(document).on("new_post",function(e,i){t(i)})}}),$(document).ready(function(){"use strict"
var t=5,e=function(){for(var e=this.getElementsByTagName("a"),i=function(){var e=localStorage.inline_expand_max||t,i=0,n=[],o=function(t){n.push(t)},r=function(){return n.shift()},s=function(){for(var t;e>i||0===e;){if(t=r(),!t)return;++i,t.deferred.resolve()}}
return{remove:function(t){var e=n.indexOf(t)
e>-1&&n.splice(e,1),"true"===$(t).data("imageLoading")&&($(t).data("imageLoading","false"),clearTimeout(t.timeout),--i)},add:function(t){t.deferred=$.Deferred(),t.deferred.done(function(){var e=$.Deferred(),n=t.childNodes[0],o=t.childNodes[1],r=function(i){return i.naturalWidth?void e.resolve(i,n):t.timeout=setTimeout(r,30,i)}
$(o).one("load",function(){$.when(e).done(function(){--i,$(t).data("imageLoading","false"),s()})}),e.done(function(t,e){e.style.display="none",t.style.display=""}),o.setAttribute("src",t.href),$(t).data("imageLoading","true"),t.timeout=r(o)}),e>i||0===e?(++i,t.deferred.resolve()):o(t)}}}(),n=0;n<e.length;n++)"object"==typeof e[n]&&e[n].childNodes&&"undefined"!=typeof e[n].childNodes[0]&&e[n].childNodes[0].src&&e[n].childNodes[0].className.match(/post-image/)&&!e[n].className.match(/file/)&&(e[n].onclick=function(t){var e,n,o,r,s,a=this.childNodes[0],l=5,c=$(".boardlist")[0]
return"hidden"==a.className?!1:2==t.which||t.ctrlKey?!0:($(this).data("expanded")?(i.remove(this),s=!1,"full-image"==t.target.className&&(s=!0),~this.parentNode.className.indexOf("multifile")&&(this.parentNode.style.width=$(this).data("width")),a.style.opacity="",a.style.display="",a.nextSibling&&this.removeChild(a.nextSibling),$(this).removeData("expanded"),delete a.style.filter,s&&(n=$(a).parentsUntil("form > div").last(),o=n.find(".post-image").filter(function(){return"true"==$(this).parent().data("expanded")}).length,"fixed"==$(c).css("position")&&(l+=c.getBoundingClientRect().height),o>0?a.getBoundingClientRect().top-l<0&&$(document).scrollTop($(a).parent().parent().offset().top-l):n[0].getBoundingClientRect().top-l<0&&$(document).scrollTop(n.offset().top-l)),"true"===localStorage.no_animated_gif&&"function"==typeof unanimate_gif&&unanimate_gif(a)):(~this.parentNode.className.indexOf("multifile")&&$(this).data("width",this.parentNode.style.width),this.parentNode.removeAttribute("style"),$(this).data("expanded","true"),"CANVAS"===a.tagName&&(r=a,a=a.nextSibling,this.removeChild(r),r.style.display="block"),a.style.opacity="0.4",a.style.filter="alpha(opacity=40)",e=document.createElement("img"),e.className="full-image",e.style.display="none",e.setAttribute("alt","Fullsized image"),this.appendChild(e),i.add(this)),!1)})}
window.Options&&Options.get_tab("general")&&(Options.extend_tab("general",'<span id="inline-expand-max">'+_("Number of simultaneous image downloads (0 to disable): ")+'<input type="number" step="1" min="0" size="4"></span>'),$("#inline-expand-max input").css("width","50px").val(localStorage.inline_expand_max||t).on("change",function(t){var e=parseInt(t.target.value),i=0>e?0:e
localStorage.inline_expand_max=i})),window.jQuery?($('div[id^="thread_"]').each(e),$(document).on("new_post",function(t,i){e.call(i)})):e.call(document)}),onready(function(){var t=function(){var t=$(this).attr("id").replace(/^(reply|op)_/,"")
$(this).find('div.body a:not([rel="nofollow"])').each(function(){var e,i
if((e=$(this).text().match(/^>>(\d+)$/))&&(e=e[1],$post=$("#reply_"+e),0==$post.length&&($post=$("#op_"+e)),0!=$post.length&&(i=$post.find("p.intro span.mentioned"),0==i.length&&(i=$('<span class="mentioned unimportant"></span>').appendTo($post.find("p.intro"))),0==i.find("a.mentioned-"+t).length))){var n=$('<a class="mentioned-'+t+'" onclick="highlightReply(\''+t+'\', event);" href="#'+t+'">&gt;&gt;'+t+"</a>")
n.appendTo(i),n.after(" "),window.init_hover&&n.each(init_hover)}})}
$("div.post.reply").each(t),$(document).on("new_post",function(e,i){$(i).hasClass("reply")?t.call(i):$(i).find("div.post.reply").each(t)})}),"undefined"==typeof _)var _=function(t){return t}
var defaultSettings={videoexpand:!0,videohover:!1,videovolume:1,videoloop:!0},tempSettings={},settingsMenu=document.createElement("div"),prefix="",suffix="",style=""
if(window.Options){var tab=Options.add_tab("webm","video-camera",_("WebM"))
$(settingsMenu).appendTo(tab.content)}else prefix='<a class="unimportant" href="javascript:void(0)">'+_("WebM Settings")+"</a>",settingsMenu.style.textAlign="right",settingsMenu.style.background="inherit",suffix="</div>",style="display: none; text-align: left; position: absolute; right: 1em; margin-left: -999em; margin-top: -1px; padding-top: 1px; background: inherit;"
settingsMenu.innerHTML=prefix+'<div style="'+style+'"><label><input type="checkbox" name="videoexpand">'+_("Expand videos inline")+'</label><br><label><input type="checkbox" name="videohover">'+_("Play videos on hover")+'</label><br><label><input type="checkbox" name="videoloop">'+_("Loop videos by default")+'</label><br><label><input type="range" name="videovolume" min="0" max="1" step="0.01" style="width: 4em; height: 1ex; vertical-align: middle; margin: 0px;">'+_("Default volume")+"</label><br>"+suffix,refreshSettings()
for(var settingsItems=settingsMenu.getElementsByTagName("input"),i=0;i<settingsItems.length;i++)setupControl(settingsItems[i])
if(settingsMenu.addEventListener&&!window.Options&&(settingsMenu.addEventListener("mouseover",function(){refreshSettings(),settingsMenu.getElementsByTagName("a")[0].style.fontWeight="bold",settingsMenu.getElementsByTagName("div")[0].style.display="block"},!1),settingsMenu.addEventListener("mouseout",function(){settingsMenu.getElementsByTagName("a")[0].style.fontWeight="normal",settingsMenu.getElementsByTagName("div")[0].style.display="none"},!1)),"undefined"==typeof _)var _=function(t){return t}
onready(function(){if("undefined"!=typeof settingsMenu&&"undefined"==typeof Options&&document.body.insertBefore(settingsMenu,document.getElementsByTagName("hr")[0]),setupVideosIn(document),window.MutationObserver){var t=new MutationObserver(function(t){for(var e=0;e<t.length;e++){var i=t[e].addedNodes
if(null!=i)for(var n=0;n<i.length;n++){var o=i[n]
1==o.nodeType&&setupVideosIn(o)}}})
t.observe(document.body,{childList:!0,subtree:!0})}}),("thread"==active_page||"ukko"==active_page||"index"==active_page)&&$(function(){if(window.Options&&Options.get_tab("general")){var t="#treeview-global>input"
Options.extend_tab("general","<label id='treeview-global'><input type='checkbox' /> "+_("Use tree view by default")+"</label>"),$(t).on("change",function(){localStorage.treeview="true"===localStorage.treeview?"false":"true"}),"true"===localStorage.treeview&&$(t).attr("checked","checked")}}),"thread"==active_page&&$(function(){var t=function(t){t===!0?$(".post.reply").each(function(){var t=[]
$(this).find(".body a").each(function(){$(this).html().match("^&gt;&gt;[0-9]+$")&&t.push(parseInt($(this).html().replace("&gt;&gt;","")))})
var e=t.reduce(function(t,e){return t>e?t:e},0),i=$("#reply_"+e)
if(0!=i.length){var n=parseInt(i.css("margin-left"))+32,o=$(this),r=o.next()
o.detach().css("margin-left",n).insertAfter(i.next()),r.detach().insertAfter(o)}}):$(".post.reply").sort(function(t,e){return parseInt(t.id.replace("reply_",""))-parseInt(e.id.replace("reply_",""))}).each(function(){var t=$(this),e=t.next()
t.detach().css("margin-left","").appendTo(".thread"),e.detach().insertAfter(t)})}
$("hr:first").before('<div class="unimportant" style="text-align:right"><label for="treeview"><input type="checkbox" id="treeview"> '+_("Tree view")+"</label></div>"),$("input#treeview").on("change",function(){t($(this).is(":checked"))}),"true"===localStorage.treeview&&(t(!0),$("input#treeview").attr("checked",!0))}),$(function(){var t=function(){$(this).find("a").click(function(t){t.preventDefault()
var e=$(this).attr("href"),i=$(this).parents(".body")
$.ajax({url:e,context:document.body,success:function(t){var n=$(t).find("#"+e.split("#")[1]).parent().parent().find(".body").first().html()
i.html(n)}})})}
$(".toolong").each(t),$(document).on("new_post",function(e,i){$(i).find(".toolong").each(t)})})
var tb_settings={}
tb_settings["quick-reply"]={hide_at_top:!0,floating_link:!1,show_remote:!1,show_embed:!0},tb_settings.ajax={always_noko_replies:!1},tb_settings.wpaint={width:500,height:250},tb_settings["auto-reload"]={min_delay_bottom:5e3,max_delay:6e5,error_delay:3e4,reset_focus:!0},$(document).ready(function(){$('<style type="text/css"> img.hidden{ opacity: 0.1; background: grey; border: 1px solid #000; } </style>').appendTo($("head")),localStorage.hiddenimages||(localStorage.hiddenimages="{}")
var t=JSON.parse(localStorage.hiddenimages),e=function(){localStorage.hiddenimages=JSON.stringify(t)}
for(var i in t)for(var n in t[i])t[i][n]<Math.round(Date.now()/1e3)-2592e3&&(delete t[i][n],e())
var o=function(){var i=$(this).parents(".file").index(),n=this,o=($(this).parent().prev(),$(this).parents('div.post, div[id^="thread_"]').attr("id").split("_")[1]),r=$(this).parents('[id^="thread_"]').data("board")
t[r]||(t[r]={})
var s=$("<span>"+_("File")+' <small>(<a class="hide-image-link" href="javascript:void(0)">'+_("hide")+"</a>)</small>: </span>")
s.find("a").click(function(){t[r][o]?(t[r][o].ts=Math.round(Date.now()/1e3),-1===t[r][o].index.indexOf(i)&&t[r][o].index.push(i)):t[r][o]={ts:Math.round(Date.now()/1e3),index:[i]},e()
var s=$('<a class="show-image-link" href="javascript:void(0)">'+_("show")+"</a>").click(function(){var s=t[r][o].index.indexOf(i)
s>-1&&t[r][o].index.splice(s,1),0===t[r][o].index.length&&delete t[r][o],e(),$(n).removeClass("hidden").attr("src",$(n).data("orig")),$(this).prev().show(),$(this).remove()})
$(this).hide().after(s),"true"==$(n).parent().data("expanded")&&$(n).parent().click(),$(n).data("orig",n.src).attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==").addClass("hidden")}),$(this).parent().prev().contents().first().replaceWith(s),t[r][o]&&-1!==t[r][o].index.indexOf(i)&&$(this).parent().prev().find(".hide-image-link").click()}
$("div.post > a > img.post-image, div > a > img.post-image").each(o),$(document).on("new_post",function(t,e){$(e).find("a > img.post-image").each(o)})}),("ukko"==active_page||"thread"==active_page||"index"==active_page)&&onready(function(){$("hr:first").before('<div id="expand-all-images" style="text-align:right"><a class="unimportant" href="javascript:void(0)"></a></div>'),$("div#expand-all-images a").text(_("Expand all images")).click(function(){$("a img.post-image").each(function(){$(this).parent().parent().hasClass("video-container")||/^\/player\.php\?/.test($(this).parent().attr("href"))||$(this).parent().data("expanded")||$(this).parent().click()}),$("#shrink-all-images").length||$("hr:first").before('<div id="shrink-all-images" style="text-align:right"><a class="unimportant" href="javascript:void(0)"></a></div>'),$("div#shrink-all-images a").text(_("Shrink all images")).click(function(){$("a img.full-image").each(function(){$(this).parent().data("expanded")&&$(this).parent().click()}),$(this).parent().remove()})})}),$(document).ready(function(){"use strict"
function t(t,e){var i=6e4,n=60*i,o=24*n,r=30*o,s=365*o,a=t-e
return i>a?"Just now":n>a?Math.round(a/i)+(Math.round(a/i)<=1?" minute ago":" minutes ago"):o>a?Math.round(a/n)+(Math.round(a/n)<=1?" hour ago":" hours ago"):r>a?Math.round(a/o)+(Math.round(a/o)<=1?" day ago":" days ago"):s>a?Math.round(a/r)+(Math.round(a/r)<=1?" month ago":" months ago"):Math.round(a/s)+(Math.round(a/s)<=1?" year ago":" years ago")}var e=function(t){return t=t.replace(/\.\d\d\d+/,""),t=t.replace(/-/,"/").replace(/-/,"/"),t=t.replace(/T/," ").replace(/Z/," UTC"),t=t.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)},i=function(t,e){return[Math.pow(10,e-t.toString().length),t].join("").substr(1)},n="undefined"==typeof strftime?function(t){return i(t.getMonth()+1,2)+"/"+i(t.getDate(),2)+"/"+t.getFullYear().toString().substring(2)+" ("+[_("Sun"),_("Mon"),_("Tue"),_("Wed"),_("Thu"),_("Fri"),_("Sat"),_("Sun")][t.getDay()]+") "+i(t.getHours(),2)+":"+i(t.getMinutes(),2)+":"+i(t.getSeconds(),2)}:function(t){return strftime(window.post_date,t,datelocale)},o=function(i){for(var o=i.getElementsByTagName("time"),r=Date.now(),s=0;s<o.length;s++){var a=o[s].getAttribute("datetime"),l=new Date(a)
o[s].setAttribute("data-local","true"),localStorage.show_relative_time&&"false"!==localStorage.show_relative_time?(o[s].innerHTML=t(r,l.getTime()),o[s].setAttribute("title",n(e(a)))):(o[s].innerHTML=n(e(a)),o[s].setAttribute("title",t(r,l.getTime())))}}
if(window.Options&&Options.get_tab("general")&&window.jQuery){var r
Options.extend_tab("general",'<label id="show-relative-time"><input type="checkbox">'+_("Show relative time")+"</label>"),$("#show-relative-time>input").on("change",function(){"true"===localStorage.show_relative_time?(localStorage.show_relative_time="false",clearInterval(r)):(localStorage.show_relative_time="true",r=setInterval(o,3e4,document)),o(document)}),"true"===localStorage.show_relative_time&&($("#show-relative-time>input").attr("checked","checked"),r=setInterval(o,3e4,document)),$(document).on("new_post",function(t,e){o(e)})}o(document)}),$(document).ready(function(){if(0!=$("span.omitted").length){var t=function(){$(this).html($(this).text().replace(_("Click reply to view."),'<a href="javascript:void(0)">'+_("Click to expand")+"</a>.")).find("a").click(window.expand_fun=function(){{var t=$(this).parents('[id^="thread_"]')
t.attr("id").replace(/^thread_/,"")}$.ajax({url:t.find("div.post:not(.hidden) p.intro a.post_no:first").attr("href"),context:document.body,success:function(e){var i=!1
$(e).find("div.post.reply").each(function(){t.find("div.hidden").remove()
var e=t.find("#"+$(this).attr("id"))
0==e.length?(i?$(this).addClass("expanded").insertAfter(i).before('<br class="expanded">'):$(this).addClass("expanded").insertAfter(t.find("div.post:first")).after('<br class="expanded">'),i=$(this),$(document).trigger("new_post",this)):i=e}),t.find("span.omitted").css("display","none"),$('<span class="omitted hide-expanded"><a href="javascript:void(0)">'+_("Hide expanded replies")+"</a>.</span>").insertAfter(t.find(".op div.body, .op span.omitted").last()).click(function(){t.find(".expanded").remove(),$(this).parent().find(".omitted:not(.hide-expanded)").css("display",""),$(this).parent().find(".hide-expanded").remove()})}})})}
$("div.post.op span.omitted").each(t),$(document).on("new_post",function(e,i){$(i).hasClass("reply")||$(i).find("div.post.op span.omitted").each(t)})}}),$.fn.scrollStopped=function(t){$(this).scroll(function(){var e=this,i=$(e)
i.data("scrollTimeout")&&clearTimeout(i.data("scrollTimeout")),i.data("scrollTimeout",setTimeout(t,250,e))})}
var settings=new script_settings("auto-reload"),poll_interval_mindelay=settings.get("min_delay_bottom",5e3),poll_interval_maxdelay=settings.get("max_delay",6e5),poll_interval_errordelay=settings.get("error_delay",3e4),poll_interval_delay=poll_interval_mindelay,poll_current_time=poll_interval_delay,poll_finish=!0;+function(){var t=!1
auto_reload_enabled=!0,$(document).ready(function(){if("undefined"==typeof localStorage.auto_thread_update&&(localStorage.auto_thread_update="true"),window.Options&&Options.get_tab("general")&&(Options.extend_tab("general","<fieldset id='auto-update-fs'><legend>"+_("Auto update")+"</legend>"+('<label id="auto-thread-update"><input type="checkbox">'+_("Auto update thread")+"</label>")+('<label id="auto_thread_desktop_notifications"><input type="checkbox">'+_("Show desktop notifications when users quote me")+"</label>")+('<label id="auto_thread_desktop_notifications_all"><input type="checkbox">'+_("Show desktop notifications on all replies")+"</label>")+"</fieldset>"),$("#auto-thread-update>input").on("click",function(){localStorage.auto_thread_update=$("#auto-thread-update>input").is(":checked")?"true":"false"}),$("#auto_thread_desktop_notifications>input,#auto_thread_desktop_notifications_all>input").on("click",function(){if("Notification"in window){var t=$(this).parent().attr("id")
$(this).is(":checked")?(Notification.requestPermission(function(e){"granted"===e&&(localStorage[t]="true")}),"granted"===Notification.permission&&(localStorage[t]="true")):localStorage[t]="false"}}),"true"===localStorage.auto_thread_update&&$("#auto-thread-update>input").prop("checked",!0),"true"===localStorage.auto_thread_desktop_notifications&&($("#auto_thread_desktop_notifications>input").prop("checked",!0),t="mention"),"true"===localStorage.auto_thread_desktop_notifications_all&&($("#auto_thread_desktop_notifications_all>input").prop("checked",!0),t="all")),"thread"==active_page){var e,i=""
if(!inMod)var i="<a href='#' id='update_thread'>["+_("Update")+"]</a> (<input type='checkbox' id='auto_update_status'> "+_("Auto")+") <span id='update_secs'></span>"
$("span#thread-links").append("<span id='updater'>"+i+"</span>"),"true"===localStorage.auto_thread_update&&$("#auto_update_status").prop("checked",!0)
var n=!1,o=0,r=null,s=document.title
if("undefined"==typeof a)var a=function(){o?document.title="("+o+") "+s:(document.title=s,makeIcon(!1))}
"undefined"!=typeof add_title_collector&&add_title_collector(function(){return o})
var l=!0
$(window).focus(function(){l=!0,d(),settings.get("reset_focus",!0)&&(poll_interval_delay=poll_interval_mindelay)}),$(window).blur(function(){l=!1}),$("#auto_update_status").click(function(){$("#auto_update_status").is(":checked")?h(poll_interval_mindelay):(p(),$("#update_secs").text(""))})
var c=function(){poll_current_time-=1e3,$("#update_secs").text(poll_current_time/1e3),0>=poll_current_time&&m(manualUpdate=!1)},d=function(t){if("undefined"==typeof t)var t=!1;(t||o&&l&&$(window).scrollTop()+$(window).height()>=$("div.boardlist.bottom").position().top)&&(o=0),a(),r=null},h=function(t){clearInterval(e),poll_current_time=t,e=setInterval(c,1e3),$("#update_secs").text(poll_current_time/1e3)},p=function(){clearInterval(e)},u=(new Date).getTime(),f=u,g=function(t){return u-f>t?(f=u=(new Date).getTime(),!0):void(u=(new Date).getTime())},m=function(e){return p(),$("#update_secs").text(_("Updating...")),$.ajax({url:document.location,success:function(i){var n=0
$(i).find("div.post.reply").each(function(){var e=$(this).attr("id")
if(0==$("#"+e).length){if(!o&&(r=this,makeIcon("reply"),"all"===t||"mention"===t&&$(this).find(".own_post").length)){var i=$(this).children(".body").html().replace(/<br\s*[\/]?>/gi,"\n")
new Notification("New reply to "+$("title").text(),{body:$("<div/>").html(i).text()})}$(this).insertAfter($("div.post:not(.post-hover):last").next()).after('<br class="clear">'),o++,n++,$(document).trigger("new_post",this),d()}}),time_loaded=Date.now(),$("#auto_update_status").is(":checked")?(0==n?0==e&&(poll_interval_delay*=2,poll_interval_delay>poll_interval_maxdelay&&(poll_interval_delay=poll_interval_maxdelay)):poll_interval_delay=poll_interval_mindelay,h(poll_interval_delay)):$("#update_secs").text(n>0?fmt(_("Thread updated with {0} new post(s)"),[n]):_("No new posts found"))},error:function(t,e,i){if("error"==e){if("Not Found"==i)return $("#update_secs").text(_("Thread deleted or pruned")),$("#auto_update_status").prop("checked",!1),void $("#auto_update_status").prop("disabled",!0)
$("#update_secs").text("Error: "+i)}else $("#update_secs").text(e?_("Error: ")+e:_("Unknown error"))
$("#auto_update_status").is(":checked")&&(poll_interval_delay=poll_interval_errordelay,h(poll_interval_delay))}}),!1}
$(window).scrollStopped(function(){$(this).scrollTop()+$(this).height()<$("div.post:last").position().top+$("div.post:last").height()?n=!1:($("#auto_update_status").is(":checked")&&g(poll_interval_mindelay)&&m(manualUpdate=!0),n=!0),d(n)}),$("#update_thread").on("click",function(){return m(manualUpdate=!0),!1}),$("#auto_update_status").is(":checked")&&h(poll_interval_delay)}})}(),+function(){var t=Options.add_tab("user-css","css3",_("Theme")),e=$("<textarea></textarea>").css({height:"80%",width:"100%","font-size":"9pt","font-family":"monospace"}).appendTo(t.content),i=($("<input type='button' value='"+_("Save custom CSS")+"'>").css({width:"100%"}).click(function(){localStorage.user_css=e.val(),n()}).appendTo(t.content),function(){if("undefined"!=typeof styles){var e=$("<select id='stylechooser'></select>").appendTo(t.content)
localStorage.stylesheets_all_boards||(localStorage.stylesheets_all_boards="false"),localStorage.board_stylesheets||(localStorage.board_stylesheets="{}")
var i=function(){function t(t,e){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t}var i=!1
e.empty()
var n={"2channel":"/stylesheets/2channel.css",Cyberpunk:"/stylesheets/cyberpunk.css",Amber:"/stylesheets/amber.css",Fringe:"/stylesheets/fringe.css"}
styles=t(styles,n),$.each(styles,function(t){var n
k2="Custom"===t?_("Board-specific CSS"):t
var o=$("<option value='"+t+"' "+("Custom"===t?"class='default'":"")+">"+k2+"</option>").appendTo(e)
if("false"===localStorage.stylesheets_all_boards){var r=JSON.parse(localStorage.board_stylesheets)
r[board_name]&&(n=r[board_name])}(t===localStorage.stylesheet&&"true"===localStorage.stylesheets_all_boards||"false"===localStorage.stylesheets_all_boards&&n&&t===n)&&(o.prop("selected","selected"),i=!0)}),i||e.find(".default").prop("selected","selected")}
i()
var r=$("<label><input type='checkbox' id='css-all-boards'> "+_("Apply to all boards, not just this one")+" (/"+board_name+"/)</label>").appendTo(t.content).find("input")
"true"===localStorage.stylesheets_all_boards&&r.prop("checked","checked"),r.on("change",function(){localStorage.stylesheets_all_boards=$(this).is(":checked")?"true":"false",i(),n()}),e.on("change",function(){var t=$(this).val()
if(localStorage&&"false"===localStorage.stylesheets_all_boards){var e=JSON.parse(localStorage.board_stylesheets)
e||(e={}),e[board_name]=t,localStorage.board_stylesheets=JSON.stringify(e)}else localStorage.stylesheet=t
n()}),o()}}),n=function(){var t
if(localStorage&&"false"===localStorage.stylesheets_all_boards){if(localStorage&&localStorage.board_stylesheets){var e=JSON.parse(localStorage.board_stylesheets)
e&&e[board_name]&&(t=styles[e[board_name]])}}else localStorage&&localStorage.stylesheet&&(t=styles[localStorage.stylesheet])
$(".user-css").remove()
var i=$('link[rel="stylesheet"]:not(#stylesheet)').last()
return i.after($("<style></style>").addClass("user-css").text(localStorage.user_css)),t&&($(".user-chosen-stylesheet,#stylesheet").remove(),i.after($("<link rel='stylesheet'/>").attr("class","user-chosen-stylesheet").attr("id","stylesheet").attr("href",("/"!==configRoot?configRoot:"")+t))),t},o=function(){localStorage.user_css||e.text("/* "+_("Enter here your own CSS rules...")+" */\n/* "+_("If you want to make a redistributable style, be sure to\nhave a Yotsuba B theme selected.")+" */\n/* "+_("These will be applied on top of whatever theme you choose below.")+" */\n/* "+_("You can include CSS files from remote servers, for example:")+' */\n/* @import "http://example.com/style.css"; */'),e.text(localStorage.user_css),n()}
i()}(),+function(){var t=Options.add_tab("user-js","code",_("User JS"))
$("<h3 style='margin:0'>"+_("Do not paste code here unless you absolutely trust the source or have read it yourself!")+"</h3><span class='unimportant'>"+_("Untrusted code pasted here could do malicious things such as spam the site under your IP.")+"</span>").appendTo(t.content)
var e=$("<textarea></textarea>").css({height:"74%",width:"100%","font-size":"9pt","font-family":"monospace"}).appendTo(t.content),i=($("<input type='button' value='"+_("Save custom Javascript")+"'>").css({width:"100%"}).click(function(){localStorage.user_js=e.val(),document.location.reload()}).appendTo(t.content),function(){var t=function(){$(".user-js").remove(),$("script").last().after($("<script></script>").addClass("user-js").text(localStorage.user_js))};/immediate()/.test(localStorage.user_js)?t():$(t)}),n=function(){localStorage.user_js?(e.text(localStorage.user_js),i()):e.text("/* "+_("Enter your own Javascript code here...")+" */\n/* "+_("You can include JS files from remote servers, for example:")+' */\n/* load_js("http://example.com/script.js"); */')}
n(),window.load_js=function(t){$("script").last().after($("<script></script>").prop("type","text/javascript").prop("src",t))},window.immediate=function(){}}(),$(document).ready(function(){function t(t){n.splice(t,1),localStorage.favorites=JSON.stringify(n),$("#sortable > div:nth-child("+(t+1)+")").remove(),$("#minusList > div:nth-child("+(n.length+1)+")").remove(),add_favorites()}function e(){$("#sortable").append("<div>"+$("#plusBox").val()+"</div>"),$("#minusList").append($('<div data-board="'+n.length+'" style="cursor: pointer; margin-right: 5px">-</div>').on("click",function(){t($(this).data("board"))})),n.push($("#plusBox").val()),localStorage.favorites=JSON.stringify(n),$("#plusBox").val(""),add_favorites()}var i=function(){for(var t=[],e=1;e<n.length+1;e++)t.push($("#sortable > div:nth-child("+e+")").html())
return t},n=JSON.parse(localStorage.favorites)
Options.add_tab("fav-tab","star",_("Favorites"))
for(var o=$('<div id="sortable" style="cursor: pointer; display: inline-block">'),r=0;r<n.length;r++)o.append($("<div>"+n[r]+"</div>"))
for(var s=$('<div id="minusList" style="color: #0000FF; display: inline-block">'),r=0;r<n.length;r++)s.append($('<div data-board="'+r+'" style="cursor: pointer; margin-right: 5px">-</div>').on("click",function(){t($(this).data("board"))}))
$("<span>"+_("Drag the boards to sort them.")+"</span><br><br>").appendTo(Options.get_tab("fav-tab").content),$(s).appendTo(Options.get_tab("fav-tab").content),$(o).appendTo(Options.get_tab("fav-tab").content)
var a=$("<div id='favs-add-board'>"),l=$('<input id="plusBox" type="text">').appendTo(a)
l.keydown(function(t){13==t.keyCode&&$("#plus").click()}),$('<div id="plus">+</div>').css({cursor:"pointer",color:"#0000FF"}).on("click",function(){e()}).appendTo(a),a.appendTo(Options.get_tab("fav-tab").content),o.sortable(),o.on("sortstop",function(){n=i(),localStorage.favorites=JSON.stringify(n),add_favorites()})}),("ukko"==active_page||"thread"==active_page||"index"==active_page||window.Options&&Options.get_tab("general"))&&$(document).ready(function(){var t=function(){if(0==$(this).children("a.capcode").length){var t=$(this).parent().children("a.post_no:eq(1)").text()
if(0!=$(this).children("a.email").length)var e=$(this).children("a.email")
else var e=$(this)
old_info[t]={name:e.children("span.name").text(),trip:e.children("span.trip").text()},e.children("span.name").text("Anonymous"),0!=e.children("span.trip").length&&e.children("span.trip").text("")}},e=function(){$("p.intro label").each(t)},i=function(){$("p.intro label").each(function(){if(0==$(this).children("a.capcode").length){var t=$(this).parent().children("a.post_no:eq(1)").text()
if(old_info[t]){if(0!=$(this).children("a.email").length)var e=$(this).children("a.email")
else var e=$(this)
e.children("span.name").text(old_info[t].name),0!=e.children("span.trip").length&&e.children("span.trip").text(old_info[t].trip)}}})},n=function(){"true"==localStorage.hideids?$(this).addClass("hidden"):$(this).removeClass("hidden")}
if(old_info={},forced_anon=localStorage.forcedanon?!0:!1,window.Options&&Options.get_tab("general")){var o="#hide-ids",r="#forced-anon",s="change"
Options.extend_tab("general","<label id='hide-ids'><input type='checkbox' /> "+_("Hide IDs")+"</label>"),Options.extend_tab("general","<label id='forced-anon'><input type='checkbox' /> "+_("Forced anonymity")+"</label>")}else{var o="#hide-ids",r="#forced-anon",s="click"
$("hr:first").before('<div id="hide-ids" style="text-align:right"><a class="unimportant" href="javascript:void(0)">Hide IDs</a></div>'),$("hr:first").before('<div id="forced-anon" style="text-align:right"><a class="unimportant" href="javascript:void(0)">-</a></div>'),$("div#forced-anon a").text(_("Forced anonymity")+" ("+_(forced_anon?"enabled":"disabled")+")")}$(o).on(s,function(t){localStorage.hideids&&"false"!=localStorage.hideids?(localStorage.hideids="false",window.Options&&Options.get_tab("general")&&(t.target.checked=!1)):(localStorage.hideids="true",window.Options&&Options.get_tab("general")&&(t.target.checked=!0)),$(".poster_id").each(n)}),$(r).on(s,function(){return forced_anon=!forced_anon,forced_anon?($("div#forced-anon a").text(_("Forced anonymity")+" ("+_("enabled")+")"),localStorage.forcedanon=!0,e()):($("div#forced-anon a").text(_("Forced anonymity")+" ("+_("disabled")+")"),delete localStorage.forcedanon,i()),!1}),"true"==localStorage.hideids&&(window.Options&&Options.get_tab("general")&&$("#hide-ids>input").prop("checked",!0),$(".poster_id").each(n)),forced_anon&&(e(),window.Options&&Options.get_tab("general")&&$("#forced-anon>input").prop("checked",!0)),$(document).on("new_post",function(e,i){forced_anon&&$(i).find("p.intro label").each(t),"true"==localStorage.hideids&&$(i).find(".poster_id").each(n)})}),("ukko"==active_page||"index"==active_page||window.Options&&Options.get_tab("general"))&&$(document).ready(function(){var t=localStorage.hidelockedthreads?!0:!1
$('<style type="text/css"> img.hidden{ opacity: 0.1; background: grey; border: 1px solid #000; } </style>').appendTo($("head"))
var e,i,n=function(t){("ukko"==active_page||"index"==active_page)&&t.hide().addClass("hidden")},o=function(t){t.show().removeClass("hidden")},r=function(t){return t.parent().parent().parent()}
window.Options&&Options.get_tab("general")?(e="#toggle-locked-threads>input",i="change",Options.extend_tab("general","<label id='toggle-locked-threads'><input type='checkbox' /> "+_("Hide locked threads")+"</label>")):(e="#toggle-locked-threads a",i="click",$("hr:first").before('<div id="toggle-locked-threads" style="text-align:right"><a class="unimportant" href="javascript:void(0)">-</a></div>')),$("div#toggle-locked-threads a").text(_(t?"Show locked threads":"Hide locked threads")),$(e).on(i,function(){t=!t,t?($('img.icon[title="Locked"], i.fa-lock.fa').each(function(){n(r($(this)))}),localStorage.hidelockedthreads=!0):($('img.icon[title="Locked"], i.fa-lock.fa').each(function(){o(r($(this)))}),delete localStorage.hidelockedthreads),$(this).text(_(t?"Show locked threads":"Hide locked threads"))}),t&&($('img.icon[title="Locked"], i.fa-lock.fa').each(function(){n(r($(this)))}),window.Options&&Options.get_tab("general")&&$("#toggle-locked-threads>input").prop("checked",!0)),$(document).on("new_post",function(e,i){t&&$(i).find('img.icon[title="Locked"], i.fa-lock.fa').each(function(){n(r($(this)))})})}),$(document).ready(function(){var t=localStorage.hideimages?!0:!1
"catalog"===active_page&&filter_hide_images_vt(),$('<style type="text/css"> img.hidden{ opacity: 0.1; background: grey; border: 1px solid #000; } </style>').appendTo($("head"))
var e,i,n=function(){"true"==$(this).parent().data("expanded")&&$(this).parent().click(),"catalog"===active_page?$(this).attr("data-orig",this.src).addClass("hidden"):$(this).attr("data-orig",this.src).attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==").addClass("hidden")},o=function(){$(this).attr("src",$(this).attr("data-orig")).removeClass("hidden")},r=function(){t?$("a.hide-image-link").each(function(){$(this).next().hasClass("show-image-link")&&$(this).next().hide(),$(this).hide().after('<span class="toggle-images-placeholder">'+_("hidden")+"</span>")}):($("span.toggle-images-placeholder").remove(),$("a.hide-image-link").each(function(){$(this).next().hasClass("show-image-link")?$(this).next().show():$(this).show()}))}
window.Options&&Options.get_tab("general")?(e="#toggle-images>input",i="change",Options.extend_tab("general","<label id='toggle-images'><input type='checkbox' /> "+_("Hide images")+"</label>")):(e="#toggle-images a",i="click",$("hr:first").before('<div id="toggle-images" style="text-align:right"><a class="unimportant" href="javascript:void(0)">-</a></div>'),$("div#toggle-images a").text(_(t?"Show images":"Hide images"))),$(e).on(i,function(){t=!t,t?($("img.post-image, .theme-catalog .thread>a>img").each(n),localStorage.hideimages=!0):($("img.post-image, .theme-catalog .thread>a>img").each(o),delete localStorage.hideimages),r(),$(this).text(_(t?"Show images":"Hide images")),"catalog"===active_page&&filter_hide_images_vt()}),t&&($("img.post-image, .theme-catalog .thread>a>img").each(n),r(),window.Options&&Options.get_tab("general")&&$("#toggle-images>input").prop("checked",!0)),$(document).on("new_post",function(e,i){t&&$(i).find("img.post-image").each(n)})}),navigator.userAgent.match(/iPhone|iPod|iPad|Android|Opera Mini|Blackberry|PlayBook|Windows Phone|Tablet PC|Windows CE|IEMobile/i)?($("html").addClass("mobile-style"),device_type="mobile"):($("html").addClass("desktop-style"),device_type="desktop"),("thread"==active_page||"index"==active_page)&&$(document).ready(function(){function t(t,e){t.splice(-1==t.indexOf(e)?t.length:t.indexOf(e),1)}function e(t){return $(".poster_id").filter(function(){return $(this).text()==t})}function i(t){if(t.hasClass("post")){var e=[]
return $(t).each(function(){$(this).hasClass("post")&&e.push($(this))}),e}}var n=[],o=function(){var o=$(this).text();-1!==$.inArray(o,n)?(t(n,o),$(i(e(o).parents())).each(function(){$(this).removeClass("highlighted")})):(n.push(o),$(i(e(o).parents())).each(function(){$(this).addClass("highlighted")}))}
$(".poster_id").on("click",o),$(document).on("new_post",function(t,e){$(e).find(".poster_id").on("click",o)})}),("thread"==active_page||"index"==active_page)&&$(document).ready(function(){function t(t){var e=t.match(/.{1,2}/g),n=new Array
for(i=0;i<e.length;i++)n[i]=parseInt(e[i],16)
return n}function e(e){var i=t($(e).text()),n="#fff";.299*i[0]+.587*i[1]+.114*i[2]>125&&(n="#000"),$(e).css({"background-color":"rgb("+i[0]+", "+i[1]+", "+i[2]+")",padding:"0px 5px","border-radius":"8px",color:n}),$(e).mouseover(function(){$(this).css("color","#800000")}).mouseout(function(){$(this).css("color",n)})}if(window.Options&&Options.get_tab("general")){var n="#color-ids>input",o="change"
Options.extend_tab("general","<label id='color-ids'><input type='checkbox' /> "+_("Color IDs")+"</label>")}else{var n="#color-ids",o="click"
$("hr:first").before('<div id="color-ids" style="text-align:right"><a class="unimportant" href="javascript:void(0)">'+_("Color IDs")+"</a></div>")}$(n).on(o,function(){localStorage.color_ids="true"===localStorage.color_ids?"false":"true"}),localStorage.color_ids&&"false"!==localStorage.color_ids&&($("#color-ids>input").attr("checked","checked"),$(".poster_id").each(function(t,i){e(i)}),$(document).on("new_post",function(t,i){$(i).find(".poster_id").each(function(t,i){e(i)})}))}),$(document).ready(function(){var t={cache:{},get:function(e,i){var n=t.cache[e]
return n?i(n):void $.get(e,function(n){var o=$(n)
t.cache[e]=o,i(o)})},options:{add:function(e,i,n){n||(n="general")
var o=t.options.get(e),r=$('<div><label><input type="checkbox">'+i+"</label></div>")
r.find("input").prop("checked",o).on("change",t.options.check(e)),window.Options.extend_tab(n,r)},get:function(t){return localStorage[t]?JSON.parse(localStorage[t]):void 0},check:function(t){return function(){var e=this.checked
localStorage[t]=JSON.stringify(e)}}}},e=function(e){e.preventDefault()
var n,o,r=$(this).closest(".post"),s=this.textContent.slice(2),a=r.closest("[id^=thread]").attr("id").match(/\d+/)[0],l=!!this.className
if(l)n=r.find("> .intro"),o=a
else{n=$(this)
var c=inMod?this.search:this.pathname
o=c.match(/(\d+).html/)[1]}var d={id:"inline_"+s,isBacklink:l,node:n},h=s===o?"#op_"+a:"#reply_"+s,p=r.find("#inline_"+s)
if(p.length)return p.remove(),void $(h).show().next().show()
if(a===o){s===o&&(d.node=d.node.next())
var u=$(h)
if(u.length)return i(d,u)}var f=$('<div class="inline post">loading...</div>').attr("id",d.id).insertAfter(d.node)
t.get(this.pathname,function(t){f.remove()
var e=t.find(h)
i(d,e)})},i=function(e,i){var n=i.clone(!0)
e.isBacklink&&t.options.get("hidePost")&&i.hide().next().hide(),n.find(".inline").remove(),n.attr({"class":"inline post",id:e.id,style:null}),n.insertAfter(e.node)}
if(t.options.add("useInlining",_("Enable inlining")),t.options.add("hidePost",_("Hide inlined backlinked posts")),$("head").append("<style>.inline {border: 1px dashed black;white-space: normal;overflow: auto;}</style>"),t.options.get("useInlining")){var n=function(){$('.body a[href*="'+location.pathname+'"]').not("[rel]").not(".toolong > a").add(".mentioned a").attr("onclick",null).off("click").click(e)}
n(),$(document).on("new_post",function(){n()})}}),$(function(){if("index"==active_page){{var t=!1,e=function(){return"#all"!=document.location.hash?!1:($(window).on("scroll",function(){i()}),i(),!0)},i=function(){$(window).scrollTop()+$(window).height()+1e3>$(document).height()&&!t&&n()},n=function(){if(!t){t=!0
var e=$(".pages a.selected:last"),n=e.next(),o=n.prop("href")
if(o){var r=$("<h2>"+_("Page")+" "+n.html()+"</h2>"),s=$("<h2>"+_("Loading...")+"</h2>").insertBefore("#post-moderation-fields")
$.get(o,function(e){var o=$(e)
s.remove(),r.insertBefore("#post-moderation-fields")
var a=0
o.find('div[id*="thread_"]').each(function(){var t=$(this).attr("id").replace("thread_",""),e=this
0==$("div#thread_"+t).length&&(setTimeout(function(){$(e).insertBefore("#post-moderation-fields"),$(document).trigger("new_post",e),$(e).hide().slideDown()},500*a),a++)}),setTimeout(function(){t=!1,i()},500*(a+1)),n.addClass("selected")})}}}
$("<a href='#all'>"+_("All")+" </a>").prependTo(".pages")}$(window).on("hashchange",function(){return!e()}),e()}}),onready(function(){var t=function(){var t
t=$(this).attr("title")?$(this).attr("title"):$(this).text(),$(this).replaceWith($("<a></a>").attr("download",t).append($(this).contents()).attr("href",$(this).parent().parent().find("a").attr("href")+"/"+t).attr("title",t))}
$(".postfilename").each(t),$(document).on("new_post",function(e,i){$(i).find(".postfilename").each(t)})}),onready(function(){var t,e,i,n,o,r
e=function(){if("undefined"!==$(this).find("time").attr("unixtime")){i=$(this).find("time").attr("unixtime"),t=$(this).hasClass("op")?$(this).prev():$(this),n=0
var e=function(){filenamedownload=$(this).find(".fileinfo").find("a").first().text().split("."),r=filenamedownload[filenamedownload.length-1],o=0!=n?"-"+n:""
var t=i+o+"."+r,e=$(this).find("a").first().attr("title")
if(n+=1,$(this).find("a").attr("href")&&!$(this).find(".unimportant").find("a").hasClass("hash_unix")){var s=$(this).find("a").attr("href").replace("//8ch.net","//media.8ch.net")
s=s.replace("/file_store/","/file_dl/")
var a=" <a download='"+e+"' class='hash_unix hash_h' title='"+e+"' href='"+s+"'>(h)</a>",l="<a download='"+t+"' class='hash_unix hash_u' title='"+t+"' href='"+s+"/"+t+"'>(u)</a>"
$(this).find(".unimportant").append(a+" "+l)}}
t.find(".file").each(e)}},$(".has-file").each(e),$(document).on("new_post",function(t,i){$(i).parent().find(".has-file").last().each(e)})}),localStorage.watchlist||(localStorage.watchlist="[]")
var watchlist={}
if(watchlist.render=function(t){null==t&&(t=!1),t&&$("#watchlist").length&&$("#watchlist").remove()
var e=[]
if(JSON.parse(localStorage.watchlist).forEach(function(t,i){e.push('<div class="watchlist-inner" id="watchlist-'+i+'"><span>/'+t[0]+'/ - <a href="'+t[3]+'">'+t[1].replace("thread_",_("Thread #"))+"</a> ("+t[2]+') </span><a class="watchlist-remove">X</a></div>')}),$("#watchlist").length)$("#watchlist").children(".watchlist-inner").remove(),$("#watchlist").append(e.join(""))
else{var i=getComputedStyle($(".boardlist")[0])
$('form[name="post"]').before($('<div id="watchlist"><div class="watchlist-controls"><span><a id="clearList">['+_("Clear List")+']</a></span>&nbsp<span><a id="clearGhosts">['+_("Clear Ghosts")+"]</a></span></div>"+e.join("")+"</div>").css("background-color",i.backgroundColor).css("border",i.borderBottomWidth+" "+i.borderBottomStyle+" "+i.borderBottomColor))}return this},watchlist.add=function(t){var e,i
if("thread"===active_page)e=$(".subject").length?$(".subject").text().substring(0,20):$(".op").parent().attr("id"),i=[board_name,e,$(".post").length,location.href]
else{if("index"!==active_page)return alert("Functionality not yet implemented for this type of page."),this
var n
n=$(t).parents(".op").children(".omitted").length?$(t).parents(".op").children(".omitted").text().split(" ")[0]:$(t).parents(".op").siblings(".post").length+1
var o=$(t).siblings('a:contains("['+_("Reply")+']")').attr("href")
e=$(t).parent().find(".subject").length?$(t).parent().find(".subject").text().substring(0,20):$(t).parents("div").last().attr("id"),i=[board_name,e,n,o]}if(-1!==localStorage.watchlist.indexOf(JSON.stringify(i)))return this
var r=JSON.parse(localStorage.watchlist)
return r.push(i),localStorage.watchlist=JSON.stringify(r),this},watchlist.remove=function(t){var e=JSON.parse(localStorage.watchlist)
return e.splice(t,1),localStorage.watchlist=JSON.stringify(e),this},watchlist.clear=function(){return localStorage.watchlist="[]",this},watchlist.exists=function(t){$.ajax($(t).children().children("a").attr("href"),{type:"HEAD",error:function(){watchlist.remove(parseInt($(t).attr("id").split("-")[1])).render()},success:function(){}})},$(document).ready(function(){("thread"==active_page||"index"==active_page)&&($(".boardlist").append('<span>[ <a class="watchlist-toggle" href="#">'+_("watchlist")+"</a> ]</span>"),$(".op>.intro").append('<a class="watchThread" href="#">['+_("Watch Thread")+"]</a>"),watchlist.render(),$(".watchlist-toggle").on("click",function(t){t.preventDefault(),t.ctrlKey&&watchlist.render(!0),"none"!==$("#watchlist").css("display")?$("#watchlist").css("display","none"):$("#watchlist").css("display","block")}),$(".watchThread").on("click",function(t){t.preventDefault(),watchlist.add(this).render()}),$(document).on("click",".watchlist-remove",function(){var t=parseInt($(this).parent().attr("id").split("-")[1])
watchlist.remove(t).render()}),$("#clearList").on("click",function(){watchlist.clear().render()}),$("#clearGhosts").on("click",function(){$(".watchlist-inner").each(function(){watchlist.exists(this)})}))}),"undefined"==typeof identityCheck||"function"!=typeof identityCheck)var identityCheck=function(t){var e="https://sys.8ch.net/liveposting.php",i=document.querySelector("input[name=board]").value
$.ajax({type:"POST",url:e,data:{curb:i},cache:!1,success:function(e){switch(e){case"1":t(1)
break
default:t(0)}},error:function(e){t(3,e.responseText)}})}
if(+function(){var t=new script_settings("ajax"),e=!1,i=function(i){i.submit(function(){if(e)return!0
var n=$(this).find("form")[0],o=$(this).find('input[type="submit"]').val()
if(void 0===window.FormData)return!0
var r=new FormData(n)
r.append("json_response","1"),r.append("post",o),$(document).trigger("ajax_before_post",r)
var s=function(t){var e
e=Math.round(void 0===t.position?100*t.loaded/t.total:100*t.position/t.total),0/0!==e?$(n).find('input[type="submit"]').val(_("Posting... (#%)").replace("#",e)):($(n).find('input[type="submit"]').val(o),$(n).find('input[type="submit"]').removeAttr("disabled"),alert("Posting failed, please try again!"))},a=!1,l=function(){$.ajax({url:"https://sys.8ch.net/post.php",type:"POST",xhr:function(){var t=$.ajaxSettings.xhr()
return t.upload&&t.upload.addEventListener("progress",s,!1),t},beforeSend:function(t){0==a&&(t.abort(),identityCheck(function(t,e){switch(t){case 3:alert(e),$(n).find('input[type="submit"]').val(o),$(n).find('input[type="submit"]').removeAttr("disabled")
break
case 1:$(i).find(".file-thumbs").find(".tmb-container").length>0?captchabox("",!0,function(){a=!0,l()},function(){$(n).find('input[type="submit"]').val(o),$(n).find('input[type="submit"]').removeAttr("disabled")}):(a=!0,l())
break
default:a=!0,l()}}))},success:function(i,r,s){i.error?i.banned?(e=!0,$(n).find('input[type="submit"]').each(function(){var t=$('<input type="hidden">')
t.attr("name",$(this).attr("name")),t.val(o),$(this).after(t).replaceWith($('<input type="button">').val(o))}),$(n).submit()):(alert(i.error),$(n).find('input[type="submit"]').val(o),$(n).find('input[type="submit"]').removeAttr("disabled"),"Sorry. Tor users can't upload files."==i.error&&$(n).find('input[name="file_url"],input[type="file"]').val("").change()):i.redirect&&i.id?($(n).find('input[name="thread"]').length&&(t.get("always_noko_replies",!0)||i.noko)?$.ajax({url:document.location,success:function(t){$(t).find("div.post.reply").each(function(){var t=$(this).attr("id")
0==$("#"+t).length&&($(this).insertAfter($("div.post:last").next()).after('<br class="clear">'),$(document).trigger("new_post",this),setTimeout(function(){$(window).trigger("scroll")},100))}),highlightReply(i.id),window.location.hash=i.id,$(window).scrollTop($("div.post#reply_"+i.id).offset().top),$(n).find('input[type="submit"]').val(o),$(n).find('input[type="submit"]').removeAttr("disabled"),$(n).find('input[name="subject"],input[name="file_url"],											textarea[name="body"],input[type="file"],input[name="embed"]').val("").change()},cache:!1,contentType:!1,processData:!1},"html"):document.location=i.redirect,$(n).find('input[type="submit"]').val(_("Posted...")),$(document).trigger("ajax_after_post",i)):('{"captcha":true'==JSON.parse(JSON.stringify(s)).responseText.split("|")[0]?captchabox(""):alert(_("An unknown error occured when posting!")),$(n).find('input[type="submit"]').val(o),$(n).find('input[type="submit"]').removeAttr("disabled"))},error:function(t){'{"captcha":true'==JSON.parse(JSON.stringify(t)).responseText.split("|")[0]?captchabox(""):alert(_("The server took too long to submit your post. Your post was probably still submitted. If it wasn't, 8chan might be experiencing issues right now -- please try your post again later. Error information: ")+"<div><textarea>"+JSON.stringify(t)+"</textarea></div>"),$(n).find('input[type="submit"]').val(o),$(n).find('input[type="submit"]').removeAttr("disabled")},data:r,cache:!1,contentType:!1,processData:!1},"json")}
return l(),$(n).find('input[type="submit"]').val(_("Posting...")),$(n).find('input[type="submit"]').attr("disabled",!0),!1})}
$(window).on("quick-reply",function(){$("div#quick-reply form").off("submit"),i($("div#quick-reply"))}),onready(function(){$('input[type="submit"]').removeAttr("disabled"),i($("div#post-form-outer"))})}(),function(){var t=new script_settings("quick-reply"),e=function(){$("#quick-reply-css").remove()
var t=$('<div class="post reply"></div>').appendTo($("body")),e=t.css("backgroundColor"),i=t.css("borderStyle"),n=t.css("borderColor"),o=t.css("borderWidth")
t.remove(),$('<style type="text/css" id="quick-reply-css">		#quick-reply table {			border-collapse: collapse;			background: '+e+";			border-style: "+i+";			border-width: "+o+";			border-color: "+n+";			margin: 0;			width: 100%;		}		</style>").appendTo($("head"))},i=function(){if(0!=$("div.banner").length&&0==$("#quick-reply").length){e()
var i=$("#post-form-outer").clone()
if(i.clone(),$dummyStuff=$('<div class="nonsense"></div>').appendTo(i.find("form")),i.find("table tr").each(function(){var e=$(this).children("th:first"),n=$(this).children("td:first")
if(e.length&&n.length){if(n.attr("colspan",2),n.find('input[type="text"]').length&&n.find('input[type="text"]').removeAttr("size").attr("placeholder",e.clone().children().remove().end().text()),e.contents().filter(function(){return 3==this.nodeType}).remove(),e.contents().appendTo($dummyStuff),e.remove(),n.find('input[name="password"]').length&&$(this).hide(),n.find('input[type="submit"]').length&&(n.removeAttr("colspan"),$('<td class="submit"></td>').append(n.find('input[type="submit"]')).insertAfter(n)),n.find("#recaptcha_widget_div").length){var o=n.find("#recaptcha_image img")
o.removeAttr("id").removeAttr("style").addClass("recaptcha_image").click(function(){$("#recaptcha_reload").click()}),$("#recaptcha_response_field").focus(function(){o.attr("src")!=$("#recaptcha_image img").attr("src")&&(o.attr("src",$("#recaptcha_image img").attr("src")),i.find('input[name="recaptcha_challenge_field"]').val($("#recaptcha_challenge_field").val()),i.find('input[name="recaptcha_response_field"]').val("").focus())}),i.submit(function(){setTimeout(function(){$("#recaptcha_reload").click()},200)})
var r=$('<tr><td class="recaptcha-response" colspan="2"></td></tr>')
r.children().first().append(n.find("input").removeAttr("style")),r.find("#recaptcha_response_field").removeAttr("id").addClass("recaptcha_response_field").attr("placeholder",$("#recaptcha_response_field").attr("placeholder")),$("#recaptcha_response_field").addClass("recaptcha_response_field"),n.replaceWith($('<td class="recaptcha" colspan="2"></td>').append($("<span></span>").append(o))),r.insertAfter(this)}if(n.find('input[type="file"]').length){if(n.find('input[name="file_url"]').length){if($file_url=n.find('input[name="file_url"]'),t.get("show_remote",!1)){var r=$('<tr><td colspan="2"></td></tr>')
$file_url.clone().attr("placeholder",_("Upload URL")).appendTo(r.find("td")),r.insertBefore(this)}$file_url.parent().remove(),n.find("label").remove(),n.contents().filter(function(){return 3==this.nodeType}).remove(),n.find('input[name="file_url"]').removeAttr("id")}$(this).find('input[name="spoiler"]').length&&n.removeAttr("colspan")}!t.get("show_embed",!1)&&n.find('input[name="embed"]').length&&$(this).remove(),n.find("small").hide()}}),i.find('textarea[name="body"]').removeAttr("id").removeAttr("cols").attr("placeholder",_("Comment")).on("keydown",function(t){27===t.which&&$(".close-btn").trigger("click")}),i.find('textarea:not([name="body"]),input[type="hidden"]:not(.captcha_cookie)').removeAttr("id").appendTo($dummyStuff),i.find("br,p.board-settings,.unimportant,#oekaki,.required-field-cell").remove(),i.find(".show-options-cell").attr("colspan","2"),i.find("table:first").prepend('<tr><th colspan="2">			<span class="handle" id="blp">				<a class="close-btn" href="javascript:void(0)">×</a>				'+_("Quick Reply")+"			</span>			</th></tr>"),i.attr("id","quick-reply"),i.appendTo($("body")).hide(),$origPostForm=$('form[name="post"]:first'),$origPostForm.find('textarea[name="body"]').on("change input propertychange",function(){i.find('textarea[name="body"]').val($(this).val())}),i.find('textarea[name="body"]').on("change input propertychange",function(){$origPostForm.find('textarea[name="body"]').val($(this).val())}),i.find('textarea[name="body"]').focus(function(){$origPostForm.find('textarea[name="body"]').removeAttr("id"),$(this).attr("id","body")}),$origPostForm.find('textarea[name="body"]').focus(function(){i.find('textarea[name="body"]').removeAttr("id"),$(this).attr("id","body")}),$origPostForm.find('input[type="text"],select').on("change input propertychange",function(){i.find('[name="'+$(this).attr("name")+'"]').val($(this).val())}).change(),i.find('input[type="text"],select').on("change input propertychange",function(){$origPostForm.find('[name="'+$(this).attr("name")+'"]').val($(this).val())}),"undefined"!=typeof i.draggable){if(localStorage.quickReplyPosition){var o=JSON.parse(localStorage.quickReplyPosition)
o.top<0&&(o.top=0),o.right>$(window).width()-i.width()&&(o.right=$(window).width()-i.width()),o.top>$(window).height()-i.height()&&(o.top=$(window).height()-i.height()),i.css("right",o.right).css("top",o.top)}i.draggable({handle:"th .handle",containment:"window",distance:10,scroll:!1,stop:function(){var t={top:$(this).offset().top-$(window).scrollTop(),right:$(window).width()-$(this).offset().left-$(this).width()}
localStorage.quickReplyPosition=JSON.stringify(t),i.css("right",t.right).css("top",t.top).css("left","auto")}}),i.find("th .handle").css("cursor","move")}i.find("th .close-btn").click(function(){$origPostForm.find('textarea[name="body"]').attr("id","body"),i.remove(),n()}),i.show(),i.width(i.find("table").width()),i.hide(),$(window).trigger("quick-reply"),$(window).ready(function(){t.get("hide_at_top",!0)?$(window).scroll(function(){$(this).width()<=600||($(this).scrollTop()<$origPostForm.offset().top+$origPostForm.height()-100?i.fadeOut(100):i.fadeIn(100))}).scroll():i.show(),i.find('textarea[name="body"]').focus(),$(window).on("stylesheet",function(){e(),$("link#stylesheet").attr("href")&&($("link#stylesheet")[0].onload=e)})})}}
$(window).on("cite",function(t,e,n){$(this).width()<=600||(i(),n&&$(document).ready(function(){$("#"+e).length&&(highlightReply(e),$(document).scrollTop($("#"+e).offset().top)),setTimeout(function(){var t=$('#quick-reply textarea[name="body"]').val()
$('#quick-reply textarea[name="body"]').val("").focus().val(t)},1)}))})
var n=function(){t.get("floating_link",!1)&&($('<a href="javascript:void(0)" class="quick-reply-btn">'+_("Quick Reply")+"</a>").click(function(){i(),$(this).remove()}).appendTo($("body")),$(window).on("quick-reply",function(){$(".quick-reply-btn").remove()}))}
t.get("floating_link",!1)&&$(window).ready(function(){0!=$("div.banner").length&&($('<style type="text/css">			a.quick-reply-btn {				position: fixed;				right: 0;				bottom: 0;				display: block;				padding: 5px 13px;				text-decoration: none;			}			</style>').appendTo($("head")),n(),t.get("hide_at_top",!0)&&($(".quick-reply-btn").hide(),$(window).scroll(function(){$(this).width()<=600||($(this).scrollTop()<$('form[name="post"]:first').offset().top+$('form[name="post"]:first').height()-100?$(".quick-reply-btn").fadeOut(100):$(".quick-reply-btn").fadeIn(100))}).scroll()))})}(),$(document).ready(function(){$("#thread-quick-reply").show(),$("#link-quick-reply").on("click",function(t){return t.preventDefault(),$(window).trigger("cite",[""]),!1})}),+function(){var t=function(){if(!$(this).is(".you")){var t=$(this).parents('[id^="thread_"]').first()
t.length||(t=$(this))
var e=t.attr("data-board"),i=JSON.parse(localStorage.own_posts||"{}"),n=$(this).attr("id").split("_")[1]
i[e]&&-1!==i[e].indexOf(n)&&($(this).addClass("you"),$(this).find("span.name").first().append(' <span class="own_post">'+_("(You)")+"</span>")),$(this).find('div.body:first a:not([rel="nofollow"])').each(function(){var t;(t=$(this).text().match(/^>>(\d+)$/))&&(t=t[1],i[e]&&-1!==i[e].indexOf(t)&&$(this).after(" <small>"+_("(You)")+"</small>"))})}},e=function(){$('div[id^="thread_"], div.post.reply').each(t)},i=null
$(function(){i=$('input[name="board"]').first().val(),e()}),$(document).on("ajax_after_post",function(t,e){var n=JSON.parse(localStorage.own_posts||"{}")
n[i]=n[i]||[],n[i].push(e.id),localStorage.own_posts=JSON.stringify(n)}),$(document).on("new_post",function(e,i){var n=$(i)
n.is("div.post.reply")?n.each(t):(n.each(t),n.find("div.post.reply").each(t))})}(),$(document).ready(function(){if(window.Options&&Options.get_tab("general")){if(Options.extend_tab("general","<span id='youtube-size'>"+_("YouTube size")+": <input type='number' id='youtube-width' value='360'>x<input type='number' id='youtube-height' value='270'>"),"undefined"==typeof localStorage.youtube_size){localStorage.youtube_size='{"width":360,"height":270}'
var t=JSON.parse(localStorage.youtube_size)}else{var t=JSON.parse(localStorage.youtube_size)
$("#youtube-height").val(t.height),$("#youtube-width").val(t.width)}$("#youtube-width, #youtube-height").on("change",function(){"youtube-height"===$(this).attr("id")?t.height=$(this).val():t.width=$(this).val(),localStorage.youtube_size=JSON.stringify(t)})}var e=function(e){"undefined"==typeof t&&(t={width:360,height:270}),$("div.video-container a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="//www.youtube.com/embed/'+$(this.parentNode).data("video")+"?autoplay=1&html5=1"+$(this.parentNode).data("params")+'" allowfullscreen frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-vidme a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="//www.vid.me/e/'+$(this.parentNode).data("video")+'?stats=1" allowfullscreen frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-tgw1 a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="//video1.thegoldwater.com/api/player.php?id='+$(this.parentNode).data("video")+'" allowfullscreen frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-tgw2 a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="//video2.thegoldwater.com/api/player.php?id='+$(this.parentNode).data("video")+'" allowfullscreen frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-xhamster a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="380" height="280" src="//www.xhamster.com/xembed.php?video='+$(this.parentNode).data("video")+'" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-redtube a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html"  src="https://embed.redtube.com/?id='+$(this.parentNode).data("video")+'&bgcolor=000000" frameborder="0" width="380" height="280" scrolling="no" allowfullscreen/>'),$(this).remove(),!1}),$("div.video-container-pornhub a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="380" height="280" src="https://www.pornhub.com/embed/'+$(this.parentNode).data("video")+'" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-vimeo a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://player.vimeo.com/video/'+$(this.parentNode).data("video")+'?color=ffffff" webkitallowfullscreen mozallowfullscreen allowfullscreen frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-tube8 a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="608" height="481" src="https://www.tube8.com/embed/'+$(this.parentNode).data("video")+'" scrolling="no" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" name="t8_embed_video" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-xvideos a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://flashservice.xvideos.com/embedframe/'+$(this.parentNode).data("video")+'" scrolling=no allowfullscreen=allowfullscreen frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-youjizz a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://www.youjizz.com/videos/embed/'+$(this.parentNode).data("video")+'" allowfullscreen scrolling="no" allowtransparency="true" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-twitch a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://player.twitch.tv/?channel='+$(this.parentNode).data("video")+'" allowfullscreen scrolling="no" allowtransparency="true" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-dailymotion a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://www.dailymotion.com/embed/video/'+$(this.parentNode).data("video")+'" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-vaughnlive a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://vaughnlive.tv/embed/video/'+$(this.parentNode).data("video")+'" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-liveleak a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://www.liveleak.com/ll_embed?i='+$(this.parentNode).data("video")+'" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-nicovideo a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://embed.nicovideo.jp/watch/sm'+$(this.parentNode).data("video")+'?oldScript=1" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-streamable a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://streamable.com/e/'+$(this.parentNode).data("video")+'?r=a" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-soundcloud a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://w.soundcloud.com/player/?url='+$(this.parentNode).data("video")+'&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-xaniatube a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="640" height="360" src="https://www.xaniatube.com/embed.php?vid='+$(this.parentNode).data("video")+'" allowfullscreen seamless scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-vlive a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="//www.vlive.tv/embed/'+$(this.parentNode).data("video")+'#playerBoxArea" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-vocaroo a",e).click(function(){return $(this.parentNode).append('<object width="148" height="44"><param name="movie" value="https://vocaroo.com/player.swf?playMediaID='+$(this.parentNode).data("video")+'&autoplay=0"></param><param name="wmode" value="transparent"></param><embed src="https://vocaroo.com/player.swf?playMediaID='+$(this.parentNode).data("video")+'&autoplay=0" width="148" height="44" wmode="transparent" type="application/x-shockwave-flash"></embed></object>'),$(this).remove(),!1}),$("div.video-container-hooktube a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://hooktube.com/embed/'+$(this.parentNode).data("video")+'" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container-smashcast a",e).click(function(){return $(this.parentNode).append('<iframe style="float:left;margin: 10px 20px" type="text/html" width="'+t.width+'" height="'+t.height+'" src="https://www.smashcast.tv/embed/'+$(this.parentNode).data("video")+'" allowfullscreen scrolling="no" frameborder="0"/>'),$(this).remove(),!1}),$("div.video-container.twitch").find("object").each(function(e,i){$(i).attr("width",t.width).attr("height",t.height)})}
e(document),$(document).on("new_post",function(t,i){e(i)})}),$(document).on("ready",function(){var t={handle:".video-handle",containment:"window",scroll:!1,distance:10,stop:function(){$(this).css("position","fixed")}},e=$('<div class="post reply"></div>').appendTo($("body")),i=e.css("backgroundColor")
e.remove(),$(".video-container").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container").css({display:"inline-block","float":"left"}),$(".thread>.video-container>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-vidme").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-vidme").css({display:"inline-block","float":"left"}),$(".thread>.video-container-vidme>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-vidme")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-tgw1").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-tgw1").css({display:"inline-block","float":"left"}),$(".thread>.video-container-tgw1>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-tgw1")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-tgw2").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-tgw2").css({display:"inline-block","float":"left"}),$(".thread>.video-container-tgw2>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-tgw2")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-xhamster").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-xhamster").css({display:"inline-block","float":"left"}),$(".thread>.video-container-xhamster>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-xhamster")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-redtube").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-redtube").css({display:"inline-block","float":"left"}),$(".thread>.video-container-redtube>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-redtube")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-pornhub").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-pornhub").css({display:"inline-block","float":"left"}),$(".thread>.video-container-pornhub>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-pornhub")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-tube8").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-tube8").css({display:"inline-block","float":"left"}),$(".thread>.video-container-tube8>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-tube8")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-xvideos").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-xvideos").css({display:"inline-block","float":"left"}),$(".thread>.video-container-xvideos>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-xvideos")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-youjizz").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-youjizz").css({display:"inline-block","float":"left"}),$(".thread>.video-container-youjizz>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-youizz")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-twitch").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-twitch").css({display:"inline-block","float":"left"}),$(".thread>.video-container-twitch>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-twitch")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-dailymotion").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-dailymotion").css({display:"inline-block","float":"left"}),$(".thread>.video-container-dailymotion>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-dailymotion")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-vaughnlive").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-vaughnlive").css({display:"inline-block","float":"left"}),$(".thread>.video-container-vaughnlive>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-vaughnlive")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-liveleak").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-liveleak").css({display:"inline-block","float":"left"}),$(".thread>.video-container-liveleak>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-liveleak")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-nicovideo").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-nicovideo").css({display:"inline-block","float":"left"}),$(".thread>.video-container-nicovideo>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-nicovideo")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-streamable").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-streamable").css({display:"inline-block","float":"left"}),$(".thread>.video-container-streamable>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-streamable")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-soundcloud").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-soundcloud").css({display:"inline-block","float":"left"}),$(".thread>.video-container-soundcloud>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-soundcloud")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-xaniatube").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-xaniatube").css({display:"inline-block","float":"left"}),$(".thread>.video-container-xaniatube>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-xaniatube")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-vlive").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-vlive").css({display:"inline-block","float":"left"}),$(".thread>.video-container-vlive>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-vlive")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-vocaroo").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-vocaroo").css({display:"inline-block","float":"left"}),$(".thread>.video-container-vocaroo>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-vocaroo")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-hooktube").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-hooktube").css({display:"inline-block","float":"left"}),$(".thread>.video-container-hooktube>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-hooktube")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)}),$(".video-container-smashcast").prepend($('<a href="#" class="video-pop" style="font-weight:bold;float:right">[pop]</a>')),$(".video-container-smashcast").css({display:"inline-block","float":"left"}),$(".thread>.video-container-smashcast>a>img").css("margin-bottom",0),$(".video-pop").on("click",function(e){e.preventDefault()
var n=$(this).parents(".video-container-smashcast")
return n.hasClass("popped")?(n.removeClass("popped"),n.draggable("destroy"),n.removeClass("ui-draggable"),n.css("position","static"),n.find(".video-handle").remove(),void $(this).text("[pop]")):($(this).text("[return]"),n.prepend($('<i class="fa fa-arrows video-handle" style="border:1px solid black;padding:2px;cursor:move">')),n.addClass("ui-draggable"),n.addClass("popped"),n.css("background-color",i),n.css("z-index",31),n.css("top",n.offset().top-$(window).scrollTop()),n.css("left",n.offset().left-$(window).scrollLeft()),n.css("position","fixed"),n.draggable(t),void 0)})}),"thread"==active_page||"index"==active_page)var formatText=function(t){"use strict"
var e={}
return e.rules={spoiler:{text:_("Spoiler"),key:"s",multiline:!1,exclusiveline:!1,prefix:"**",suffix:"**"},italics:{text:_("Italics"),key:"i",multiline:!1,exclusiveline:!1,prefix:"''",suffix:"''"},bold:{text:_("Bold"),key:"b",multiline:!1,exclusiveline:!1,prefix:"'''",suffix:"'''"},underline:{text:_("Underline"),key:"u",multiline:!1,exclusiveline:!1,prefix:"__",suffix:"__"},code:{text:_("Code"),key:"f",multiline:!0,exclusiveline:!1,prefix:"[code]",suffix:"[/code]"},strike:{text:_("Strike"),key:"d",multiline:!1,exclusiveline:!1,prefix:"~~",suffix:"~~"},heading:{text:_("Heading"),key:"r",multiline:!1,exclusiveline:!0,prefix:"==",suffix:"=="}},e.toolbar_wrap=function(i){var n=t(i).parents('form[name="post"]')
e.wrap(n.find("#body")[0],'textarea[name="body"]',n.find(".format-text > select")[0].value,!1)},e.wrap=function(e,i,n,o){if(null!=e){var r={multiline:!1,exclusiveline:!1,prefix:"",suffix:null}
t.extend(r,JSON.parse(localStorage.formatText_rules)[n])
var s=[]
if(i instanceof Array){for(var a in i)if(i.hasOwnProperty(a))if("string"==typeof i[a]){var l=t(i[a])
for(var c in l)a.hasOwnProperty(c)&&s.push(l[c])}else s.push(i[a])}else if("string"==typeof i){var l=t(i)
for(var d in l)l.hasOwnProperty(d)&&s.push(l[d])}else s.push(i)
i=s
var h,p=e.scrollTop,u=e.selectionStart,f=e.selectionEnd,g=e.value,m=g.substring(0,u),v=g.substring(u,f),y=g.substring(f),b=["\r","\n"]
if(r.multiline||(v=v.replace(/(\r|\n|\r\n)/g,r.suffix+"$1"+r.prefix)),r.exclusiveline||o){for(h=m.length-1;h>=0&&-1==b.indexOf(m.charAt(h));)h--
for(v=m.substring(h+1)+v,m=m.substring(0,h+1),h=0;h<y.length&&-1==b.indexOf(y.charAt(h));)h++
v+=y.substring(0,h),y=y.substring(h)}var s=m+r.prefix+v+r.suffix+y
t(i).val(s),e.selectionEnd=m.length+r.prefix.length+v.length,e.selectionStart=u===f?e.selectionEnd:m.length+r.prefix.length,e.scrollTop=p}},e.build_toolbars=function(){if("true"==localStorage.formatText_toolbar){t(".format-text").length>0&&t(".format-text").remove()
var e,i="",n=JSON.parse(localStorage.formatText_rules)
for(var o in n)n.hasOwnProperty(o)&&(e=n[o].text,n[o].key&&(e+=" (CTRL + "+n[o].key.toUpperCase()+")"),i+='<option value="'+o+'">'+e+"</option>")
t('[name="body"]').before('<div class="format-text"><a href="javascript:;" onclick="formatText.toolbar_wrap(this);">Wrap</a><select>'+i+"</select></div>"),t("body").append("<style>#quick-reply .format-text>a{width:15%;display:inline-block;text-align:center;}#quick-reply .format-text>select{width:85%;};</style>")}},e.add_rule=function(e,i){if(void 0===e&&(e={text:"New Rule",key:"",multiline:!1,exclusiveline:!1,prefix:"",suffix:""}),void 0===i)for(var n=JSON.parse(localStorage.formatText_rules);n[i]||void 0===i;)i="",i+="abcdefghijklmnopqrstuvwxyz".substr(Math.floor(26*Math.random()),1),i+="abcdefghijklmnopqrstuvwxyz".substr(Math.floor(26*Math.random()),1),i+="abcdefghijklmnopqrstuvwxyz".substr(Math.floor(26*Math.random()),1)
if(window.Options&&Options.get_tab("formatting")){var o=t('<div class="format_rule" name="'+i+'"></div>').html('				<input type="text" name="text" class="format_option" size="10" value="'+e.text.replace(/"/g,"&quot;")+'">				<input type="checkbox" name="multiline" class="format_option" '+(e.multiline?"checked":"")+'>				<input type="checkbox" name="exclusiveline" class="format_option" '+(e.exclusiveline?"checked":"")+'>				<input type="text" name="prefix" class="format_option" size="8" value="'+(e.prefix?e.prefix.replace(/"/g,"&quot;"):"")+'">				<input type="text" name="suffix" class="format_option" size="8" value="'+(e.suffix?e.suffix.replace(/"/g,"&quot;"):"")+'">				<input type="text" name="key" class="format_option" size="2" maxlength="1" value="'+e.key+'">				<input type="button" value="X" onclick="if(confirm(\'Do you wish to remove the '+e.text+" formatting rule?'))$(this).parent().remove();\">				")
t(".format_rule").length>0?t(".format_rule").last().after(o):Options.extend_tab("formatting",o)}},e.save_rules=function(){for(var i,n={},o=t(".format_rule"),r=0;o[r];r++)i=t(o[r]),n[i.attr("name")]={text:i.find('[name="text"]').val(),key:i.find('[name="key"]').val(),prefix:i.find('[name="prefix"]').val(),suffix:i.find('[name="suffix"]').val(),multiline:i.find('[name="multiline"]').is(":checked"),exclusiveline:i.find('[name="exclusiveline"]').is(":checked")}
localStorage.formatText_rules=JSON.stringify(n),e.build_toolbars()},e.reset_rules=function(i){t(".format_rule").remove()
var n
n=i?e.rules:JSON.parse(localStorage.formatText_rules)
for(var o in n)n.hasOwnProperty(o)&&e.add_rule(n[o],o)},localStorage.formatText_rules||(localStorage.formatText_rules=JSON.stringify(e.rules)),t(document).ready(function(){if(window.Options&&Options.get_tab("general")){var i="#formatText_keybinds>input",n="#formatText_toolbar>input",o="change"
Options.extend_tab("general",'					<fieldset>						<legend>Formatting Options</legend>						<label id="formatText_keybinds"><input type="checkbox">'+_("Enable formatting keybinds")+'</label>						<label id="formatText_toolbar"><input type="checkbox">'+_("Show formatting toolbar")+"</label>					</fieldset>				")}else{var i="#formatText_keybinds",n="#formatText_toolbar",o="click"
t("hr:first").before('<div id="formatText_keybinds" style="text-align:right"><a class="unimportant" href="javascript:void(0)">'+_("Enable formatting keybinds")+"</a></div>"),t("hr:first").before('<div id="formatText_toolbar" style="text-align:right"><a class="unimportant" href="javascript:void(0)">'+_("Show formatting toolbar")+"</a></div>")}if(window.Options&&!Options.get_tab("formatting")){Options.add_tab("formatting","angle-right",_("Customize Formatting")),Options.extend_tab("formatting",'				<style>					.format_option{						margin-right:5px;						overflow:initial;						font-size:15px;					}					.format_option[type="text"]{						text-align:center;						padding-bottom: 2px;						padding-top: 2px;					}					.format_option:last-child{						margin-right:0;					}					fieldset{						margin-top:5px;					}				</style>				'),Options.extend_tab("formatting",'				<button onclick="formatText.add_rule();">'+_("Add Rule")+'</button>				<button onclick="formatText.save_rules();">'+_("Save Rules")+'</button>				<button onclick="formatText.reset_rules(false);">'+_("Revert")+'</button>				<button onclick="formatText.reset_rules(true);">'+_("Reset to Default")+"</button>				"),Options.extend_tab("formatting",'					<span class="format_option" style="margin-left:25px;">Name</span>					<span class="format_option" style="margin-left:45px;" title="Multi-line: Allow formatted area to contain linebreaks.">ML</span>					<span class="format_option" style="margin-left:0px;" title="Exclusive-line: Require formatted area to start after and end before a linebreak.">EL</span>					<span class="format_option" style="margin-left:25px;" title="Text injected at the start of a format area.">Prefix</span>					<span class="format_option" style="margin-left:60px;" title="Text injected at the end of a format area.">Suffix</span>					<span class="format_option" style="margin-left:40px;" title="Optional keybind value to allow keyboard shortcut access.">Key</span>				')
var r=JSON.parse(localStorage.formatText_rules)
for(var s in r)r.hasOwnProperty(s)&&e.add_rule(r[s],s)}t(i).on(o,function(t){console.log("Keybind"),localStorage.formatText_keybinds&&"false"!=localStorage.formatText_keybinds?(localStorage.formatText_keybinds="false",window.Options&&Options.get_tab("general")&&(t.target.checked=!1)):(localStorage.formatText_keybinds="true",window.Options&&Options.get_tab("general")&&(t.target.checked=!0))}),t(n).on(o,function(e){console.log("Toolbar"),localStorage.formatText_toolbar&&"false"!=localStorage.formatText_toolbar?(localStorage.formatText_toolbar="false",window.Options&&Options.get_tab("general")&&(e.target.checked=!1),t(".format-text").remove()):(localStorage.formatText_toolbar="true",window.Options&&Options.get_tab("general")&&(e.target.checked=!0),formatText.build_toolbars())}),window.Options&&Options.get_tab("general")&&(t(i)[0].checked="true"==localStorage.formatText_keybinds?!0:!1,t(n)[0].checked="true"==localStorage.formatText_toolbar?!0:!1),formatText.build_toolbars(),t("body").on("keydown",'[name="body"]',function(t){if(localStorage.formatText_keybinds&&"false"!=localStorage.formatText_keybinds){var e=String.fromCharCode(t.which).toLowerCase(),i=JSON.parse(localStorage.formatText_rules)
for(var n in i)i.hasOwnProperty(n)&&e===i[n].key&&t.ctrlKey&&(t.preventDefault(),t.shiftKey?formatText.wrap(t.target,'textarea[name="body"]',n,!0):formatText.wrap(t.target,'textarea[name="body"]',n,!1))}}),t(document).trigger("formatText")}),e}(jQuery)
"catalog"==active_page&&onready(function(){"use strict"
function t(t){$(".replies").each(function(){var e=$(this).children(".intro").text().toLowerCase(),i=$(this).clone().children().remove(":lt(2)").end().text().trim().toLowerCase()
t=t.toLowerCase(),-1==e.indexOf(t)&&-1==i.indexOf(t)?$(this).parents('div[id="Grid"]>.mix').css("display","none"):$(this).parents('div[id="Grid"]>.mix').css("display","inline-block")})}function e(){var t=$("#catalog_search_button")
t.data("expanded")?(t.removeData("expanded"),t.text("Search"),$(".catalog_search").children().last().remove(),$('div[id="Grid"]>.mix').each(function(){$(this).css("display","inline-block")})):(t.data("expanded","1"),t.text("Close"),$(".catalog_search").append(' <input id="search_field" style="border: inset 1px;">'),$("#search_field").focus())}var i,n=!0
$(".threads").before('<span class="catalog_search">[<a href="javascript:void(0)" id="catalog_search_button" style="text-decoration:none; cursor:pointer;"></a>]</span>'),$("#catalog_search_button").text(_("Search")),$("#catalog_search_button").on("click",e),$(".catalog_search").on("keyup","input#search_field",function(e){window.clearTimeout(i),i=window.setTimeout(t,400,e.target.value)}),n&&($("body").on("keydown",function(t){83!==t.which||"BODY"!==t.target.tagName||t.ctrlKey||t.altKey||t.shiftKey||(t.preventDefault(),0!==$("#search_field").length?$("#search_field").focus():e())}),$(".catalog_search").on("keydown","input#search_field",function(t){27!==t.which||t.ctrlKey||t.altKey||t.shiftKey||(window.clearTimeout(i),e())}))}),"thread"==active_page&&$(document).ready(function(){function t(){var t=$("#thread_"+i+" > div.post.op:not(.post-hover):not(.inline)").first(),n=$("#thread_"+i+" > div.post.reply:not(.post-hover):not(.inline)")
if($("#thread_stats_posts").text(n.length),$("#thread_stats_images").text(n.filter(function(){return 0!=$(this).find("> .files").text().trim()}).length),e){var o=t.find("> .intro > .poster_id").text(),r={}
n.each(function(){var t=$(this).find("> .intro > .poster_id"),e=t.text()
void 0===r[e]&&(r[e]=0),r[e]++}),void 0===r[o]&&(r[o]=0),r[o]++
var s=t.find(">.intro >.poster_id")
s.find("+.posts_by_id").remove(),s.after('<span class="posts_by_id"> ('+r[s.text()]+")</span>"),n.each(function(){s=$(this).find(">.intro >.poster_id"),s.find("+.posts_by_id").remove(),s.after('<span class="posts_by_id"> ('+r[s.text()]+")</span>")})
var a=function(t){var e,i=0
for(e in t)t.hasOwnProperty(e)&&i++
return i}
$("#thread_stats_uids").text(a(r))}$.getJSON("//"+document.location.host+"/"+board_name+"/threads.json").success(function(t){for(var e,n="???",o=0;t[o];o++){for(var r=t[o].threads,s=0;r[s];s++)if(parseInt(r[s].no)==parseInt(i)){n=t[o].page+1,e=!0
break}if(e)break}$("#thread_stats_page").text(n),e?$("#thread_stats_page").css("color",""):$("#thread_stats_page").css("color","red")})}var e=$(".poster_id").length>0,i=(document.location.pathname+document.location.search).split("/")
i=i[i.length-1].split("+")[0].split(".")[0],$("#thread-links").after('<div id="thread_stats"></div>')
var n=$("#thread_stats")
n.prepend('Page <span id="thread_stats_page">?</span>'),e&&n.prepend('<span id="thread_stats_uids">0</span> UIDs |&nbsp;'),n.prepend('<span id="thread_stats_images">0</span> images |&nbsp;'),n.prepend('<span id="thread_stats_posts">0</span> replies |&nbsp;'),delete n
setInterval(function(){$.getJSON("//"+document.location.host+"/"+board_name+"/threads.json").success(function(t){for(var e,n="???",o=0;t[o];o++){for(var r=t[o].threads,s=0;r[s];s++)if(parseInt(r[s].no)==parseInt(i)){n=t[o].page+1,e=!0
break}if(e)break}$("#thread_stats_page").text(n),e?$("#thread_stats_page").css("color",""):$("#thread_stats_page").css("color","red")})},3e4)
$("body").append("<style>.posts_by_id{display:none;}.poster_id:hover+.posts_by_id{display:initial}</style>"),t(),$("#update_thread").click(t),$(document).on("new_post",t)}),$(document).ready(function(){if(window.getSelection){$.fn.selectRange=function(t,e){return this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(t,e)
else if(this.createTextRange){var i=this.createTextRange()
i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select()}})}
var t=!1,e=!1,i=!1
$(document).keyup(function(n){18==n.keyCode?t=!1:17==n.keyCode?e=!1:91==n.keyCode&&(i=!1)}),$(document).keydown(function(n){if(n.altKey?t=!0:n.ctrlKey?e=!0:n.metaKey&&(i=!0),!(t||e||i||n.keyCode<48||n.keyCode>90)){var o=window.getSelection(),r=$(o.anchorNode).parents(".post")
if(0!=r.length){var s=r.find(".post_no:eq(1)").text()
if(s==$(o.focusNode).parents(".post").find(".post_no:eq(1)").text()){var a=o.toString()
if($("body").hasClass("debug")&&alert(a),0!=a.length){var l=$("textarea#body")[0],c=l.value.match(/[\S.]*(^|[\S\s]*)>>(\d+)/)
c&&(c=c[2])
var d=(c!=s?">>"+s+"\r\n":"")+$.trim(a).replace(/\r\n/g,"\n").replace(/^/gm,">").replace(/\n/g,"\r\n")+"\r\n"
if(o.removeAllRanges(),document.selection){l.focus()
var h=document.selection.createRange()
h.text=d,l.focus()}else if(l.selectionStart||"0"==l.selectionStart){var p=l.selectionStart,u=l.selectionEnd
l.value.substring(0,p).match(/(^|\n)$/)||(d="\r\n\r\n"+d),l.value=l.value.substring(0,p)+d+l.value.substring(u,l.value.length),$(l).selectRange(p+d.length,p+d.length)}else l.value+=d,l.focus()}}}}})}}),$(document).on("ready",function(){var t=function(){return $(".flag_preview").length||$("[name=user_flag]").after('<img class="flag_preview">'),$(this).val()?void $(".flag_preview").attr("src",configRoot+"static/custom-flags/"+board_name+"/"+$(this).val()+".png"):$(".flag_preview").remove()}
$("[name=user_flag]").on("change",t),$(window).on("quick-reply",function(){$("[name=user_flag]").on("change",t)})}),$(document).ready(function(){function t(t){var e,i,n=$(t.target).offset(),o=$('<div class="post-menu"></div>').append(r.list_items())
for(i=s.length,e=0;i>e;e++)s[e](t,o)
o.css({top:n.top,left:n.left+20}),$("body").append(o)}function e(t){var e=$(t)
e.find("input.delete").after($("<a>",{href:"#","class":"post-btn",title:"Post menu"}).text("▶"))}var i=function(t,e){this.id=t,this.text=e,this.items=[],this.add_item=function(t,e,i){this.items.push(new n(t,e,i))},this.list_items=function(){var t,e,i,o,r=[]
if(!$.isEmptyObject(this.items)){for(e=this.items.length,t=0;e>t;t++)i=this.items[t],o=$("<li>",{id:i.id}).text(i.text),"title"in i&&o.attr("title",i.title),i instanceof n?o.addClass("post-item"):(o.addClass("post-submenu"),o.prepend(i.list_items()),o.append($("<span>",{"class":"post-menu-arrow"}).text("»"))),r.push(o)
return $("<ul>").append(r)}},this.add_submenu=function(t,e){var n=new i(t,e)
return this.items.push(n),n},this.get_submenu=function(t){for(var e=0;e<this.items.length;e++)if(!(this.items[e]instanceof n||this.items[e].id!=t))return this.items[e]}},n=function(t,e,i){this.id=t,this.text=e,"undefined"!=typeof i&&(this.title=i)},o={},r=new i,s=[]
o.onclick=function(t){s.push(t)},o.add_item=function(t,e,i){r.add_item(t,e,i)},o.add_submenu=function(t,e){return r.add_submenu(t,e)},o.get_submenu=function(t){return r.get_submenu(t)},window.Menu=o
var a,l,c
a=$("<div>").addClass("post reply").hide().appendTo("body"),l=a.css(["border-top-color"]),l.hoverBg=$("body").css("background-color"),a.remove(),c="\n/*** Generated by post-menu ***/\n.post-menu {position: absolute; font-size: 12px; line-height: 1.3em;}\n.post-menu ul {\n    background-color: "+l["border-top-color"]+"; border: 1px solid #666;\n    list-style: none; padding: 0; margin: 0; white-space: nowrap;\n}\n.post-menu .post-submenu{white-space: normal; width: 90px;}.post-menu .post-submenu>ul{white-space: nowrap; width: auto;}.post-menu li {cursor: pointer; position: relative; padding: 4px 4px; vertical-align: middle;}\n.post-menu li:hover {background-color: "+l.hoverBg+";}\n.post-menu ul ul {display: none; position: absolute;}\n.post-menu li:hover>ul {display: block; left: 100%; margin-top: -3px;}\n.post-menu-arrow {float: right; margin-left: 10px;}\n.post-menu.hidden, .post-menu .hidden {display: none;}\n.post-btn {transition: transform 0.1s; width: 15px; text-align: center; font-size: 10pt; opacity: 0.8; text-decoration: none; margin: -6px 0px 0px -5px !important; display: inline-block;}\n.post-btn:hover {opacity: 1;}\n.post-btn-open {transform: rotate(90deg);}\n",$("style.generated-css").length||$('<style class="generated-css">').appendTo("head"),$("style.generated-css").html($("style.generated-css").html()+c),$(".reply:not(.hidden), .thread>.op").each(function(){e(this)}),$("form[name=postcontrols]").on("click",".post-btn",function(e){e.preventDefault()
var i=e.target.parentElement.parentElement
$(".post-menu").remove(),$(e.target).hasClass("post-btn-open")?$(".post-btn-open").removeClass("post-btn-open"):($(".post-btn-open").removeClass("post-btn-open"),$(i).find(".post-btn").addClass("post-btn-open"),t(e))}),$(document).on("click",function(t){$(t.target).hasClass("post-btn")||$(t.target).hasClass("post-submenu")||($(".post-menu").remove(),$(".post-btn-open").removeClass("post-btn-open"))}),$(document).on("new_post",function(t,i){e(i)}),$(document).trigger("menu_ready")}),("thread"===active_page||"index"===active_page||"catalog"===active_page)&&($(document).on("menu_ready",function(){"use strict"
function t(t){var i,n,o,r,s,a,l,c=e(),d=!1,h=!1
t.data("name")&&(d=t.data("name")),t.data("trip"),h=t.data("trip")
var p=t.find(".subject").length>0
for(p&&(i=t.find(".subject").text()),s=t.find(".body-line").contents().filter(function(){return""!==$(this).text()?!0:void 0}).toArray(),s=$.map(s,function(t){return $(t).text().trim()}),n=s.join(" "),o=0,r=c.generalFilter.length;r>o;o++)if(a=c.generalFilter[o],a.regex)switch(l=new RegExp(a.value),a.type){case"name":d&&l.test(d)&&t.remove()
break
case"trip":h&&l.test(h)&&t.remove()
break
case"sub":p&&l.test(i)&&t.remove()
break
case"com":l.test(n)&&t.remove()}else switch(a.type){case"name":l=new RegExp("\\b"+a.value+"\\b"),d&&l.test(d)&&t.remove()
break
case"trip":l=new RegExp(a.value),h&&l.test(h)&&t.remove()
break
case"sub":l=new RegExp("\\b"+a.value+"\\b"),p&&l.test(i)&&t.remove()
break
case"com":l=new RegExp("\\b"+a.value+"\\b"),l.test(n)&&t.remove()}}function e(){return JSON.parse(localStorage.postFilter)}function i(t){localStorage.postFilter=JSON.stringify(t),$(document).trigger("filter_page")}function n(){return Math.floor((new Date).getTime()/1e3)}function o(t,e,i){"undefined"==typeof t.postFilter[e]&&(t.postFilter[e]={},t.nextPurge[e]={}),"undefined"==typeof t.postFilter[e][i]&&(t.postFilter[e][i]=[]),t.nextPurge[e][i]={timestamp:n(),interval:86400}}function r(t,n,o){for(var r=e(),s=r.generalFilter,a={type:t,value:n,regex:o},l=0;l<s.length;l++)if(s[l].type==t&&s[l].value==n&&s[l].regex==o)return
s.push(a),i(r),m()}function s(t,n,o){for(var r=e(),s=r.generalFilter,a=0;a<s.length;a++)if(s[a].type==t&&s[a].value==n&&s[a].regex==o){s.splice(a,1)
break}i(r),m()}function a(t){var e=""
return $.each($(t).contents(),function(t,i){"IMG"===i.nodeName&&(e+=$(i).attr("alt")),"#text"===i.nodeName&&(e+=i.nodeValue)}),e.trim()}function l(t,i){var n=e(),o=n.postFilter
for(var r in o[t])if(r==i)for(var s in o[t][r]){var a=o[t][r][s].post
w.remove.post(t,i,a),$("#reply_"+a).show()}}function c(t){var e=$(t)
$(t).data("hidden")||($(t).data("hidden",!0),e.hasClass("op")?(e.parent().find(".body, .files, .video-container").not(e.children(".reply").children()).hide(),"index"==active_page&&e.parent().find(".omitted, .reply:not(.hidden), post_no, .mentioned, br").hide()):(e.children(".body, .files, .video-container").hide(),"false"===localStorage.stub_hide_post&&(e.hide(),e.nextUntil(":not(br)").hide())))}function d(t){var e=$(t)
$(t).data("hidden",!1),e.hasClass("op")?(e.parent().find(".body, .files, .video-container").show(),"index"==active_page&&e.parent().find(".omitted, .reply:not(.hidden), post_no, .mentioned, br").show()):(e.children(".body, .files, .video-container").show(),"false"===localStorage.stub_hide_post&&(e.show(),e.nextUntil(":not(br)").show()))}function h(t){var e,i=window.Menu
i.add_item("filter-menu-hide",_("Hide post")),i.add_item("filter-menu-unhide",_("Unhide post")),e=i.add_submenu("filter-menu-add",_("Add filter")),e.add_item("filter-add-post-plus",_("Post +"),_("Hide post and all replies")),e.add_item("filter-add-id",_("ID")),e.add_item("filter-add-id-plus",_("ID +"),_("Hide ID and all replies")),e.add_item("filter-add-name",_("Name")),e.add_item("filter-add-trip",_("Tripcode")),e=i.add_submenu("filter-menu-remove",_("Remove filter")),e.add_item("filter-remove-id",_("ID")),e.add_item("filter-remove-name",_("Name")),e.add_item("filter-remove-trip",_("Tripcode")),i.onclick(function(e,i){var n=e.target.parentElement.parentElement,o=$(n),l=o.parent().attr("id").replace("thread_",""),c=o.find(".post_no").not("[id]").text()
if(t.hasUID)var h=o.find(".poster_id").text()
var p,u=""
t.forcedAnon||(p="undefined"==typeof o.find(".name").contents()[0]?"":a(o.find(".name")[0]),u=o.find(".trip").text()),o.data("hidden")?(i.find("#filter-menu-unhide").click(function(){w.remove.post(t.boardId,l,c),d(n),"false"===localStorage.stub_hide_post&&(o.show(),o.nextUntil(":not(br)").hide())}),i.find("#filter-menu-hide").addClass("hidden")):(i.find("#filter-menu-unhide").addClass("hidden"),i.find("#filter-menu-hide").click(function(){w.add.post(t.boardId,l,c,!1),"false"===localStorage.stub_hide_post&&(o.hasClass("op")||(o.hide(),o.nextUntil(":not(br)").hide()))})),o.data("hiddenByPost")?i.find("#filter-add-post-plus").addClass("hidden"):i.find("#filter-add-post-plus").click(function(){w.add.post(t.boardId,l,c,!0)}),t.hasUID&&!o.data("hiddenByUid")?(i.find("#filter-add-id").click(function(){w.add.uid(t.boardId,l,h,!1)}),i.find("#filter-add-id-plus").click(function(){w.add.uid(t.boardId,l,h,!0)}),i.find("#filter-remove-id").addClass("hidden")):t.hasUID?(i.find("#filter-remove-id").click(function(){w.remove.uid(t.boardId,l,h)}),i.find("#filter-add-id").addClass("hidden"),i.find("#filter-add-id-plus").addClass("hidden")):(i.find("#filter-add-id").addClass("hidden"),i.find("#filter-add-id-plus").addClass("hidden"),i.find("#filter-remove-id").addClass("hidden")),t.forcedAnon||o.data("hiddenByName")?t.forcedAnon?(i.find("#filter-remove-name").addClass("hidden"),i.find("#filter-add-name").addClass("hidden")):(i.find("#filter-remove-name").click(function(){s("name",p,!1)}),i.find("#filter-add-name").addClass("hidden")):(i.find("#filter-add-name").click(function(){r("name",p,!1)}),i.find("#filter-remove-name").addClass("hidden")),t.forcedAnon||o.data("hiddenByTrip")||""===u?t.forcedAnon||""===u?(i.find("#filter-remove-trip").addClass("hidden"),i.find("#filter-add-trip").addClass("hidden")):(i.find("#filter-remove-trip").click(function(){s("trip",u,!1)}),i.find("#filter-add-trip").addClass("hidden")):(i.find("#filter-add-trip").click(function(){r("trip",u,!1)}),i.find("#filter-remove-trip").addClass("hidden")),i.find("#filter-menu-remove > ul").children().not(".hidden").length||i.find("#filter-menu-remove").addClass("hidden"),i.find("#filter-menu-add > ul").children().not(".hidden").length||i.find("#filter-menu-add").addClass("hidden")})}function p(t,e,i){$(t).hasClass("op")&&!$(t).find(".hide-thread-link").length&&$('<a class="hide-thread-link" style="float:left;margin-right:5px" href="javascript:void(0)">['+($(t).data("hidden")?"+":"&ndash;")+"]</a>").insertBefore($(t).find(":not(h2,h2 *):first")).click(function(){var n=$(t).find(".post_no").not("[id]").text(),o=$(t).data("hidden")
o?(w.remove.post(i.boardId,e,n,!1),$(this).html("[&ndash;]")):(w.add.post(i.boardId,e,n,!1),$(this).text("[+]"))})}function u(t,i,n){var o,r,s,l,h,p,u,f,g,m,v=$(t),y=e(),b=v.find(".post_no").not("[id]").text(),_=n.boardId,w=n.localList,x=n.noReplyList,k=n.hasUID,S=n.forcedAnon,C=v.find(".trip").length>0,T=v.find(".subject").length>0
if(v.data("hidden",!1),v.data("hiddenByUid",!1),v.data("hiddenByPost",!1),v.data("hiddenByName",!1),v.data("hiddenByTrip",!1),v.data("hiddenBySubject",!1),v.data("hiddenByComment",!1),k&&"undefined"!=typeof y.postFilter[_]&&"undefined"!=typeof y.postFilter[_][i])for(s=v.find(".poster_id").text(),f=y.postFilter[_][i],p=0;p<f.length;p++)if(f[p].uid==s){v.data("hiddenByUid",!0),w.push(b),f[p].hideReplies&&x.push(b)
break}for(w.length&&-1!=$.inArray(b,w)&&(v.data("hiddenByUid")!==!0&&v.data("hiddenByPost",!0),c(t)),S||(o="undefined"==typeof v.find(".name").contents()[0]?"":a(v.find(".name")[0])),!S&&C&&(r=v.find(".trip").text()),T&&(l=v.find(".subject").text()),f=v.find(".body").contents().filter(function(){return""!==$(this).text()?!0:void 0}).toArray(),f=$.map(f,function(t){return $(t).text().trim()}),h=f.join(" "),p=0,u=y.generalFilter.length;u>p;p++)if(g=y.generalFilter[p],g.regex)switch(m=new RegExp(g.value),g.type){case"name":!S&&m.test(o)&&(v.data("hiddenByName",!0),c(t))
break
case"trip":!S&&C&&m.test(r)&&(v.data("hiddenByTrip",!0),c(t))
break
case"sub":T&&m.test(l)&&(v.data("hiddenBySubject",!0),c(t))
break
case"com":m.test(h)&&(v.data("hiddenByComment",!0),c(t))}else switch(g.type){case"name":S||g.value!=o||(v.data("hiddenByName",!0),c(t))
break
case"trip":!S&&C&&g.value==r&&(v.data("hiddenByTrip",!0),c(t))
break
case"sub":m=new RegExp("\\b"+g.value+"\\b"),T&&m.test(l)&&(v.data("hiddenBySubject",!0),c(t))
break
case"com":m=new RegExp("\\b"+g.value+"\\b"),m.test(h)&&(v.data("hiddenByComment",!0),c(t))}v.find(".body a").not('[rel="nofollow"]').each(function(){var e=$(this).text().match(/^>>(\d+)$/)
e&&(e=e[1],-1!=$.inArray(e,x)&&c(t))}),v.data("hidden")||d(t)}function f(t){var i=e()
if("catalog"!=active_page)t.localList=[],t.noReplyList=[],$(".thread").each(function(){var e=$(this)
if("none"!=e.css("display")){var n,o,r=e.attr("id").replace("thread_",""),s=e.children(".op")[0]
if("undefined"!=typeof i.postFilter[t.boardId]&&"undefined"!=typeof i.postFilter[t.boardId][r])for(o=i.postFilter[t.boardId][r],n=0;n<o.length;n++)"undefined"!=typeof o[n].post&&(t.localList.push(o[n].post),o[n].hideReplies&&t.noReplyList.push(o[n].post))
u(s,r,t),p(s,r,t),$(s).data("hidden")&&"thread"!=active_page||e.find(".reply").not(".hidden").each(function(){u(this,r,t)})}})
else{var n=i.postFilter[t.boardId],o=$(".mix")
if($.isEmptyObject(n))return
$.each(n,function(t,e){var i=t
$.each(e,function(){this.post==i&&o.filter("[data-id="+i+"]").remove()})})}}function g(){var t,e,i
t=$("<div>").addClass("post reply").hide().appendTo("body"),e=t.css(["background-color","border-color"]),e.hoverBg=$("body").css("background-color"),t.remove(),i="\n/*** Generated by post-filter ***/\n#filter-control input[type=text] {width: 130px;}#filter-control input[type=checkbox] {vertical-align: middle;}#filter-control #clear {float: right;}\n#filter-container {margin-top: 20px; border: 1px solid; height: 270px; overflow: auto;}\n#filter-list {width: 100%; border-collapse: collapse;}\n#filter-list th {text-align: center; height: 20px; font-size: 14px; border-bottom: 1px solid;}\n#filter-list th:nth-child(1) {text-align: center; width: 70px;}\n#filter-list th:nth-child(2) {text-align: left;}\n#filter-list th:nth-child(3) {text-align: center; width: 58px;}\n#filter-list tr:not(#header) {height: 22px;}\n#filter-list tr:nth-child(even) {background-color:rgba(255, 255, 255, 0.5);}\n#filter-list td:nth-child(1) {text-align: center; width: 70px;}\n#filter-list td:nth-child(3) {text-align: center; width: 58px;}\n#confirm {text-align: right; margin-bottom: -18px; padding-top: 2px; font-size: 14px; color: #FF0000;}",$("style.generated-css").length||$('<style class="generated-css">').appendTo("head"),$("style.generated-css").html($("style.generated-css").html()+i)}function m(){var t,i,n,o,r,s=e().generalFilter,a=$("#filter-list"),l={name:"name",trip:"tripcode",sub:"subject",com:"comment"}
for(a.empty(),a.append('<tr id="header"><th>'+_("Type")+"</th><th>"+_("Content")+" <small>("+_("filters are case-sensitive")+")</small></th><th>"+_("Remove")+"</th></tr>"),i=0,n=s.length;n>i;i++)o=s[i],r=o.regex?"/"+o.value+"/":o.value,t=$("<tr>"),t.append("<td>"+l[o.type]+"</td>","<td>"+r+"</td>",$("<td>").append($("<a>").html("X").addClass("del-btn").attr("href","#").data("type",o.type).data("val",o.value).data("useRegex",o.regex))),a.append(t)}function v(){window.Options&&!Options.get_tab("filter")&&(Options.add_tab("filter","list",_("Filters")),Options.extend_tab("filter",'<div id="filter-control"><select><option value="name">'+_("Name")+'</option><option value="trip">'+_("Tripcode")+'</option><option value="sub">'+_("Subject")+'</option><option value="com">'+_("Comment")+'</option></select><input type="text"><input type="checkbox">regex <button id="set-filter">'+_("Add")+'</button><button id="clear">'+_("Clear all filters")+'</button><div id="confirm" class="hidden">'+_("This will clear all filtering rules including hidden posts.")+' <a id="confirm-y" href="#">'+_("yes")+'</a> | <a id="confirm-n" href="#">'+_("no")+'</a></div></div><div id="filter-container"><table id="filter-list"></table></div>'),m(),$("#filter-control").on("click","#set-filter",function(){var t=$("#filter-control select option:selected").val(),e=$("#filter-control input[type=text]").val(),i=$("#filter-control input[type=checkbox]").prop("checked")
$("#filter-control input[type=text]").val(""),r(t,e,i),m()}),$("#filter-control").on("click","#clear",function(){$("#filter-control #clear").addClass("hidden"),$("#filter-control #confirm").removeClass("hidden")}),$("#filter-control").on("click","#confirm-y",function(t){t.preventDefault(),$("#filter-control #clear").removeClass("hidden"),$("#filter-control #confirm").addClass("hidden"),i({generalFilter:[],postFilter:{},nextPurge:{},lastPurge:n()}),m()}),$("#filter-control").on("click","#confirm-n",function(t){t.preventDefault(),$("#filter-control #clear").removeClass("hidden"),$("#filter-control #confirm").addClass("hidden")}),$("#filter-list").on("click",".del-btn",function(t){t.preventDefault()
var e=$(t.target),i=e.data("type"),n=e.data("val"),o=e.data("useRegex")
s(i,n,o)}))}function y(){var t,o,r,s,a,l=e(),c=[],d=function(t,o){return function(){var r=e(),s=r.nextPurge[t][o]
s.timestamp=n(),s.interval=Math.floor(1.5*s.interval),i(r)}},h=function(t,n){return function(o){if(404==o.status){var r=e()
delete r.nextPurge[t][n],delete r.postFilter[t][n],$.isEmptyObject(r.nextPurge[t])&&delete r.nextPurge[t],$.isEmptyObject(r.postFilter[t])&&delete r.postFilter[t],i(r)}}}
if(!(n()-l.lastPurge<86400)){for(r in l.nextPurge){t=l.nextPurge[r]
for(s in t)o=t[s],n()>o.timestamp+o.interval&&(a=$.ajax({cache:!1,url:"/"+r+"/res/"+s+".json",success:d(r,s),error:h(r,s)}),c.push(a))}$.when.apply($,c).always(function(){var t=e()
t.lastPurge=n(),i(t)})}}function b(){"undefined"==typeof localStorage.postFilter&&(localStorage.postFilter=JSON.stringify({generalFilter:[],postFilter:{},nextPurge:{},lastPurge:n()}))
var e={boardId:board_name,localList:[],noReplyList:[],hasUID:document.getElementsByClassName("poster_id").length>0,forcedAnon:0===$("th:contains(Name)").length}
g(),v(),h(e),f(e),$(".op>.intro").append('<a class="showallThread" href="#">['+_("Show All Posts")+"]</a>"),$(".showallThread").on("click",function(t){t.preventDefault()
var i=$(this),n=i.parent().parent().attr("id").replace("op_","")
l(e.boardId,n)}),$(document).on("new_post",function(t,i){var n
n=$(i).hasClass("reply")?$(i).parent().attr("id").replace("thread_",""):$(i).attr("id").replace("thread_",""),u(i,n,e),p(i,n,e)}),$(document).on("filter_page",function(){f(e)}),"catalog"==active_page&&($(document).on("filterThreads",function(){$(".mix").each(function(){({boardId:board_name,localList:[],noReplyList:[],hasUID:document.getElementsByClassName("poster_id").length>0,forcedAnon:0===$("th:contains(Name)").length})
t($(this))})}),$(document).trigger("filterThreads")),"catalog"==active_page&&($(document).on("click",".mix",function(t){if(t.shiftKey){var i=$(this).data("id").toString(),n=i
w.add.post(e.boardId,i,n,!1)}}),$(document).on("click","#catalog-hide-thread",function(){var t=$(this).data("id").toString(),i=t
w.add.post(e.boardId,t,i,!1),$(this).parent().parent().parent().remove()}),$(document).on("click","#show-all-hide-thread",function(){$("#show-all-hide-thread").html("Processing..."),localStorage.postFilter=JSON.stringify({generalFilter:[],postFilter:{},nextPurge:{},lastPurge:n()})
var t=($(this).parents("#Grid"),window.location.href)
$.ajax({url:t,context:document.body,success:function(t){var e=$(t).find("#Grid").html()
$("#Grid").html(e)
var i=$("#sort_by").val(),n=$("#image_size").val()
$("#Grid").mixItUp("sort","random"==i?i:"sticky:desc "+i),$(".grid-li").removeClass("grid-size-vsmall"),$(".grid-li").removeClass("grid-size-small"),$(".grid-li").removeClass("grid-size-medium"),$(".grid-li").removeClass("grid-size-large"),$(".grid-li").addClass("grid-size-"+n),initImageHover(),removeHiddenThread(),$(document).trigger("filterThreads"),$("#show-all-hide-thread").html("Show All"),filter_hide_images_vt()}})})),y()}var w={add:{post:function(t,n,r,s){var a=e(),l=a.postFilter
o(a,t,n)
for(var c in l[t][n])if(l[t][n][c].post==r)return
l[t][n].push({post:r,hideReplies:s}),i(a)},uid:function(t,n,r,s){var a=e(),l=a.postFilter
o(a,t,n)
for(var c in l[t][n])if(l[t][n][c].uid==r)return
l[t][n].push({uid:r,hideReplies:s}),i(a)}},remove:{post:function(t,n,o){var r=e(),s=r.postFilter
if("undefined"!=typeof s[t]&&"undefined"!=typeof s[t][n]){for(var a=0;a<s[t][n].length;a++)if(s[t][n][a].post==o){s[t][n].splice(a,1)
break}$.isEmptyObject(s[t][n])&&(delete s[t][n],delete r.nextPurge[t][n],$.isEmptyObject(s[t])&&(delete s[t],delete r.nextPurge[t])),i(r)}},uid:function(t,n,o){var r=e(),s=r.postFilter
if("undefined"!=typeof s[t]&&"undefined"!=typeof s[t][n]){for(var a=0;a<s[t][n].length;a++)if(s[t][n][a].uid==o){s[t][n].splice(a,1)
break}$.isEmptyObject(s[t][n])&&(delete s[t][n],delete r.nextPurge[t][n],$.isEmptyObject(s[t])&&(delete s[t],delete r.nextPurge[t])),i(r)}}}}
b()}),"undefined"!=typeof window.Menu&&$(document).trigger("menu_ready")),"catalog"===active_page,("thread"==active_page||"index"==active_page)&&($(document).on("menu_ready",function(){var t=window.Menu
$("#delete-fields #password").length&&(t.add_item("delete_post_menu",_("Delete post")),t.add_item("delete_file_menu",_("Delete file")),t.onclick(function(t,e){var i=t.target.parentElement.parentElement,n=$(i),o=(n.parent().attr("id").replace("thread_",""),n.find(".post_no").not("[id]").text())
e.find("#delete_post_menu,#delete_file_menu").click(function(t){t.preventDefault(),$("#delete_"+o).prop("checked","checked"),"delete_file_menu"===$(this).attr("id")?$("#delete_file").prop("checked","checked"):$("#delete_file").prop("checked",""),$("input[name=delete][type=submit]").click()})})),t.add_item("report_menu",_("Report")),t.add_item("global_report_menu",_("Global report")),t.onclick(function(t,e){var i=t.target.parentElement.parentElement,n=$(i),o=(n.parent().attr("id").replace("thread_",""),n.find(".post_no").not("[id]").text())
e.find("#report_menu,#global_report_menu").click(function(){if("global_report_menu"===$(this).attr("id"))var t="&global"
else var t=""
window.open(configRoot+"report.php?board="+board_name+"&post=delete_"+o+t,"",t?"width=600, height=575":"width=500, height=275")})}),$(document).on("new_post",function(){$("input.delete").hide()}),$("input.delete").hide(),$("#post-moderation-fields").hide()}),"undefined"!=typeof window.Menu&&$(document).trigger("menu_ready")),("catalog"===active_page||"thread"===active_page||"index"===active_page)&&$(document).on("ready",function(){function t(){function t(){if("catalog"==active_page){var t=($(this).parents("#Grid"),window.location.href)
$("#update_catalog_secs").text("Updating..."),$.ajax({url:t,context:document.body,success:function(t){var e=$(t).find("#Grid").html()
$("#Grid").html(e)
var i=$("#sort_by").val(),n=$("#image_size").val()
$("#Grid").mixItUp("sort","random"==i?i:"sticky:desc "+i),$(".grid-li").removeClass("grid-size-vsmall"),$(".grid-li").removeClass("grid-size-small"),$(".grid-li").removeClass("grid-size-medium"),$(".grid-li").removeClass("grid-size-large"),$(".grid-li").addClass("grid-size-"+n),initImageHover(),$("#update_catalog_secs").text(""),removeHiddenThread(),$(document).trigger("filterThreads"),filter_hide_images_vt()}})}}var e,i=6e4,n=i,o=n,r=function(){o-=1e3,$("#update_catalog_secs").text(o/1e3),0>=o&&(t(),o=n+1e3)},s=function(t){clearInterval(e),o=t,e=setInterval(r,1e3),$("#update_catalog_secs").text(o/1e3)},a=function(){clearInterval(e)}
inMod||$("span.catalog_search").after("&nbsp;<span id='updater_catalog_panel'><a href='#' style='text-decoration:none; cursor:pointer;' id='update_catalog'>[Update]</a><label id='auto_update_catalog_status'><input type='checkbox' id='auto_update_catalog_cb'></label> "+_("Auto")+" (<span id='update_catalog_secs'></span>)</span>"),"true"===localStorage.auto_catalog_update&&($("#auto_update_catalog_cb").prop("checked",!0),s(i)),$("#auto_update_catalog_status>input").on("click",function(){$("#auto_update_catalog_status>input").is(":checked")?(localStorage.auto_catalog_update="true",s(i)):(localStorage.auto_catalog_update="false",a(),$("#update_catalog_secs").text(""))}),$("#update_catalog").on("click",function(){t(),$("#auto_update_catalog_cb").is(":checked")&&s(i)})}window.Options&&Options.get_tab("general")&&Options.extend_tab("general","<fieldset><legend>Image hover</legend>"+("<label class='image-hover' id='imageHover'><input type='checkbox' /> "+_("Image hover")+"</label>")+("<label class='image-hover' id='catalogImageHover'><input type='checkbox' /> "+_("Image hover on catalog")+"</label>")+("<label class='image-hover' id='imageHoverFollowCursor'><input type='checkbox' /> "+_("Image hover should follow cursor")+"</label>")+"</fieldset>"),$(".image-hover").on("change",function(){var t=$(this).attr("id")
localStorage[t]=$(this).children("input").is(":checked")}),localStorage.imageHover&&localStorage.catalogImageHover&&localStorage.imageHoverFollowCursor||(localStorage.imageHover="false",localStorage.catalogImageHover="false",localStorage.imageHoverFollowCursor="false"),getSetting("imageHover")&&$("#imageHover>input").prop("checked","checked"),getSetting("catalogImageHover")&&$("#catalogImageHover>input").prop("checked","checked"),getSetting("imageHoverFollowCursor")&&$("#imageHoverFollowCursor>input").prop("checked","checked"),"catalog"===active_page&&t(),initImageHover()}),$("document").ready(function(){var t=localStorage.autoScroll?!0:!1
window.Options&&Options.get_tab("general")&&($("#auto-update-fs").append("<label id='autoScroll'><input type='checkbox' />"+_("Scroll to new posts")+"</label>"),$("#autoScroll").find("input").prop("checked",t)),$("#autoScroll").on("change",function(){t?delete localStorage.autoScroll:localStorage.autoScroll=!0,t=!t,"thread"==active_page&&$("input.auto-scroll").prop("checked",t)}),"thread"==active_page&&($('span[id="updater"]').children("a").after(' (<input class="auto-scroll" type="checkbox"></input> '+_("Scroll to new posts")+")"),$("input.auto-scroll").prop("checked",t),$(document).on("new_post",function(t,e){$("input.auto-scroll").prop("checked")&&scrollTo(0,$(e).offset().top-window.innerHeight+$(e).outerHeight(!0))}))}),("index"==active_page||"thread"==active_page)&&$(function(){var t=!1
$("hr:first").before('<div id="gallery-view" style="text-align:right"><a class="unimportant" href="javascript:void(0)">-</a></div>'),$("#gallery-view a").html(_(t?"Disable gallery mode":"Enable gallery mode")).click(function(){t=!t,$(this).html(_(t?"Disable gallery mode":"Enable gallery mode")),e(document)})
var e=function(e){$(e).find("img.post-image").parent().each(t?function(){this.oldonclick=this.onclick,this.onclick=a,$(this).attr("data-galid",Math.random())}:function(){this.onclick==a&&(this.onclick=this.oldonclick)})}
$(document).on("new_post",e)
var i,n,o,r,s=!1,a=function(t){t.stopPropagation(),t.preventDefault(),s||l(),c($(this).attr("data-galid"))},l=function(){$("body").css("overflow","hidden"),s=!0,i=$("<div id='alert_handler'></div>").hide().appendTo("body").css("text-align","left"),$("<div id='alert_background'></div>").click(d).appendTo(i),n=$("<div id='gallery_images'></div>").appendTo(i),r=$("<div id='gallery_toolbar'></div>").appendTo(i),o=$("<div id='gallery_main'></div>").appendTo(i),o.on("click",function(){d()}),$("img.post-image").parent().each(function(){var t=$(this).find("img").attr("src"),e=$("<img>").appendTo(n)
e.attr("src",t),e.attr("data-galid-th",$(this).attr("data-galid")),e.on("click",function(){c($(this).attr("data-galid-th"))})}),$("<a href='javascript:void(0)'><i class='fa fa-times'></i></div>").click(d).appendTo(r),$("body").on("keydown.gview",function(t){39==t.which||40==t.which?(c(1),t.preventDefault()):(37==t.which||38==t.which)&&(c(-1),t.preventDefault())}),i.fadeIn(400)},c=function(t){if(1==t||-1==t){var e=-1==t?"prev":"next"
if(t=$("#gallery_images img.active")[e]().attr("data-galid-th"),!t)return}$("#gallery_images img.active").removeClass("active")
var i=$('#gallery_images [data-galid-th="'+t+'"]'),r=$('a[data-galid="'+t+'"]')
i.addClass("active")
var s=i.position().top+n.scrollTop()
s-=n.height()/2,s+=i.height()/2,n.animate({scrollTop:s},300)
var a=r.attr("href")
o.find("img, video").fadeOut(200,function(){$(this).remove()})
var l
a.match(/player\.php/)&&(a=a.replace(/.*player\.php\?v=|&t=.*/g,"")),a.match(/\.webm$|\.mp4$|\.ogv$/i)?(l=$("<video>"),l.attr("src",a),l.attr("autoplay",!0),l.attr("controls",!0),l.appendTo(o),l.hide()):(l=$("<img>"),l.attr("src",a),l.appendTo(o),l.hide())
for(var d=$("#gallery_images active"),h=0;3>h;h++){d=d.next()
var p
if(!(p=d.attr("data-gaild-th")))break
var u=$('a[data-galid="'+p+'"]').attr("href")
if(u.match(/\.webm|\.mp4|\.ogv/i))h--
else if(!$('[data-galid-preload="'+p+'"]').length)var a=$("<img>").attr("src",u).attr("data-galid-preload",p).hide().appendTo("body").on("load",function(){$(this).remove()})}l.one("load canplay",function(){l.css("left","calc(50% - "+l.width()+"px / 2)"),l.css("top","calc(50% - "+l.height()+"px / 2)"),l.fadeIn(200)}).on("click",function(t){t.stopPropagation(),c(1)})},d=function(){$("body").css("overflow","auto"),s=!1,$("body").off("keydown.gview"),i.fadeOut(400,function(){i.remove()})}}),function(t,e){var i={options:{$boardlist:!1,selector:{boardlist:"#boardlist","board-head":".board-list-head","board-body":".board-list-tbody","board-loading":".board-list-loading","board-omitted":".board-list-omitted",search:"#search-form","search-lang":"#search-lang-input","search-sfw":"#search-sfw-input","search-tag":"#search-tag-input","search-title":"#search-title-input","search-submit":"#search-submit","tag-list":".tag-list","tag-link":".tag-link","footer-page":".board-page-num","footer-count":".board-page-count","footer-total":".board-page-total","footer-more":"#board-list-more"},template:{"board-row":"<tr></tr>","board-cell-meta":'<td class="board-meta"></td>',"board-cell-uri":'<td class="board-uri"></td>',"board-cell-title":'<td class="board-title"></td>',"board-cell-pph":'<td class="board-pph"></td>',"board-cell-posts_total":'<td class="board-max"></td>',"board-cell-active":'<td class="board-unique"></td>',"board-cell-tags":'<td class="board-tags"></td>',"board-content-wrap":'<p class="board-cell"></p>',"board-datum-lang":'<span class="board-lang"></span>',"board-datum-uri":'<a class="board-link"></a>',"board-datum-sfw":'<i class="fa fa-briefcase board-sfw" title="SFW"></i>',"board-datum-nsfw":'<i class="fa fa-briefcase board-nsfw" title="NSFW"></i>',"board-datum-tags":'<a class="tag-link" href="#"></a>',"board-datum-pph":'<p class="board-cell board-pph-desc" title="%1 made in the last hour, %2 on average"></p>',"tag-list":'<ul class="tag-list"></ul>',"tag-item":'<li class="tag-item"></li>',"tag-link":'<a class="tag-link" href="#"></a>'}},lastSearch:{},bind:{form:function(){var n=i.options.selector,o=e(n.search),r=e(n["search-lang"]),s=e(n["search-sfw"]),a=e(n["search-tag"]),l=e(n["search-title"]),c=e(n["search-submit"]),d={boardlist:i.$boardlist,search:o,searchLang:r,searchSfw:s,searchTag:a,searchTitle:l,searchSubmit:c}
o.length>0&&(i.$boardlist.on("click",n["board-omitted"],d,i.events.loadMore).on("click",n["tag-link"],d,i.events.tagClick).on("submit",n.search,d,i.events.searchSubmit).on("click",n["search-submit"],d,i.events.searchSubmit),e(t).on("hashchange",d,i.events.hashChange),c.prop("disabled",!1))}},build:{boardlist:function(t){i.build.boards(t.boards,t.order),i.build.lastSearch(t.search),i.build.footer(t),i.build.tags(t.tagWeight)},boards:function(t,n){var o=e(i.options.selector["board-head"],i.$boardlist),r=e("[data-column]",o),s=e(i.options.selector["board-body"],i.$boardlist)
e.each(n,function(n,o){var a=t[o]
$row=e(i.options.template["board-row"]),r.each(function(t,e){i.build.board(a,e).appendTo($row)}),$row.appendTo(s)})},board:function(t,n){var o=e(n),r=o.attr("data-column"),s=t[r]
if($cell=e(i.options.template["board-cell-"+r]),$wrap=e(i.options.template["board-content-wrap"]),"undefined"==typeof i.build.boardcell[r])s instanceof Array?"undefined"!=typeof i.options.template["board-datum-"+r]?e.each(s,function(t,n){e(i.options.template["board-datum-"+r]).text(n).appendTo($wrap)}):$wrap.text(s.join(" ")):$wrap.text(s)
else{var a=i.build.boardcell[r](t,s)
a instanceof jQuery?a.is("."+$wrap[0]["class"])?$wrap=a:$wrap.append(a):"string"==typeof a?$wrap.html(a):console.log("Special cell constructor returned a "+typeof a+" that board-directory.js cannot interpret.")}return $wrap.appendTo($cell),$cell},boardcell:{meta:function(t){return e(i.options.template["board-datum-lang"]).text(t.locale)},uri:function(t){var n=e(i.options.template["board-datum-uri"]),o=e(i.options.template["board-datum-"+(1==t.sfw?"sfw":"nsfw")])
return n.attr("href","/"+t.uri+"/").text("/"+t.uri+"/"),1==t.sfw?n[0].outerHTML+o[0].outerHTML:n[0].outerHTML},pph:function(t){return e(i.options.template["board-datum-pph"]).attr("title",function(e,i){return i.replace("%1",t.pph).replace("%2",t.pph_average)}).text(t.pph)}},lastSearch:function(t){return i.lastSearch={lang:t.lang===!1?"":t.lang,page:t.page,tags:t.tags===!1?"":t.tags.join(" "),time:t.time,title:t.title===!1?"":t.title,sfw:t.nsfw?0:1}},footer:function(t){var n=i.options.selector,o=(e(n["footer-page"],i.$boardlist),e(n["footer-count"],i.$boardlist)),r=e(n["footer-total"],i.$boardlist),s=e(n["footer-more"],i.$boardlist),a=e(n["board-omitted"],i.$boardlist),l=Object.keys(t.boards).length,c=t.omitted-t.search.page
0>c&&(c=0)
var d=l+c+t.search.page
o.text(t.search.page+l),r.text(d),s.toggleClass("board-list-hasmore",0!=c),a.toggle(l+c>0)},tags:function(t){var n=i.options.selector,o=i.options.template,r=e(n["tag-list"],i.$boardlist)
r.length&&e.each(t,function(t,i){var n=e(o["tag-item"]),s=e(o["tag-link"])
s.css("font-size",i+"%").text(t).appendTo(n),n.appendTo(r)})}},events:{loadMore:function(){var t=e.extend({},i.lastSearch)
t.page=e(i.options.selector["board-body"],i.$boardlist).children().length,i.submit(t)},hashChange:function(){if(""!=t.location.hash)var n=t.location.hash.substr(1,t.location.hash.length).split(","),o=n.join(" ")
else var n=[],o=""
return e(i.options.selector["search-tag"],i.$boardlist).val(o),e(i.options.selector["tag-list"],i.$boardlist).html(""),e(i.options.selector["board-body"],i.$boardlist).html(""),i.submit({tags:n}),!0},searchSubmit:function(t){return t.preventDefault(),e(i.options.selector["tag-list"],i.$boardlist).html(""),e(i.options.selector["board-body"],i.$boardlist).html(""),i.submit({lang:t.data.searchLang.val(),tags:t.data.searchTag.val(),title:t.data.searchTitle.val(),sfw:t.data.searchSfw.prop("checked")?1:0}),!1},tagClick:function(t){t.preventDefault()
var n=e(this),o=e(i.options.selector["search-tag"])
return o.val((o.val()+" "+n.text()).replace(/\s+/g," ").trim()).trigger("change").focus(),!1}},submit:function(t){var n=i.$boardlist,o=e(i.options.selector["board-loading"],n),r=e(i.options.selector["search-submit"],n),s=e(i.options.selector["board-omitted"],n)
return r.prop("disabled",!0),o.show(),s.hide(),e.get("/board-search.php",t,function(t){r.prop("disabled",!1),o.hide(),i.build.boardlist(e.parseJSON(t))})},init:function(n){"string"!=typeof n&&(n=i.options.selector.boardlist),""!=t.location.search&&t.location.search.length>0&&t.location.search.substr(1).split("&").forEach(function(t){i.lastSearch[t.split("=")[0]]=t.split("=")[1]})
var o=e(n)
o.length>0&&(e(i.options.selector["board-loading"],o).hide(),i.$boardlist=o,i.bind.form(),""!=t.location.hash&&e(t).trigger("hashchange"))}}
"undefined"==typeof t.vichan&&(t.vichan={}),t.vichan.boardlist=i,e(document).on("ready",t.vichan.boardlist.init),"complete"===document.readyState&&t.vichan.boardlist.init()}(window,jQuery),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t()
else if("function"==typeof define&&define.amd)define([],t)
else{var e
"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.html2canvas=t()}}(function(){var t
return function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require
if(!a&&l)return l(s,!0)
if(r)return r(s,!0)
var c=new Error("Cannot find module '"+s+"'")
throw c.code="MODULE_NOT_FOUND",c}var d=i[s]={exports:{}}
t[s][0].call(d.exports,function(e){var i=t[s][1][e]
return o(i?i:e)},d,d.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s])
return o}({1:[function(e,i,n){(function(e){!function(o){function r(t){throw RangeError(D[t])}function s(t,e){for(var i=t.length;i--;)t[i]=e(t[i])
return t}function a(t,e){return s(t.split(O),e).join(".")}function l(t){for(var e,i,n=[],o=0,r=t.length;r>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&r>o?(i=t.charCodeAt(o++),56320==(64512&i)?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),o--)):n.push(e)
return n}function c(t){return s(t,function(t){var e=""
return t>65535&&(t-=65536,e+=L(t>>>10&1023|55296),t=56320|1023&t),e+=L(t)}).join("")}function d(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:$}function h(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,i){var n=0
for(t=i?R(t/T):t>>1,t+=R(t/e);t>M*S>>1;n+=$)t=R(t/M)
return R(n+(M+1)*t/(t+C))}function u(t){var e,i,n,o,s,a,l,h,u,f,g=[],m=t.length,v=0,y=E,b=P
for(i=t.lastIndexOf(I),0>i&&(i=0),n=0;i>n;++n)t.charCodeAt(n)>=128&&r("not-basic"),g.push(t.charCodeAt(n))
for(o=i>0?i+1:0;m>o;){for(s=v,a=1,l=$;o>=m&&r("invalid-input"),h=d(t.charCodeAt(o++)),(h>=$||h>R((x-v)/a))&&r("overflow"),v+=h*a,u=b>=l?k:l>=b+S?S:l-b,!(u>h);l+=$)f=$-u,a>R(x/f)&&r("overflow"),a*=f
e=g.length+1,b=p(v-s,e,0==s),R(v/e)>x-y&&r("overflow"),y+=R(v/e),v%=e,g.splice(v++,0,y)}return c(g)}function f(t){var e,i,n,o,s,a,c,d,u,f,g,m,v,y,b,_=[]
for(t=l(t),m=t.length,e=E,i=0,s=P,a=0;m>a;++a)g=t[a],128>g&&_.push(L(g))
for(n=o=_.length,o&&_.push(I);m>n;){for(c=x,a=0;m>a;++a)g=t[a],g>=e&&c>g&&(c=g)
for(v=n+1,c-e>R((x-i)/v)&&r("overflow"),i+=(c-e)*v,e=c,a=0;m>a;++a)if(g=t[a],e>g&&++i>x&&r("overflow"),g==e){for(d=i,u=$;f=s>=u?k:u>=s+S?S:u-s,!(f>d);u+=$)b=d-f,y=$-f,_.push(L(h(f+b%y,0))),d=R(b/y)
_.push(L(h(d,0))),s=p(i,v,n==o),i=0,++n}++i,++e}return _.join("")}function g(t){return a(t,function(t){return A.test(t)?u(t.slice(4).toLowerCase()):t})}function m(t){return a(t,function(t){return N.test(t)?"xn--"+f(t):t})}var v="object"==typeof n&&n,y="object"==typeof i&&i&&i.exports==v&&i,b="object"==typeof e&&e;(b.global===b||b.window===b)&&(o=b)
var _,w,x=2147483647,$=36,k=1,S=26,C=38,T=700,P=72,E=128,I="-",A=/^xn--/,N=/[^ -~]/,O=/\x2E|\u3002|\uFF0E|\uFF61/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=$-k,R=Math.floor,L=String.fromCharCode
if(_={version:"1.2.4",ucs2:{decode:l,encode:c},decode:u,encode:f,toASCII:m,toUnicode:g},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return _})
else if(v&&!v.nodeType)if(y)y.exports=_
else for(w in _)_.hasOwnProperty(w)&&(v[w]=_[w])
else o.punycode=_}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e){function i(t,e,i){!t.defaultView||e===t.defaultView.pageXOffset&&i===t.defaultView.pageYOffset||t.defaultView.scrollTo(e,i)}function n(t,e){try{e&&(e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0))}catch(i){s("Unable to copy canvas content from",t,i)}}function o(t,e){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),r=t.firstChild;r;)(e===!0||1!==r.nodeType||"SCRIPT"!==r.nodeName)&&i.appendChild(o(r,e)),r=r.nextSibling
return 1===t.nodeType&&(i._scrollTop=t.scrollTop,i._scrollLeft=t.scrollLeft,"CANVAS"===t.nodeName?n(t,i):("TEXTAREA"===t.nodeName||"SELECT"===t.nodeName)&&(i.value=t.value)),i}function r(t){if(1===t.nodeType){t.scrollTop=t._scrollTop,t.scrollLeft=t._scrollLeft
for(var e=t.firstChild;e;)r(e),e=e.nextSibling}}var s=t("./log")
e.exports=function(t,e,n,s,a,l,c){var d=o(t.documentElement,a.javascriptEnabled),h=e.createElement("iframe")
return h.className="html2canvas-container",h.style.visibility="hidden",h.style.position="fixed",h.style.left="-10000px",h.style.top="0px",h.style.border="0",h.width=n,h.height=s,h.scrolling="no",e.body.appendChild(h),new Promise(function(e){var n=h.contentWindow.document
h.contentWindow.onload=h.onload=function(){var t=setInterval(function(){n.body.childNodes.length>0&&(r(n.documentElement),clearInterval(t),"view"===a.type&&(h.contentWindow.scrollTo(l,c),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||h.contentWindow.scrollY===c&&h.contentWindow.scrollX===l||(n.documentElement.style.top=-c+"px",n.documentElement.style.left=-l+"px",n.documentElement.style.position="absolute")),e(h))},50)},n.open(),n.write("<!DOCTYPE html><html></html>"),i(t,l,c),n.replaceChild(n.adoptNode(d),n.documentElement),n.close()})}},{"./log":13}],3:[function(t,e){function i(t){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(t)||this.namedColor(t)||this.rgb(t)||this.rgba(t)||this.hex6(t)||this.hex3(t)}i.prototype.darken=function(t){var e=1-t
return new i([Math.round(this.r*e),Math.round(this.g*e),Math.round(this.b*e),this.a])},i.prototype.isTransparent=function(){return 0===this.a},i.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},i.prototype.fromArray=function(t){return Array.isArray(t)&&(this.r=Math.min(t[0],255),this.g=Math.min(t[1],255),this.b=Math.min(t[2],255),t.length>3&&(this.a=t[3])),Array.isArray(t)}
var n=/^#([a-f0-9]{3})$/i
i.prototype.hex3=function(t){var e=null
return null!==(e=t.match(n))&&(this.r=parseInt(e[1][0]+e[1][0],16),this.g=parseInt(e[1][1]+e[1][1],16),this.b=parseInt(e[1][2]+e[1][2],16)),null!==e}
var o=/^#([a-f0-9]{6})$/i
i.prototype.hex6=function(t){var e=null
return null!==(e=t.match(o))&&(this.r=parseInt(e[1].substring(0,2),16),this.g=parseInt(e[1].substring(2,4),16),this.b=parseInt(e[1].substring(4,6),16)),null!==e}
var r=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/
i.prototype.rgb=function(t){var e=null
return null!==(e=t.match(r))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3])),null!==e}
var s=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/
i.prototype.rgba=function(t){var e=null
return null!==(e=t.match(s))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3]),this.a=Number(e[4])),null!==e},i.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},i.prototype.namedColor=function(t){t=t.toLowerCase()
var e=a[t]
if(e)this.r=e[0],this.g=e[1],this.b=e[2]
else if("transparent"===t)return this.r=this.g=this.b=this.a=0,!0
return!!e},i.prototype.isColor=!0
var a={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}
e.exports=i},{}],4:[function(e,i){function n(t,e){var i=x++
if(e=e||{},e.logging&&(m.options.logging=!0,m.options.start=Date.now()),e.async="undefined"==typeof e.async?!0:e.async,e.allowTaint="undefined"==typeof e.allowTaint?!1:e.allowTaint,e.removeContainer="undefined"==typeof e.removeContainer?!0:e.removeContainer,e.javascriptEnabled="undefined"==typeof e.javascriptEnabled?!1:e.javascriptEnabled,e.imageTimeout="undefined"==typeof e.imageTimeout?1e4:e.imageTimeout,e.renderer="function"==typeof e.renderer?e.renderer:p,e.strict=!!e.strict,"string"==typeof t){if("string"!=typeof e.proxy)return Promise.reject("Proxy must be used when rendering url")
var n=null!=e.width?e.width:window.innerWidth,s=null!=e.height?e.height:window.innerHeight
return b(d(t),e.proxy,document,n,s,e).then(function(t){return r(t.contentWindow.document.documentElement,t,e,n,s)})}var a=(void 0===t?[document.documentElement]:t.length?t:[t])[0]
return a.setAttribute(w+i,i),o(a.ownerDocument,e,a.ownerDocument.defaultView.innerWidth,a.ownerDocument.defaultView.innerHeight,i).then(function(t){return"function"==typeof e.onrendered&&(m("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),e.onrendered(t)),t})}function o(t,e,i,n,o){return y(t,t,i,n,e,t.defaultView.pageXOffset,t.defaultView.pageYOffset).then(function(s){m("Document cloned")
var a=w+o,l="["+a+"='"+o+"']"
t.querySelector(l).removeAttribute(a)
var c=s.contentWindow,d=c.document.querySelector(l),h=Promise.resolve("function"==typeof e.onclone?e.onclone(c.document):!0)
return h.then(function(){return r(d,s,e,i,n)})})}function r(t,e,i,n,o){var r=e.contentWindow,d=new h(r.document),p=new u(i,d),g=_(t),v="view"===i.type?n:l(r.document),y="view"===i.type?o:c(r.document),b=new i.renderer(v,y,p,i,document),w=new f(t,b,d,p,i)
return w.ready.then(function(){m("Finished rendering")
var n
return n="view"===i.type?a(b.canvas,{width:b.canvas.width,height:b.canvas.height,top:0,left:0,x:0,y:0}):t===r.document.body||t===r.document.documentElement||null!=i.canvas?b.canvas:a(b.canvas,{width:null!=i.width?i.width:g.width,height:null!=i.height?i.height:g.height,top:g.top,left:g.left,x:0,y:0}),s(e,i),n})}function s(t,e){e.removeContainer&&(t.parentNode.removeChild(t),m("Cleaned up container"))}function a(t,e){var i=document.createElement("canvas"),n=Math.min(t.width-1,Math.max(0,e.left)),o=Math.min(t.width,Math.max(1,e.left+e.width)),r=Math.min(t.height-1,Math.max(0,e.top)),s=Math.min(t.height,Math.max(1,e.top+e.height))
i.width=e.width,i.height=e.height
var a=o-n,l=s-r
return m("Cropping canvas at:","left:",e.left,"top:",e.top,"width:",a,"height:",l),m("Resulting crop with width",e.width,"and height",e.height,"with x",n,"and y",r),i.getContext("2d").drawImage(t,n,r,a,l,e.x,e.y,a,l),i}function l(t){return Math.max(Math.max(t.body.scrollWidth,t.documentElement.scrollWidth),Math.max(t.body.offsetWidth,t.documentElement.offsetWidth),Math.max(t.body.clientWidth,t.documentElement.clientWidth))}function c(t){return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))}function d(t){var e=document.createElement("a")
return e.href=t,e.href=e.href,e}var h=e("./support"),p=e("./renderers/canvas"),u=e("./imageloader"),f=e("./nodeparser"),g=e("./nodecontainer"),m=e("./log"),v=e("./utils"),y=e("./clone"),b=e("./proxy").loadUrlDocument,_=v.getBounds,w="data-html2canvas-node",x=0
n.CanvasRenderer=p,n.NodeContainer=g,n.log=m,n.utils=v
var $="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:n
i.exports=$,"function"==typeof t&&t.amd&&t("html2canvas",[],function(){return $})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(t,e){function i(t){if(this.src=t,n("DummyImageContainer for",t),!this.promise||!this.image){n("Initiating DummyImageContainer"),i.prototype.image=new Image
var e=this.image
i.prototype.promise=new Promise(function(t,i){e.onload=t,e.onerror=i,e.src=o(),e.complete===!0&&t(e)})}}var n=t("./log"),o=t("./utils").smallImage
e.exports=i},{"./log":13,"./utils":26}],6:[function(t,e){function i(t,e){var i,o,r=document.createElement("div"),s=document.createElement("img"),a=document.createElement("span"),l="Hidden Text"
r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=e,r.style.margin=0,r.style.padding=0,document.body.appendChild(r),s.src=n(),s.width=1,s.height=1,s.style.margin=0,s.style.padding=0,s.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=e,a.style.margin=0,a.style.padding=0,a.appendChild(document.createTextNode(l)),r.appendChild(a),r.appendChild(s),i=s.offsetTop-a.offsetTop+1,r.removeChild(a),r.appendChild(document.createTextNode(l)),r.style.lineHeight="normal",s.style.verticalAlign="super",o=s.offsetTop-r.offsetTop+1,document.body.removeChild(r),this.baseline=i,this.lineWidth=1,this.middle=o}var n=t("./utils").smallImage
e.exports=i},{"./utils":26}],7:[function(t,e){function i(){this.data={}}var n=t("./font")
i.prototype.getMetrics=function(t,e){return void 0===this.data[t+"-"+e]&&(this.data[t+"-"+e]=new n(t,e)),this.data[t+"-"+e]},e.exports=i},{"./font":6}],8:[function(t,e){function i(e,i,n){this.image=null,this.src=e
var r=this,s=o(e)
this.promise=(i?new Promise(function(t){"about:blank"===e.contentWindow.document.URL||null==e.contentWindow.document.documentElement?e.contentWindow.onload=e.onload=function(){t(e)}:t(e)}):this.proxyLoad(n.proxy,s,n)).then(function(e){var i=t("./core")
return i(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:n.proxy,javascriptEnabled:n.javascriptEnabled,removeContainer:n.removeContainer,allowTaint:n.allowTaint,imageTimeout:n.imageTimeout/2})}).then(function(t){return r.image=t})}var n=t("./utils"),o=n.getBounds,r=t("./proxy").loadUrlDocument
i.prototype.proxyLoad=function(t,e,i){var n=this.src
return r(n.src,t,n.ownerDocument,e.width,e.height,i)},e.exports=i},{"./core":4,"./proxy":16,"./utils":26}],9:[function(t,e){function i(t){this.src=t.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}i.TYPES={LINEAR:1,RADIAL:2},i.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,e.exports=i},{}],10:[function(t,e){function i(t,e){this.src=t,this.image=new Image
var i=this
this.tainted=null,this.promise=new Promise(function(n,o){i.image.onload=n,i.image.onerror=o,e&&(i.image.crossOrigin="anonymous"),i.image.src=t,i.image.complete===!0&&n(i.image)})}e.exports=i},{}],11:[function(t,e){function i(t,e){this.link=null,this.options=t,this.support=e,this.origin=this.getOrigin(window.location.href)}var n=t("./log"),o=t("./imagecontainer"),r=t("./dummyimagecontainer"),s=t("./proxyimagecontainer"),a=t("./framecontainer"),l=t("./svgcontainer"),c=t("./svgnodecontainer"),d=t("./lineargradientcontainer"),h=t("./webkitgradientcontainer"),p=t("./utils").bind
i.prototype.findImages=function(t){var e=[]
return t.reduce(function(t,e){switch(e.node.nodeName){case"IMG":return t.concat([{args:[e.node.src],method:"url"}])
case"svg":case"IFRAME":return t.concat([{args:[e.node],method:e.node.nodeName}])}return t},[]).forEach(this.addImage(e,this.loadImage),this),e},i.prototype.findBackgroundImage=function(t,e){return e.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(t,this.loadImage),this),t},i.prototype.addImage=function(t,e){return function(i){i.args.forEach(function(o){this.imageExists(t,o)||(t.splice(0,0,e.call(this,i)),n("Added image #"+t.length,"string"==typeof o?o.substring(0,100):o))},this)}},i.prototype.hasImageBackground=function(t){return"none"!==t.method},i.prototype.loadImage=function(t){if("url"===t.method){var e=t.args[0]
return!this.isSVG(e)||this.support.svg||this.options.allowTaint?e.match(/data:image\/.*;base64,/i)?new o(e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(e)||this.options.allowTaint===!0||this.isSVG(e)?new o(e,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new o(e,!0):this.options.proxy?new s(e,this.options.proxy):new r(e):new l(e)}return"linear-gradient"===t.method?new d(t):"gradient"===t.method?new h(t):"svg"===t.method?new c(t.args[0],this.support.svg):"IFRAME"===t.method?new a(t.args[0],this.isSameOrigin(t.args[0].src),this.options):new r(t)},i.prototype.isSVG=function(t){return"svg"===t.substring(t.length-3).toLowerCase()||l.prototype.isInline(t)},i.prototype.imageExists=function(t,e){return t.some(function(t){return t.src===e})},i.prototype.isSameOrigin=function(t){return this.getOrigin(t)===this.origin},i.prototype.getOrigin=function(t){var e=this.link||(this.link=document.createElement("a"))
return e.href=t,e.href=e.href,e.protocol+e.hostname+e.port},i.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout)["catch"](function(){var e=new r(t.src)
return e.promise.then(function(e){t.image=e})})},i.prototype.get=function(t){var e=null
return this.images.some(function(i){return(e=i).src===t})?e:null},i.prototype.fetch=function(t){return this.images=t.reduce(p(this.findBackgroundImage,this),this.findImages(t)),this.images.forEach(function(t,e){t.promise.then(function(){n("Succesfully loaded image #"+(e+1),t)},function(i){n("Failed loading image #"+(e+1),t,i)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),n("Finished searching images"),this},i.prototype.timeout=function(t,e){var i,o=Promise.race([t.promise,new Promise(function(o,r){i=setTimeout(function(){n("Timed out loading image",t),r(t)},e)})]).then(function(t){return clearTimeout(i),t})
return o["catch"](function(){clearTimeout(i)}),o},e.exports=i},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(t,e){function i(t){n.apply(this,arguments),this.type=n.TYPES.LINEAR
var e=i.REGEXP_DIRECTION.test(t.args[0])||!n.REGEXP_COLORSTOP.test(t.args[0])
e?t.args[0].split(/\s+/).reverse().forEach(function(t,e){switch(t){case"left":this.x0=0,this.x1=1
break
case"top":this.y0=0,this.y1=1
break
case"right":this.x0=1,this.x1=0
break
case"bottom":this.y0=1,this.y1=0
break
case"to":var i=this.y0,n=this.x0
this.y0=this.y1,this.x0=this.x1,this.x1=n,this.y1=i
break
case"center":break
default:var o=.01*parseFloat(t,10)
if(isNaN(o))break
0===e?(this.y0=o,this.y1=1-this.y0):(this.x0=o,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=t.args.slice(e?1:0).map(function(t){var e=t.match(n.REGEXP_COLORSTOP),i=+e[2],r=0===i?"%":e[3]
return{color:new o(e[1]),stop:"%"===r?i/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(t,e){null===t.stop&&this.colorStops.slice(e).some(function(i,n){return null!==i.stop?(t.stop=(i.stop-this.colorStops[e-1].stop)/(n+1)+this.colorStops[e-1].stop,!0):!1},this)},this)}var n=t("./gradientcontainer"),o=t("./color")
i.prototype=Object.create(n.prototype),i.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,e.exports=i},{"./color":3,"./gradientcontainer":9}],13:[function(t,e){var i=function(){i.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-i.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))}
i.options={logging:!1},e.exports=i},{}],14:[function(t,e){function i(t,e){this.node=t,this.parent=e,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function n(t){var e=t.options[t.selectedIndex||0]
return e?e.text||"":""}function o(t){if(t&&"matrix"===t[1])return t[2].split(",").map(function(t){return parseFloat(t.trim())})
if(t&&"matrix3d"===t[1]){var e=t[2].split(",").map(function(t){return parseFloat(t.trim())})
return[e[0],e[1],e[4],e[5],e[12],e[13]]}}function r(t){return-1!==t.toString().indexOf("%")}function s(t){return t.replace("px","")}function a(t){return parseFloat(t)}var l=t("./color"),c=t("./utils"),d=c.getBounds,h=c.parseBackgrounds,p=c.offsetBounds
i.prototype.cloneTo=function(t){t.visible=this.visible,t.borders=this.borders,t.bounds=this.bounds,t.clip=this.clip,t.backgroundClip=this.backgroundClip,t.computedStyles=this.computedStyles,t.styles=this.styles,t.backgroundImages=this.backgroundImages,t.opacity=this.opacity},i.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},i.prototype.assignStack=function(t){this.stack=t,t.children.push(this)},i.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},i.prototype.css=function(t){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[t]||(this.styles[t]=this.computedStyles[t])},i.prototype.prefixedCss=function(t){var e=["webkit","moz","ms","o"],i=this.css(t)
return void 0===i&&e.some(function(e){return i=this.css(e+t.substr(0,1).toUpperCase()+t.substr(1)),void 0!==i},this),void 0===i?null:i},i.prototype.computedStyle=function(t){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,t)},i.prototype.cssInt=function(t){var e=parseInt(this.css(t),10)
return isNaN(e)?0:e},i.prototype.color=function(t){return this.colors[t]||(this.colors[t]=new l(this.css(t)))},i.prototype.cssFloat=function(t){var e=parseFloat(this.css(t))
return isNaN(e)?0:e},i.prototype.fontWeight=function(){var t=this.css("fontWeight")
switch(parseInt(t,10)){case 401:t="bold"
break
case 400:t="normal"}return t},i.prototype.parseClip=function(){var t=this.css("clip").match(this.CLIP)
return t?{top:parseInt(t[1],10),right:parseInt(t[2],10),bottom:parseInt(t[3],10),left:parseInt(t[4],10)}:null},i.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=h(this.css("backgroundImage")))},i.prototype.cssList=function(t,e){var i=(this.css(t)||"").split(",")
return i=i[e||0]||i[0]||"auto",i=i.trim().split(" "),1===i.length&&(i=[i[0],r(i[0])?"auto":i[0]]),i},i.prototype.parseBackgroundSize=function(t,e,i){var n,o,s=this.cssList("backgroundSize",i)
if(r(s[0]))n=t.width*parseFloat(s[0])/100
else{if(/contain|cover/.test(s[0])){var a=t.width/t.height,l=e.width/e.height
return l>a^"contain"===s[0]?{width:t.height*l,height:t.height}:{width:t.width,height:t.width/l}}n=parseInt(s[0],10)}return o="auto"===s[0]&&"auto"===s[1]?e.height:"auto"===s[1]?n/e.width*e.height:r(s[1])?t.height*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(n=o/e.height*e.width),{width:n,height:o}},i.prototype.parseBackgroundPosition=function(t,e,i,n){var o,s,a=this.cssList("backgroundPosition",i)
return o=r(a[0])?(t.width-(n||e).width)*(parseFloat(a[0])/100):parseInt(a[0],10),s="auto"===a[1]?o/e.width*e.height:r(a[1])?(t.height-(n||e).height)*parseFloat(a[1])/100:parseInt(a[1],10),"auto"===a[0]&&(o=s/e.height*e.width),{left:o,top:s}},i.prototype.parseBackgroundRepeat=function(t){return this.cssList("backgroundRepeat",t)[0]},i.prototype.parseTextShadows=function(){var t=this.css("textShadow"),e=[]
if(t&&"none"!==t)for(var i=t.match(this.TEXT_SHADOW_PROPERTY),n=0;i&&n<i.length;n++){var o=i[n].match(this.TEXT_SHADOW_VALUES)
e.push({color:new l(o[0]),offsetX:o[1]?parseFloat(o[1].replace("px","")):0,offsetY:o[2]?parseFloat(o[2].replace("px","")):0,blur:o[3]?o[3].replace("px",""):0})}return e},i.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var t=this.parseBounds(),e=this.prefixedCss("transformOrigin").split(" ").map(s).map(a)
e[0]+=t.left,e[1]+=t.top,this.transformData={origin:e,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]}
return this.transformData},i.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var t=this.prefixedCss("transform"),e=t?o(t.match(this.MATRIX_PROPERTY)):null
this.transformMatrix=e?e:[1,0,0,1,0,0]}return this.transformMatrix},i.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?p(this.node):d(this.node))},i.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},i.prototype.getValue=function(){var t=this.node.value||""
return"SELECT"===this.node.tagName?t=n(this.node):"password"===this.node.type&&(t=Array(t.length+1).join("Ã¢â‚¬Â¢")),0===t.length?this.node.placeholder||"":t},i.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,i.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,i.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,i.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,e.exports=i},{"./color":3,"./utils":26}],15:[function(t,e){function i(t,e,i,n,o){z("Starting NodeParser"),this.renderer=e,this.options=o,this.range=null,this.support=i,this.renderQueue=[],this.stack=new X(!0,1,t.ownerDocument,null)
var r=new B(t,null)
if(o.background&&e.rectangle(0,0,e.width,e.height,new U(o.background)),t===t.ownerDocument.documentElement){var s=new B(r.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null)
e.rectangle(0,0,e.width,e.height,s.color("backgroundColor"))}r.visibile=r.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=D([r].concat(this.getChildren(r)).filter(function(t){return t.visible=t.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new q,z("Fetched nodes, total:",this.nodes.length),z("Calculate overflow clips"),this.calculateOverflowClips(),z("Start fetching images"),this.images=n.fetch(this.nodes.filter(C)),this.ready=this.images.ready.then(Y(function(){return z("Images loaded, starting parsing"),z("Creating stacking contexts"),this.createStackingContexts(),z("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),z("Render queue created with "+this.renderQueue.length+" items"),new Promise(Y(function(t){o.async?"function"==typeof o.async?o.async.call(this,this.renderQueue,t):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,t)):t():(this.renderQueue.forEach(this.paint,this),t())},this))},this))}function n(t){return t.parent&&t.parent.clip.length}function o(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})}function r(){}function s(t,e,i,n){return t.map(function(o,r){if(o.width>0){var s=e.left,a=e.top,l=e.width,c=e.height-t[2].width
switch(r){case 0:c=t[0].width,o.args=d({c1:[s,a],c2:[s+l,a],c3:[s+l-t[1].width,a+c],c4:[s+t[3].width,a+c]},n[0],n[1],i.topLeftOuter,i.topLeftInner,i.topRightOuter,i.topRightInner)
break
case 1:s=e.left+e.width-t[1].width,l=t[1].width,o.args=d({c1:[s+l,a],c2:[s+l,a+c+t[2].width],c3:[s,a+c],c4:[s,a+t[0].width]},n[1],n[2],i.topRightOuter,i.topRightInner,i.bottomRightOuter,i.bottomRightInner)
break
case 2:a=a+e.height-t[2].width,c=t[2].width,o.args=d({c1:[s+l,a+c],c2:[s,a+c],c3:[s+t[3].width,a],c4:[s+l-t[3].width,a]},n[2],n[3],i.bottomRightOuter,i.bottomRightInner,i.bottomLeftOuter,i.bottomLeftInner)
break
case 3:l=t[3].width,o.args=d({c1:[s,a+c+t[2].width],c2:[s,a],c3:[s+l,a+t[0].width],c4:[s+l,a+c]},n[3],n[0],i.bottomLeftOuter,i.bottomLeftInner,i.topLeftOuter,i.topLeftInner)}}return o})}function a(t,e,i,n){var o=4*((Math.sqrt(2)-1)/3),r=i*o,s=n*o,a=t+i,l=e+n
return{topLeft:c({x:t,y:l},{x:t,y:l-s},{x:a-r,y:e},{x:a,y:e}),topRight:c({x:t,y:e},{x:t+r,y:e},{x:a,y:l-s},{x:a,y:l}),bottomRight:c({x:a,y:e},{x:a,y:e+s},{x:t+r,y:l},{x:t,y:l}),bottomLeft:c({x:a,y:l},{x:a-r,y:l},{x:t,y:e+s},{x:t,y:e})}}function l(t,e,i){var n=t.left,o=t.top,r=t.width,s=t.height,l=e[0][0]<r/2?e[0][0]:r/2,c=e[0][1]<s/2?e[0][1]:s/2,d=e[1][0]<r/2?e[1][0]:r/2,h=e[1][1]<s/2?e[1][1]:s/2,p=e[2][0]<r/2?e[2][0]:r/2,u=e[2][1]<s/2?e[2][1]:s/2,f=e[3][0]<r/2?e[3][0]:r/2,g=e[3][1]<s/2?e[3][1]:s/2,m=r-d,v=s-u,y=r-p,b=s-g
return{topLeftOuter:a(n,o,l,c).topLeft.subdivide(.5),topLeftInner:a(n+i[3].width,o+i[0].width,Math.max(0,l-i[3].width),Math.max(0,c-i[0].width)).topLeft.subdivide(.5),topRightOuter:a(n+m,o,d,h).topRight.subdivide(.5),topRightInner:a(n+Math.min(m,r+i[3].width),o+i[0].width,m>r+i[3].width?0:d-i[3].width,h-i[0].width).topRight.subdivide(.5),bottomRightOuter:a(n+y,o+v,p,u).bottomRight.subdivide(.5),bottomRightInner:a(n+Math.min(y,r-i[3].width),o+Math.min(v,s+i[0].width),Math.max(0,p-i[1].width),u-i[2].width).bottomRight.subdivide(.5),bottomLeftOuter:a(n,o+b,f,g).bottomLeft.subdivide(.5),bottomLeftInner:a(n+i[3].width,o+b,Math.max(0,f-i[3].width),g-i[2].width).bottomLeft.subdivide(.5)}}function c(t,e,i,n){var o=function(t,e,i){return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}}
return{start:t,startControl:e,endControl:i,end:n,subdivide:function(r){var s=o(t,e,r),a=o(e,i,r),l=o(i,n,r),d=o(s,a,r),h=o(a,l,r),p=o(d,h,r)
return[c(t,s,d,p),c(p,h,l,n)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,i.x,i.y,n.x,n.y])},curveToReversed:function(n){n.push(["bezierCurve",i.x,i.y,e.x,e.y,t.x,t.y])}}}function d(t,e,i,n,o,r,s){var a=[]
return e[0]>0||e[1]>0?(a.push(["line",n[1].start.x,n[1].start.y]),n[1].curveTo(a)):a.push(["line",t.c1[0],t.c1[1]]),i[0]>0||i[1]>0?(a.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(a),a.push(["line",s[0].end.x,s[0].end.y]),s[0].curveToReversed(a)):(a.push(["line",t.c2[0],t.c2[1]]),a.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(a.push(["line",o[1].end.x,o[1].end.y]),o[1].curveToReversed(a)):a.push(["line",t.c4[0],t.c4[1]]),a}function h(t,e,i,n,o,r,s){e[0]>0||e[1]>0?(t.push(["line",n[0].start.x,n[0].start.y]),n[0].curveTo(t),n[1].curveTo(t)):t.push(["line",r,s]),(i[0]>0||i[1]>0)&&t.push(["line",o[0].start.x,o[0].start.y])}function p(t){return t.cssInt("zIndex")<0}function u(t){return t.cssInt("zIndex")>0}function f(t){return 0===t.cssInt("zIndex")}function g(t){return-1!==["inline","inline-block","inline-table"].indexOf(t.css("display"))}function m(t){return t instanceof X}function v(t){return t.node.data.trim().length>0}function y(t){return/^(normal|none|0px)$/.test(t.parent.css("letterSpacing"))}function b(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){var i=t.css("border"+e+"Radius"),n=i.split(" ")
return n.length<=1&&(n[1]=n[0]),n.map(A)})}function _(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE}function w(t){var e=t.css("position"),i=-1!==["absolute","relative","fixed"].indexOf(e)?t.css("zIndex"):"auto"
return"auto"!==i}function x(t){return"static"!==t.css("position")}function $(t){return"none"!==t.css("float")}function k(t){return-1!==["inline-block","inline-table"].indexOf(t.css("display"))}function S(t){var e=this
return function(){return!t.apply(e,arguments)}}function C(t){return t.node.nodeType===Node.ELEMENT_NODE}function T(t){return t.isPseudoElement===!0}function P(t){return t.node.nodeType===Node.TEXT_NODE}function E(t){return function(e,i){return e.cssInt("zIndex")+t.indexOf(e)/t.length-(i.cssInt("zIndex")+t.indexOf(i)/t.length)}}function I(t){return t.getOpacity()<1}function A(t){return parseInt(t,10)}function N(t){return t.width}function O(t){return t.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(t.node.nodeName)}function D(t){return[].concat.apply([],t)}function M(t){var e=t.substr(0,1)
return e===t.substr(t.length-1)&&e.match(/'|"/)?t.substr(1,t.length-2):t}function R(t){for(var e,i=[],n=0,o=!1;t.length;)L(t[n])===o?(e=t.splice(0,n),e.length&&i.push(F.ucs2.encode(e)),o=!o,n=0):n++,n>=t.length&&(e=t.splice(0,n),e.length&&i.push(F.ucs2.encode(e)))
return i}function L(t){return-1!==[32,13,10,9,45].indexOf(t)}function H(t){return/[^\u0000-\u00ff]/.test(t)}var z=t("./log"),F=t("punycode"),B=t("./nodecontainer"),j=t("./textcontainer"),W=t("./pseudoelementcontainer"),q=t("./fontmetrics"),U=t("./color"),X=t("./stackingcontext"),V=t("./utils"),Y=V.bind,J=V.getBounds,G=V.parseBackgrounds,Q=V.offsetBounds
i.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(t){if(C(t)){T(t)&&t.appendToDOM(),t.borders=this.parseBorders(t)
var e="hidden"===t.css("overflow")?[t.borders.clip]:[],i=t.parseClip()
i&&-1!==["absolute","fixed"].indexOf(t.css("position"))&&e.push([["rect",t.bounds.left+i.left,t.bounds.top+i.top,i.right-i.left,i.bottom-i.top]]),t.clip=n(t)?t.parent.clip.concat(e):e,t.backgroundClip="hidden"!==t.css("overflow")?t.clip.concat([t.borders.clip]):t.clip,T(t)&&t.cleanDOM()}else P(t)&&(t.clip=n(t)?t.parent.clip:[])
T(t)||(t.bounds=null)},this)},i.prototype.asyncRenderer=function(t,e,i){i=i||Date.now(),this.paint(t[this.renderIndex++]),t.length===this.renderIndex?e():i+20>Date.now()?this.asyncRenderer(t,e,i):setTimeout(Y(function(){this.asyncRenderer(t,e)},this),0)},i.prototype.createPseudoHideStyles=function(t){this.createStyles(t,"."+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},i.prototype.disableAnimations=function(t){this.createStyles(t,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},i.prototype.createStyles=function(t,e){var i=t.createElement("style")
i.innerHTML=e,t.body.appendChild(i)},i.prototype.getPseudoElements=function(t){var e=[[t]]
if(t.node.nodeType===Node.ELEMENT_NODE){var i=this.getPseudoElement(t,":before"),n=this.getPseudoElement(t,":after")
i&&e.push(i),n&&e.push(n)}return D(e)},i.prototype.getPseudoElement=function(t,e){var i=t.computedStyle(e)
if(!i||!i.content||"none"===i.content||"-moz-alt-content"===i.content||"none"===i.display)return null
for(var n=M(i.content),r="url"===n.substr(0,3),s=document.createElement(r?"img":"html2canvaspseudoelement"),a=new W(s,t,e),l=i.length-1;l>=0;l--){var c=o(i.item(l))
s.style[c]=i[c]}if(s.className=W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,r)return s.src=G(n)[0].args[0],[a]
var d=document.createTextNode(n)
return s.appendChild(d),[a,new j(d,a)]},i.prototype.getChildren=function(t){return D([].filter.call(t.node.childNodes,_).map(function(e){var i=[e.nodeType===Node.TEXT_NODE?new j(e,t):new B(e,t)].filter(O)
return e.nodeType===Node.ELEMENT_NODE&&i.length&&"TEXTAREA"!==e.tagName?i[0].isElementVisible()?i.concat(this.getChildren(i[0])):[]:i},this))},i.prototype.newStackingContext=function(t,e){var i=new X(e,t.getOpacity(),t.node,t.parent)
t.cloneTo(i)
var n=e?i.getParentStack(this):i.parent.stack
n.contexts.push(i),t.stack=i},i.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){C(t)&&(this.isRootElement(t)||I(t)||w(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):C(t)&&(x(t)&&f(t)||k(t)||$(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack)},this)},i.prototype.isBodyWithTransparentRoot=function(t){return"BODY"===t.node.nodeName&&t.parent.color("backgroundColor").isTransparent()},i.prototype.isRootElement=function(t){return null===t.parent},i.prototype.sortStackingContexts=function(t){t.contexts.sort(E(t.contexts.slice(0))),t.contexts.forEach(this.sortStackingContexts,this)},i.prototype.parseTextBounds=function(t){return function(e,i,n){if("none"!==t.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!t.parent.hasTransform()){var o=n.slice(0,i).join("").length
return this.getRangeBounds(t.node,o,e.length)}if(t.node&&"string"==typeof t.node.data){var r=t.node.splitText(e.length),s=this.getWrapperBounds(t.node,t.parent.hasTransform())
return t.node=r,s}}else(!this.support.rangeBounds||t.parent.hasTransform())&&(t.node=t.node.splitText(e.length))
return{}}},i.prototype.getWrapperBounds=function(t,e){var i=t.ownerDocument.createElement("html2canvaswrapper"),n=t.parentNode,o=t.cloneNode(!0)
i.appendChild(t.cloneNode(!0)),n.replaceChild(i,t)
var r=e?Q(i):J(i)
return n.replaceChild(o,i),r},i.prototype.getRangeBounds=function(t,e,i){var n=this.range||(this.range=t.ownerDocument.createRange())
return n.setStart(t,e),n.setEnd(t,e+i),n.getBoundingClientRect()},i.prototype.parse=function(t){var e=t.contexts.filter(p),i=t.children.filter(C),n=i.filter(S($)),o=n.filter(S(x)).filter(S(g)),s=i.filter(S(x)).filter($),a=n.filter(S(x)).filter(g),l=t.contexts.concat(n.filter(x)).filter(f),c=t.children.filter(P).filter(v),d=t.contexts.filter(u)
e.concat(o).concat(s).concat(a).concat(l).concat(c).concat(d).forEach(function(t){this.renderQueue.push(t),m(t)&&(this.parse(t),this.renderQueue.push(new r))},this)},i.prototype.paint=function(t){try{t instanceof r?this.renderer.ctx.restore():P(t)?(T(t.parent)&&t.parent.appendToDOM(),this.paintText(t),T(t.parent)&&t.parent.cleanDOM()):this.paintNode(t)}catch(e){if(z(e),this.options.strict)throw e}},i.prototype.paintNode=function(t){m(t)&&(this.renderer.setOpacity(t.opacity),this.renderer.ctx.save(),t.hasTransform()&&this.renderer.setTransform(t.parseTransform())),"INPUT"===t.node.nodeName&&"checkbox"===t.node.type?this.paintCheckbox(t):"INPUT"===t.node.nodeName&&"radio"===t.node.type?this.paintRadio(t):this.paintElement(t)},i.prototype.paintElement=function(t){var e=t.parseBounds()
this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,e,t.borders.borders.map(N))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var i=this.images.get(t.node)
i?this.renderer.renderImage(t,e,t.borders,i):z("Error loading <"+t.node.nodeName+">",t.node)
break
case"IMG":var n=this.images.get(t.node.src)
n?this.renderer.renderImage(t,e,t.borders,n):z("Error loading <img>",t.node.src)
break
case"CANVAS":this.renderer.renderImage(t,e,t.borders,{image:t.node})
break
case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t)}},this)},i.prototype.paintCheckbox=function(t){var e=t.parseBounds(),i=Math.min(e.width,e.height),n={width:i-1,height:i-1,top:e.top,left:e.left},o=[3,3],r=[o,o,o,o],a=[1,1,1,1].map(function(t){return{color:new U("#A5A5A5"),width:t}}),c=l(n,r,a)
this.renderer.clip(t.backgroundClip,function(){this.renderer.rectangle(n.left+1,n.top+1,n.width-2,n.height-2,new U("#DEDEDE")),this.renderer.renderBorders(s(a,n,c,r)),t.node.checked&&(this.renderer.font(new U("#424242"),"normal","normal","bold",i-3+"px","arial"),this.renderer.text("Ã¢Å“â€",n.left+i/6,n.top+i-1))},this)},i.prototype.paintRadio=function(t){var e=t.parseBounds(),i=Math.min(e.width,e.height)-2
this.renderer.clip(t.backgroundClip,function(){this.renderer.circleStroke(e.left+1,e.top+1,i,new U("#DEDEDE"),1,new U("#A5A5A5")),t.node.checked&&this.renderer.circle(Math.ceil(e.left+i/4)+1,Math.ceil(e.top+i/4)+1,Math.floor(i/2),new U("#424242"))},this)},i.prototype.paintFormValue=function(t){var e=t.getValue()
if(e.length>0){var i=t.node.ownerDocument,n=i.createElement("html2canvaswrapper"),o=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"]
o.forEach(function(e){try{n.style[e]=t.css(e)}catch(i){z("html2canvas: Parse: Exception caught in renderFormValue: "+i.message)}})
var r=t.parseBounds()
n.style.position="fixed",n.style.left=r.left+"px",n.style.top=r.top+"px",n.textContent=e,i.body.appendChild(n),this.paintText(new j(n.firstChild,t)),i.body.removeChild(n)}},i.prototype.paintText=function(t){t.applyTextTransform()
var e=F.ucs2.decode(t.node.data),i=this.options.letterRendering&&!y(t)||H(t.node.data)?e.map(function(t){return F.ucs2.encode([t])}):R(e),n=t.parent.fontWeight(),o=t.parent.css("fontSize"),r=t.parent.css("fontFamily"),s=t.parent.parseTextShadows()
this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),n,o,r),s.length?this.renderer.fontShadow(s[0].color,s[0].offsetX,s[0].offsetY,s[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,function(){i.map(this.parseTextBounds(t),this).forEach(function(e,n){e&&(this.renderer.text(i[n],e.left,e.bottom),this.renderTextDecoration(t.parent,e,this.fontMetrics.getMetrics(r,o)))},this)},this)},i.prototype.renderTextDecoration=function(t,e,i){switch(t.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(e.left,Math.round(e.top+i.baseline+i.lineWidth),e.width,1,t.color("color"))
break
case"overline":this.renderer.rectangle(e.left,Math.round(e.top),e.width,1,t.color("color"))
break
case"line-through":this.renderer.rectangle(e.left,Math.ceil(e.top+i.middle+i.lineWidth),e.width,1,t.color("color"))}}
var K={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]}
i.prototype.parseBorders=function(t){var e=t.parseBounds(),i=b(t),n=["Top","Right","Bottom","Left"].map(function(e,i){var n=t.css("border"+e+"Style"),o=t.color("border"+e+"Color")
"inset"===n&&o.isBlack()&&(o=new U([255,255,255,o.a]))
var r=K[n]?K[n][i]:null
return{width:t.cssInt("border"+e+"Width"),color:r?o[r[0]](r[1]):o,args:null}}),o=l(e,i,n)
return{clip:this.parseBackgroundClip(t,o,n,i,e),borders:s(n,e,o,i)}},i.prototype.parseBackgroundClip=function(t,e,i,n,o){var r=t.css("backgroundClip"),s=[]
switch(r){case"content-box":case"padding-box":h(s,n[0],n[1],e.topLeftInner,e.topRightInner,o.left+i[3].width,o.top+i[0].width),h(s,n[1],n[2],e.topRightInner,e.bottomRightInner,o.left+o.width-i[1].width,o.top+i[0].width),h(s,n[2],n[3],e.bottomRightInner,e.bottomLeftInner,o.left+o.width-i[1].width,o.top+o.height-i[2].width),h(s,n[3],n[0],e.bottomLeftInner,e.topLeftInner,o.left+i[3].width,o.top+o.height-i[2].width)
break
default:h(s,n[0],n[1],e.topLeftOuter,e.topRightOuter,o.left,o.top),h(s,n[1],n[2],e.topRightOuter,e.bottomRightOuter,o.left+o.width,o.top),h(s,n[2],n[3],e.bottomRightOuter,e.bottomLeftOuter,o.left+o.width,o.top+o.height),h(s,n[3],n[0],e.bottomLeftOuter,e.topLeftOuter,o.left,o.top+o.height)}return s},e.exports=i},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(t,e,i){function n(t,e,i){var n="withCredentials"in new XMLHttpRequest
if(!e)return Promise.reject("No proxy configured")
var o=s(n),l=a(e,t,o)
return n?d(l):r(i,l,o).then(function(t){return f(t.content)})}function o(t,e,i){var n="crossOrigin"in new Image,o=s(n),l=a(e,t,o)
return n?Promise.resolve(l):r(i,l,o).then(function(t){return"data:"+t.type+";base64,"+t.content})}function r(t,e,i){return new Promise(function(n,o){var r=t.createElement("script"),s=function(){delete window.html2canvas.proxy[i],t.body.removeChild(r)}
window.html2canvas.proxy[i]=function(t){s(),n(t)},r.src=e,r.onerror=function(t){s(),o(t)},t.body.appendChild(r)})}function s(t){return t?"":"html2canvas_"+Date.now()+"_"+ ++g+"_"+Math.round(1e5*Math.random())}function a(t,e,i){return t+"?url="+encodeURIComponent(e)+(i.length?"&callback=html2canvas.proxy."+i:"")}function l(t){return function(e){var i,n=new DOMParser
try{i=n.parseFromString(e,"text/html")}catch(o){p("DOMParser not supported, falling back to createHTMLDocument"),i=document.implementation.createHTMLDocument("")
try{i.open(),i.write(e),i.close()}catch(r){p("createHTMLDocument write not supported, falling back to document.body.innerHTML"),i.body.innerHTML=e}}var s=i.querySelector("base")
if(!s||!s.href.host){var a=i.createElement("base")
a.href=t,i.head.insertBefore(a,i.head.firstChild)}return i}}function c(t,e,i,o,r,s){return new n(t,e,window.document).then(l(t)).then(function(t){return u(t,i,o,r,s,0,0)})}var d=t("./xhr"),h=t("./utils"),p=t("./log"),u=t("./clone"),f=h.decode64,g=0
i.Proxy=n,i.ProxyURL=o,i.loadUrlDocument=c},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(t,e){function i(t,e){var i=document.createElement("a")
i.href=t,t=i.href,this.src=t,this.image=new Image
var o=this
this.promise=new Promise(function(i,r){o.image.crossOrigin="Anonymous",o.image.onload=i,o.image.onerror=r,new n(t,e,document).then(function(t){o.image.src=t})["catch"](r)})}var n=t("./proxy").ProxyURL
e.exports=i},{"./proxy":16}],18:[function(t,e){function i(t,e,i){n.call(this,t,e),this.isPseudoElement=!0,this.before=":before"===i}var n=t("./nodecontainer")
i.prototype.cloneTo=function(t){i.prototype.cloneTo.call(this,t),t.isPseudoElement=!0,t.before=this.before},i.prototype=Object.create(n.prototype),i.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},i.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},i.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",e.exports=i},{"./nodecontainer":14}],19:[function(t,e){function i(t,e,i,n,o){this.width=t,this.height=e,this.images=i,this.options=n,this.document=o}var n=t("./log")
i.prototype.renderImage=function(t,e,i,n){var o=t.cssInt("paddingLeft"),r=t.cssInt("paddingTop"),s=t.cssInt("paddingRight"),a=t.cssInt("paddingBottom"),l=i.borders,c=e.width-(l[1].width+l[3].width+o+s),d=e.height-(l[0].width+l[2].width+r+a)
this.drawImage(n,0,0,n.image.width||c,n.image.height||d,e.left+o+l[3].width,e.top+r+l[0].width,c,d)},i.prototype.renderBackground=function(t,e,i){e.height>0&&e.width>0&&(this.renderBackgroundColor(t,e),this.renderBackgroundImage(t,e,i))},i.prototype.renderBackgroundColor=function(t,e){var i=t.color("backgroundColor")
i.isTransparent()||this.rectangle(e.left,e.top,e.width,e.height,i)},i.prototype.renderBorders=function(t){t.forEach(this.renderBorder,this)},i.prototype.renderBorder=function(t){t.color.isTransparent()||null===t.args||this.drawShape(t.args,t.color)},i.prototype.renderBackgroundImage=function(t,e,i){var o=t.parseBackgroundImages()
o.reverse().forEach(function(o,r,s){switch(o.method){case"url":var a=this.images.get(o.args[0])
a?this.renderBackgroundRepeating(t,e,a,s.length-(r+1),i):n("Error loading background-image",o.args[0])
break
case"linear-gradient":case"gradient":var l=this.images.get(o.value)
l?this.renderBackgroundGradient(l,e,i):n("Error loading background-image",o.args[0])
break
case"none":break
default:n("Unknown background-image type",o.args[0])}},this)},i.prototype.renderBackgroundRepeating=function(t,e,i,n,o){var r=t.parseBackgroundSize(e,i.image,n),s=t.parseBackgroundPosition(e,i.image,n,r),a=t.parseBackgroundRepeat(n)
switch(a){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(i,s,r,e,e.left+o[3],e.top+s.top+o[0],99999,r.height,o)
break
case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(i,s,r,e,e.left+s.left+o[3],e.top+o[0],r.width,99999,o)
break
case"no-repeat":this.backgroundRepeatShape(i,s,r,e,e.left+s.left+o[3],e.top+s.top+o[0],r.width,r.height,o)
break
default:this.renderBackgroundRepeat(i,s,r,{top:e.top,left:e.left},o[3],o[0])}},e.exports=i},{"./log":13}],20:[function(t,e){function i(t,e){o.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=t,this.canvas.height=e),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},s("Initialized CanvasRenderer with size",t,"x",e)}function n(t){return t.length>0}var o=t("../renderer"),r=t("../lineargradientcontainer"),s=t("../log")
i.prototype=Object.create(o.prototype),i.prototype.setFillStyle=function(t){return this.ctx.fillStyle="object"==typeof t&&t.isColor?t.toString():t,this.ctx},i.prototype.rectangle=function(t,e,i,n,o){this.setFillStyle(o).fillRect(t,e,i,n)},i.prototype.circle=function(t,e,i,n){this.setFillStyle(n),this.ctx.beginPath(),this.ctx.arc(t+i/2,e+i/2,i/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},i.prototype.circleStroke=function(t,e,i,n,o,r){this.circle(t,e,i,n),this.ctx.strokeStyle=r.toString(),this.ctx.stroke()},i.prototype.drawShape=function(t,e){this.shape(t),this.setFillStyle(e).fill()},i.prototype.taints=function(t){if(null===t.tainted){this.taintCtx.drawImage(t.image,0,0)
try{this.taintCtx.getImageData(0,0,1,1),t.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),t.tainted=!0}}return t.tainted},i.prototype.drawImage=function(t,e,i,n,o,r,s,a,l){(!this.taints(t)||this.options.allowTaint)&&this.ctx.drawImage(t.image,e,i,n,o,r,s,a,l)},i.prototype.clip=function(t,e,i){this.ctx.save(),t.filter(n).forEach(function(t){this.shape(t).clip()},this),e.call(i),this.ctx.restore()},i.prototype.shape=function(t){return this.ctx.beginPath(),t.forEach(function(t,e){"rect"===t[0]?this.ctx.rect.apply(this.ctx,t.slice(1)):this.ctx[0===e?"moveTo":t[0]+"To"].apply(this.ctx,t.slice(1))},this),this.ctx.closePath(),this.ctx},i.prototype.font=function(t,e,i,n,o,r){this.setFillStyle(t).font=[e,i,n,o,r].join(" ").split(",")[0]},i.prototype.fontShadow=function(t,e,i,n){this.setVariable("shadowColor",t.toString()).setVariable("shadowOffsetY",e).setVariable("shadowOffsetX",i).setVariable("shadowBlur",n)},i.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},i.prototype.setOpacity=function(t){this.ctx.globalAlpha=t},i.prototype.setTransform=function(t){this.ctx.translate(t.origin[0],t.origin[1]),this.ctx.transform.apply(this.ctx,t.matrix),this.ctx.translate(-t.origin[0],-t.origin[1])},i.prototype.setVariable=function(t,e){return this.variables[t]!==e&&(this.variables[t]=this.ctx[t]=e),this},i.prototype.text=function(t,e,i){this.ctx.fillText(t,e,i)},i.prototype.backgroundRepeatShape=function(t,e,i,n,o,r,s,a,l){var c=[["line",Math.round(o),Math.round(r)],["line",Math.round(o+s),Math.round(r)],["line",Math.round(o+s),Math.round(a+r)],["line",Math.round(o),Math.round(a+r)]]
this.clip([c],function(){this.renderBackgroundRepeat(t,e,i,n,l[3],l[0])},this)},i.prototype.renderBackgroundRepeat=function(t,e,i,n,o,r){var s=Math.round(n.left+e.left+o),a=Math.round(n.top+e.top+r)
this.setFillStyle(this.ctx.createPattern(this.resizeImage(t,i),"repeat")),this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},i.prototype.renderBackgroundGradient=function(t,e){if(t instanceof r){var i=this.ctx.createLinearGradient(e.left+e.width*t.x0,e.top+e.height*t.y0,e.left+e.width*t.x1,e.top+e.height*t.y1)
t.colorStops.forEach(function(t){i.addColorStop(t.stop,t.color.toString())}),this.rectangle(e.left,e.top,e.width,e.height,i)}},i.prototype.resizeImage=function(t,e){var i=t.image
if(i.width===e.width&&i.height===e.height)return i
var n,o=document.createElement("canvas")
return o.width=e.width,o.height=e.height,n=o.getContext("2d"),n.drawImage(i,0,0,i.width,i.height,0,0,e.width,e.height),o},e.exports=i},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(t,e){function i(t,e,i,o){n.call(this,i,o),this.ownStacking=t,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*e}var n=t("./nodecontainer")
i.prototype=Object.create(n.prototype),i.prototype.getParentStack=function(t){var e=this.parent?this.parent.stack:null
return e?e.ownStacking?e:e.getParentStack(t):t.stack},e.exports=i},{"./nodecontainer":14}],22:[function(t,e){function i(t){this.rangeBounds=this.testRangeBounds(t),this.cors=this.testCORS(),this.svg=this.testSVG()}i.prototype.testRangeBounds=function(t){var e,i,n,o,r=!1
return t.createRange&&(e=t.createRange(),e.getBoundingClientRect&&(i=t.createElement("boundtest"),i.style.height="123px",i.style.display="block",t.body.appendChild(i),e.selectNode(i),n=e.getBoundingClientRect(),o=n.height,123===o&&(r=!0),t.body.removeChild(i))),r},i.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},i.prototype.testSVG=function(){var t=new Image,e=document.createElement("canvas"),i=e.getContext("2d")
t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>"
try{i.drawImage(t,0,0),e.toDataURL()}catch(n){return!1}return!0},e.exports=i},{}],23:[function(t,e){function i(t){this.src=t,this.image=null
var e=this
this.promise=this.hasFabric().then(function(){return e.isInline(t)?Promise.resolve(e.inlineFormatting(t)):n(t)}).then(function(t){return new Promise(function(i){window.html2canvas.svg.fabric.loadSVGFromString(t,e.createCanvas.call(e,i))})})}var n=t("./xhr"),o=t("./utils").decode64
i.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},i.prototype.inlineFormatting=function(t){return/^data:image\/svg\+xml;base64,/.test(t)?this.decode64(this.removeContentType(t)):this.removeContentType(t)},i.prototype.removeContentType=function(t){return t.replace(/^data:image\/svg\+xml(;base64)?,/,"")},i.prototype.isInline=function(t){return/^data:image\/svg\+xml/i.test(t)},i.prototype.createCanvas=function(t){var e=this
return function(i,n){var o=new window.html2canvas.svg.fabric.StaticCanvas("c")
e.image=o.lowerCanvasEl,o.setWidth(n.width).setHeight(n.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(i,n)).renderAll(),t(o.lowerCanvasEl)}},i.prototype.decode64=function(t){return"function"==typeof window.atob?window.atob(t):o(t)},e.exports=i},{"./utils":26,"./xhr":28}],24:[function(t,e){function i(t,e){this.src=t,this.image=null
var i=this
this.promise=e?new Promise(function(e,n){i.image=new Image,i.image.onload=e,i.image.onerror=n,i.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(t),i.image.complete===!0&&e(i.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(t,i.createCanvas.call(i,e))})})}var n=t("./svgcontainer")
i.prototype=Object.create(n.prototype),e.exports=i},{"./svgcontainer":23}],25:[function(t,e){function i(t,e){o.call(this,t,e)}function n(t,e,i){return t.length>0?e+i.toUpperCase():void 0}var o=t("./nodecontainer")
i.prototype=Object.create(o.prototype),i.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},i.prototype.transform=function(t){var e=this.node.data
switch(t){case"lowercase":return e.toLowerCase()
case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,n)
case"uppercase":return e.toUpperCase()
default:return e}},e.exports=i},{"./nodecontainer":14}],26:[function(t,e,i){i.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},i.bind=function(t,e){return function(){return t.apply(e,arguments)}},i.decode64=function(t){var e,i,n,o,r,s,a,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=t.length,h=""
for(e=0;d>e;e+=4)i=c.indexOf(t[e]),n=c.indexOf(t[e+1]),o=c.indexOf(t[e+2]),r=c.indexOf(t[e+3]),s=i<<2|n>>4,a=(15&n)<<4|o>>2,l=(3&o)<<6|r,h+=64===o?String.fromCharCode(s):64===r||-1===r?String.fromCharCode(s,a):String.fromCharCode(s,a,l)
return h},i.getBounds=function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=null==t.offsetWidth?e.width:t.offsetWidth
return{top:e.top,bottom:e.bottom||e.top+e.height,right:e.left+i,left:e.left,width:i,height:null==t.offsetHeight?e.height:t.offsetHeight}}return{}},i.offsetBounds=function(t){var e=t.offsetParent?i.offsetBounds(t.offsetParent):{top:0,left:0}
return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,right:t.offsetLeft+e.left+t.offsetWidth,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},i.parseBackgrounds=function(t){var e,i,n,o,r,s,a,l=" \r\n	",c=[],d=0,h=0,p=function(){e&&('"'===i.substr(0,1)&&(i=i.substr(1,i.length-2)),i&&a.push(i),"-"===e.substr(0,1)&&(o=e.indexOf("-",1)+1)>0&&(n=e.substr(0,o),e=e.substr(o)),c.push({prefix:n,method:e.toLowerCase(),value:r,args:a,image:null})),a=[],e=n=i=r=""}
return a=[],e=n=i=r="",t.split("").forEach(function(t){if(!(0===d&&l.indexOf(t)>-1)){switch(t){case'"':s?s===t&&(s=null):s=t
break
case"(":if(s)break
if(0===d)return d=1,void(r+=t)
h++
break
case")":if(s)break
if(1===d){if(0===h)return d=0,r+=t,void p()
h--}break
case",":if(s)break
if(0===d)return void p()
if(1===d&&0===h&&!e.match(/^url$/i))return a.push(i),i="",void(r+=t)}r+=t,0===d?e+=t:i+=t}}),p(),c}},{}],27:[function(t,e){function i(t){n.apply(this,arguments),this.type="linear"===t.args[0]?n.TYPES.LINEAR:n.TYPES.RADIAL}var n=t("./gradientcontainer")
i.prototype=Object.create(n.prototype),e.exports=i},{"./gradientcontainer":9}],28:[function(t,e){function i(t){return new Promise(function(e,i){var n=new XMLHttpRequest
n.open("GET",t),n.onload=function(){200===n.status?e(n.responseText):i(new Error(n.statusText))},n.onerror=function(){i(new Error("Network Error"))},n.send()})}e.exports=i},{}]},{},[4])(4)})
var saveAs=saveAs||function(t){"use strict"
if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in n,r=function(t){var e=new MouseEvent("click")
t.dispatchEvent(e)},s=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),a=t.webkitRequestFileSystem,l=t.requestFileSystem||a||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},d="application/octet-stream",h=0,p=4e4,u=function(t){var e=function(){"string"==typeof t?i().revokeObjectURL(t):t.remove()}
setTimeout(e,p)},f=function(t,e,i){e=[].concat(e)
for(var n=e.length;n--;){var o=t["on"+e[n]]
if("function"==typeof o)try{o.call(t,i||t)}catch(r){c(r)}}},g=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},m=function(e,c,p){p||(e=g(e))
var m,v,y,b=this,_=e.type,w=!1,x=function(){f(b,"writestart progress write writeend".split(" "))},$=function(){if(v&&s&&"undefined"!=typeof FileReader){var n=new FileReader
return n.onloadend=function(){var t=n.result
v.location.href="data:attachment/file"+t.slice(t.search(/[,;]/)),b.readyState=b.DONE,x()},n.readAsDataURL(e),void(b.readyState=b.INIT)}if((w||!m)&&(m=i().createObjectURL(e)),v)v.location.href=m
else{var o=t.open(m,"_blank")
void 0===o&&s&&(t.location.href=m)}b.readyState=b.DONE,x(),u(m)},k=function(t){return function(){return b.readyState!==b.DONE?t.apply(this,arguments):void 0}},S={create:!0,exclusive:!1}
return b.readyState=b.INIT,c||(c="download"),o?(m=i().createObjectURL(e),void setTimeout(function(){n.href=m,n.download=c,r(n),x(),u(m),b.readyState=b.DONE})):(t.chrome&&_&&_!==d&&(y=e.slice||e.webkitSlice,e=y.call(e,0,e.size,d),w=!0),a&&"download"!==c&&(c+=".download"),(_===d||a)&&(v=t),l?(h+=e.size,void l(t.TEMPORARY,h,k(function(t){t.root.getDirectory("saved",S,k(function(t){var i=function(){t.getFile(c,S,k(function(t){t.createWriter(k(function(i){i.onwriteend=function(e){v.location.href=t.toURL(),b.readyState=b.DONE,f(b,"writeend",e),u(t)},i.onerror=function(){var t=i.error
t.code!==t.ABORT_ERR&&$()},"writestart progress write abort".split(" ").forEach(function(t){i["on"+t]=b["on"+t]}),i.write(e),b.abort=function(){i.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),$)}),$)}
t.getFile(c,{create:!1},k(function(t){t.remove(),i()}),k(function(t){t.code===t.NOT_FOUND_ERR?i():$()}))}),$)}),$)):void $())},v=m.prototype,y=function(t,e,i){return new m(t,e,i)}
return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return i||(t=g(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(v.abort=function(){var t=this
t.readyState=t.DONE,f(t,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,y)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content)
"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return saveAs}),!function(t){"use strict"
function e(t,e){function i(t){return e.bgcolor&&(t.style.backgroundColor=e.bgcolor),e.width&&(t.style.width=e.width+"px"),e.height&&(t.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach(function(i){t.style[i]=e.style[i]}),t}return e=e||{},Promise.resolve(t).then(function(t){return a(t,e.filter,!0)}).then(l).then(c).then(i).then(function(i){return d(i,e.width||t.scrollWidth,e.height||t.scrollHeight)})}function i(t,e){return s(t,e||{}).then(function(e){return e.getContext("2d").getImageData(0,0,t.scrollWidth,t.scrollHeight).data})}function n(t,e){return s(t,e||{}).then(function(t){return t.toDataURL()})}function o(t,e){return e=e||{},s(t,e).then(function(t){return t.toDataURL("image/jpeg",e.quality||1)})}function r(t,e){return s(t,e||{}).then(g.canvasToBlob)}function s(t,i){function n(t){var e=document.createElement("canvas")
return e.width=i.width||t.scrollWidth,e.height=i.height||t.scrollHeight,e}return e(t,i).then(g.makeImage).then(g.delay(100)).then(function(e){var i=n(t)
return i.getContext("2d").drawImage(e,0,0),i})}function a(t,e,i){function n(t){return t instanceof HTMLCanvasElement?g.makeImage(t.toDataURL()):t.cloneNode(!1)}function o(t,e,i){function n(t,e,i){var n=Promise.resolve()
return e.forEach(function(e){n=n.then(function(){return a(e,i)}).then(function(e){e&&t.appendChild(e)})}),n}var o=t.childNodes
return 0===o.length?Promise.resolve(e):n(e,g.asArray(o),i).then(function(){return e})}function r(t,e){function i(){function i(t,e){function i(t,e){g.asArray(t).forEach(function(i){e.setProperty(i,t.getPropertyValue(i),t.getPropertyPriority(i))})}t.cssText?e.cssText=t.cssText:i(t,e)}i(window.getComputedStyle(t),e.style)}function n(){function i(i){function n(t,e,i){function n(t){var e=t.getPropertyValue("content")
return t.cssText+" content: "+e+";"}function o(t){function e(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}return g.asArray(t).map(e).join("; ")+";"}var r="."+t+":"+e,s=i.cssText?n(i):o(i)
return document.createTextNode(r+"{"+s+"}")}var o=window.getComputedStyle(t,i),r=o.getPropertyValue("content")
if(""!==r&&"none"!==r){var s=g.uid()
e.className=e.className+" "+s
var a=document.createElement("style")
a.appendChild(n(s,i,o)),e.appendChild(a)}}[":before",":after"].forEach(function(t){i(t)})}function o(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function r(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach(function(t){var i=e.getAttribute(t)
i&&e.style.setProperty(t,i)}))}return e instanceof Element?Promise.resolve().then(i).then(n).then(o).then(r).then(function(){return e}):e}return i||!e||e(t)?Promise.resolve(t).then(n).then(function(i){return o(t,i,e)}).then(function(e){return r(t,e)}):Promise.resolve()}function l(t){return v.resolveAll().then(function(e){var i=document.createElement("style")
return t.appendChild(i),i.appendChild(document.createTextNode(e)),t})}function c(t){return y.inlineAll(t).then(function(){return t})}function d(t,e,i){return Promise.resolve(t).then(function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)}).then(g.escapeXhtml).then(function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"}).then(function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+i+'">'+t+"</svg>"}).then(function(t){return"data:image/svg+xml;charset=utf-8,"+t})}function h(){function t(){var t="application/font-woff",e="image/jpeg"
return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function e(t){var e=/\.([^\.\/]*?)$/g.exec(t)
return e?e[1]:""}function i(i){var n=e(i).toLowerCase()
return t()[n]||""}function n(t){return-1!==t.search(/^(data:)/)}function o(t){return new Promise(function(e){for(var i=window.atob(t.toDataURL().split(",")[1]),n=i.length,o=new Uint8Array(n),r=0;n>r;r++)o[r]=i.charCodeAt(r)
e(new Blob([o],{type:"image/png"}))})}function r(t){return t.toBlob?new Promise(function(e){t.toBlob(e)}):o(t)}function s(t,e){var i=document.implementation.createHTMLDocument(),n=i.createElement("base")
i.head.appendChild(n)
var o=i.createElement("a")
return i.body.appendChild(o),n.href=e,o.href=t,o.href}function a(){var t=0
return function(){function e(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}return"u"+e()+t++}}function l(t){return new Promise(function(e,i){var n=new Image
n.onload=function(){e(n)},n.onerror=i,n.src=t})}function c(t){var e=3e4
return new Promise(function(i){function n(){if(4===s.readyState){if(200!==s.status)return void r("cannot fetch resource: "+t+", status: "+s.status)
var e=new FileReader
e.onloadend=function(){var t=e.result.split(/,/)[1]
i(t)},e.readAsDataURL(s.response)}}function o(){r("timeout of "+e+"ms occured while fetching resource: "+t)}function r(t){console.error(t),i("")}var s=new XMLHttpRequest
s.onreadystatechange=n,s.ontimeout=o,s.responseType="blob",s.timeout=e,s.open("GET",t,!0),s.send()})}function d(t,e){return"data:"+e+";base64,"+t}function h(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function p(t){return function(e){return new Promise(function(i){setTimeout(function(){i(e)},t)})}}function u(t){for(var e=[],i=t.length,n=0;i>n;n++)e.push(t[n])
return e}function f(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")}return{escape:h,parseExtension:e,mimeType:i,dataAsUrl:d,isDataUrl:n,canvasToBlob:r,resolveUrl:s,getAndEncode:c,uid:a(),delay:p,asArray:u,escapeXhtml:f,makeImage:l}}function p(){function t(t){return-1!==t.search(o)}function e(t){for(var e,i=[];null!==(e=o.exec(t));)i.push(e[1])
return i.filter(function(t){return!g.isDataUrl(t)})}function i(t,e,i,n){function o(t){return new RegExp("(url\\(['\"]?)("+g.escape(t)+")(['\"]?\\))","g")}return Promise.resolve(e).then(function(t){return i?g.resolveUrl(t,i):t}).then(n||g.getAndEncode).then(function(t){return g.dataAsUrl(t,g.mimeType(e))}).then(function(i){return t.replace(o(e),"$1"+i+"$3")})}function n(n,o,r){function s(){return!t(n)}return s()?Promise.resolve(n):Promise.resolve(n).then(e).then(function(t){var e=Promise.resolve(n)
return t.forEach(function(t){e=e.then(function(e){return i(e,t,o,r)})}),e})}var o=/url\(['"]?([^'"]+?)['"]?\)/g
return{inlineAll:n,shouldProcess:t,impl:{readUrls:e,inline:i}}}function u(){function t(){return e(document).then(function(t){return Promise.all(t.map(function(t){return t.resolve()}))}).then(function(t){return t.join("\n")})}function e(){function t(t){return t.filter(function(t){return t.type===CSSRule.FONT_FACE_RULE}).filter(function(t){return m.shouldProcess(t.style.getPropertyValue("src"))})}function e(t){var e=[]
return t.forEach(function(t){try{g.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(i){console.log("Error while reading CSS rules from "+t.href,i.toString())}}),e}function i(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href
return m.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}return Promise.resolve(g.asArray(document.styleSheets)).then(e).then(t).then(function(t){return t.map(i)})}return{resolveAll:t,impl:{readAll:e}}}function f(){function t(t){function e(e){return g.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||g.getAndEncode).then(function(e){return g.dataAsUrl(e,g.mimeType(t.src))}).then(function(e){return new Promise(function(i,n){t.onload=i,t.onerror=n,t.src=e})})}return{inline:e}}function e(i){function n(t){var e=t.style.getPropertyValue("background")
return e?m.inlineAll(e).then(function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))}).then(function(){return t}):Promise.resolve(t)}return i instanceof Element?n(i).then(function(){return i instanceof HTMLImageElement?t(i).inline():Promise.all(g.asArray(i.childNodes).map(function(t){return e(t)}))}):Promise.resolve(i)}return{inlineAll:e,impl:{newImage:t}}}var g=h(),m=p(),v=u(),y=f(),b={toSvg:e,toPng:n,toJpeg:o,toBlob:r,toPixelData:i,impl:{fontFaces:v,images:y,util:g,inliner:m}}
"undefined"!=typeof module?module.exports=b:t.domtoimage=b}(this),("thread"==active_page||"index"==active_page)&&$(document).on("menu_ready",function(){function t(){$("#final").find("img").each(function(){var t=Math.floor(1e4*Math.random()+1),e=$(this).attr("src")
e.indexOf("/static/")>=0&&(e="http://8ch.net"+e),(e.indexOf("media.8ch.net")>=0||e.indexOf("media2.8ch.net")>=0||e.indexOf("img.youtube.com")>=0||e.indexOf("8ch.net")>=0)&&(console.log("srv"),$(this).attr("id",t),e.indexOf("img.youtube.com")>=0&&(e=e.replace("//","http://")),$.ajax({url:encodeURI(r+e+"&id="+t),success:function(t){$("#"+t.id).attr("src",t.src)}}))})}function e(){var t=[],e=0
$("#final").find("div.post_capture").each(function(){id=$(this).attr("id"),post_width=$("#"+id).width(),t.push(post_width)}),t.length>0&&(e=Math.max.apply(Math,t)),$("#final").css({display:"none",width:e+"px"})}function i(){$("#final").find("br").remove(),$("#final div.post_capture").sort(function(t,e){return parseInt(t.id.replace(/^\D+/g,""))>parseInt(e.id.replace(/^\D+/g,""))}).each(function(){$($(this)).appendTo("#final"),$($(this)).after("<br>")})}var n=window.Menu,o=0,r="/proxy.php?url=",s=navigator.userAgent.match(/iPhone|iPod|Android|Opera Mini|Blackberry|PlayBook|Windows Phone|Tablet PC|Windows CE|IEMobile/i)
$("div#thread-interactions").length&&!s&&(n.add_item("screen_capture_menu",_("Select post")),n.onclick(function(n,r){{var s=n.target.parentElement.parentElement,a=$(s)
a.parent().attr("id").replace("thread_",""),a.find(".post_no").not("[id]").text()}r.find("#screen_capture_menu").text(a.hasClass("screen-menu-clicked")?_("Select post")+" ?~~S":_("Select post")),r.find("#screen_capture_menu").click(function(){var n=a.clone().wrap("<p/>").parent().html()
r.find("#screen_capture_menu").text(""),a.hasClass("screen-menu-clicked")?(a.removeClass("screen-menu-clicked"),($("#final").find("#"+a.attr("id")).prev().hasClass("files")||$("#final").find("#"+a.attr("id")).prev().hasClass("video-container"))&&$("#final").find("#"+a.attr("id")).prev().remove(),$("#final").find("#"+a.attr("id")).next().remove(),$("#final").find("#"+a.attr("id")).remove(),a.find(".intro").find("#glyphicon-capture").remove()):(a.removeClass("screen-menu-clicked"),a.addClass("screen-menu-clicked"),a.width()>o&&(o=a.width()),a.find(".intro").append('<span id="glyphicon-capture" class="fa fa-camera"></span>'),a.prev().hasClass("files")?n='<div class="files">'+a.prev().html()+"</div>"+n:a.prev().hasClass("video-container")&&(n='<div class="video-container">'+a.prev().html()+"</div>"+n),$("#final").append(n),$("#final").find(".own_post").remove(),t(),$("#final").find("#"+a.attr("id")).toggleClass("post post_capture")),e(),i()})}))}),$("document").ready(function(){function t(){return $("#final").find("img").each(function(){{var t=Math.floor(1e4*Math.random()+1),e=$(this).attr("src")
$(this).css("width"),$(this).css("height")}e.indexOf("/static/")>=0&&(e="https://8ch.net"+e),(e.indexOf("media.8ch.net")>=0||e.indexOf("media2.8ch.net")>=0||e.indexOf("img.youtube.com")>=0||e.indexOf("8ch.net")>=0)&&(c++,$(this).attr("id",t),e.indexOf("img.youtube.com")>=0&&(e=e.replace("//","http://")),$.ajax({url:encodeURI(o+e+"&id="+t),success:function(t){$("#"+t.id).attr("src",t.src)}}))}),c>0&&(l*=c),l}function e(t){var e=[],i=0
return divClassname="all"==t?"post":"post_capture",$("#final").find("div."+divClassname).each(function(){id=$(this).attr("id"),post_width=$("#"+id).width(),e.push(post_width)}),e.length>0&&(i=Math.max.apply(Math,e)),i}function i(t,i){console.log("generatingCanvasDownload")
var n=e(i)+22
html2canvas($("#final"),{useCORS:!0,width:n,onrendered:function(e){if(console.log(e),t){console.log("generatingCanvasDownload - scapSafari")
var i=e.toDataURL()
$("#scap-safari-src").attr("src",i),$("#scap-modal").css("display","block"),$("#tmp_capture").remove(),$("#final").html(""),$("#final").css({display:"none"})}else{console.log("generatingCanvasDownload - not scapSafari")
var n=document.createElement("a")
document.body.appendChild(n),n.setAttribute("type","hidden"),n.setAttribute("id","tmpClick"),n.download=Date.now()+".png",n.href=e.toDataURL(),n.click(),$("#tmpClick").remove(),$("#final").html(""),$("#final").css({display:"none"})}}}),$(".thread").find(".post").removeClass("screen-menu-clicked"),$(".thread").find(".intro").find("#glyphicon-capture").remove(),$("#grab").text("["+_("Screencap")+"]"),l=1e3,c=0}var n=!1,o="/proxy.php?url=",r=configRoot+"static/8ch_logo.svg.png",s=navigator.userAgent.match(/iPhone|iPod|Android|Opera Mini|Blackberry|PlayBook|Windows Phone|Tablet PC|Windows CE|IEMobile/i),a=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),l=1e3,c=0
$("div#thread-interactions").length&&!s&&($("body").append('<div style="position:relative;overflow:hidden;display:none;background-color:'+$("body").css("background-color")+'" id="final"></div>'),a&&$("body").append('<div id="scap-modal"><div id="scap-modal-content"><span id="scap-close">x</span><center>Safari users: Please right click and click "Save image as..."<br><img id="scap-safari-src" src="null"></center></div></div>'),$("#scap-modal").css({display:"none",position:"fixed","z-index":"1",left:"0",top:"0",width:"100%",height:"100%",overflow:"auto","background-color":"rgb(0,0,0)","background-color":"rgba(0,0,0,0.4)"}),$("#scap-modal-content").css({"background-color":"#fefefe",margin:"5% auto",padding:"20px",border:"1px solid #888",width:"80%"}),$("#scap-safari-src").css({"max-width":"100%",height:"auto"}),$("#scap-close").css({color:"#aaa","float":"right","font-size":"28px","font-weight":"bold"}),$("#scap-close").hover(function(){$(this).css({color:"black","text-decoration":"none",cursor:"pointer"})}),$("#scap-close").focus(function(){$(this).css({color:"black","text-decoration":"none",cursor:"pointer"})}),$("#scap-close").click(function(){$("#scap-modal").css("display","none"),$("#scap-safari-src").attr("src","null")}),$('<a id="grab" href="javascript:void(0)" xmlns="http://www.w3.org/1999/xhtml">['+_("Screencap")+"]</a>").insertAfter("#thread-catalog")),$("#grab").click(function(){if(console.log("grab image"),"[Capturing...]"!=$("#grab").text()&&"[Capturing all...]"!=$("#grab").text()){if($("#final").width()>0)console.log("grab image - if"),$("#grab").text("[Capturing...]"),typePost="perpost"
else{console.log("grab image - else"),$("#grab").text("[Capturing all...]")
var o=$(".thread").html()
$("#final").html(""),$("#final").append(o),n=!0,l=t(),$("#final").find(".own_post").remove(),typePost="all"}var s=window.location.href.split("//")
s=s[1].split("/")[0]+"/"+s[1].split("/")[1]
var c=e(typePost)+15,d='<div style="clear: both;"></div><div style="width:'+c+"px;float:left;margin-right:15px;margin-bottom:4px;font-size:18px;color:"+$("body").css("color")+";background-color:"+$("body").css("backgroundColor")+';"><div style="float:right"><center><img src="'+r+'" style="width:73px;height:48px;"><br>'+s+"</center></div></div>"
$("#final").append(d),$("#final").css({display:"block"}),a&&(console.log("grab image safari"),$("body").append("<div id='tmp_capture'>"+$("#final").html()+"</div>")),console.log("grab image finished"),setTimeout(function(){i(a,typePost)},l)}})}),$(document).ready(function(){localStorage.show_recommendedboards||(localStorage.show_recommendedboards="true"),$("#show_top_boards").parent().after('<div><label id="show_recommended_boards"><input type="checkbox">'+_("  Show trending boards")+"</label></div>"),"true"===localStorage.show_recommendedboards?($("#show_recommended_boards>input").prop("checked",!0),$('.sub[data-description="1"]').show()):($("#show_recommended_boards>input").prop("checked",!1),$('.sub[data-description="1"]').hide()),$("#show_recommended_boards>input").on("click",function(){$("#show_recommended_boards>input").is(":checked")?(localStorage.show_recommendedboards="true",$('.sub[data-description="1"]').show()):(localStorage.show_recommendedboards="false",$('.sub[data-description="1"]').hide())})}),$("document").ready(function(){createThreadShowing=!1,$(".show-create-thread-catalog").on("click",function(){return createThreadShowing?($(".show-create-thread-catalog").html("["+_("Create a thread")+"]"),$("#create-thread-catalog").css("display","none"),createThreadShowing=!1):($(".show-create-thread-catalog").html("["+_("Create a thread")+"]"),$("#create-thread-catalog").css("display","table"),createThreadShowing=!0),!1})}),$(document).ready(function(){localStorage.pepe_coloredquotes||(localStorage.pepe_coloredquotes="false"),$("#youtube-size").parent().before('<div><label id="pepe_colored_quotes"><input type="checkbox">'+_("  Pepe colored quotes")+"</label></div>"),"true"===localStorage.pepe_coloredquotes?($("#pepe_colored_quotes>input").prop("checked",!0),$("body").find(".quote").toggleClass("quote quote_checked")):($("#pepe_colored_quotes>input").prop("checked",!1),$("body").find(".quote_checked").toggleClass("quote_checked quote")),$("#pepe_colored_quotes>input").on("click",function(){$("#pepe_colored_quotes>input").is(":checked")?(localStorage.pepe_coloredquotes="true",$("body").find(".quote").toggleClass("quote quote_checked")):(localStorage.pepe_coloredquotes="false",$("body").find(".quote_checked").toggleClass("quote_checked quote"))})}),$(function(){$("a[download]").each(function(){var t=$(this).attr("href")
$(this).attr("href",t.replace("media.","").replace("media2.",""))}),$("a[download]").each(function(){{var t=$(this).attr("href")
$(this).text()}$(this).attr("href",t.replace("//8ch.net","//media.8ch.net"))}),$("a[download]").each(function(){var t=$(this).attr("href")
t=t.replace("/file_store/","/file_dl/"),t=t.replace("/src/","/file_dl/"),t=t.replace(/\s/g,"_"),$(this).attr("href",t)})}),$("document").ready(function(){$(document).on("click","#captcha_pop_submit",function(){var t=$("#captcha_main_box").find(".captcha_text").val(),e=$("#captcha_main_box").find(".captcha_cookie").val(),i=""
i="https:"==window.document.location.protocol?"https://8ch.net/dnsbls_bypass_popup.php":"http://8ch.net/dnsbls_bypass_popup.php",$.ajax({type:"POST",url:i,context:document.body,data:{captcha_text:t,captcha_cookie:e},success:function(t){var e=JSON.parse(t)
1==e.status?($("#captcha_main_box").html(e.message),$("#alert_close").click()):($("#captcha_message_box").html(e.message),$("#captcha_objects").html(e.new_captcha))}})}),$(document).on("keyup",".captcha_text",function(t){13===t.which&&$("#captcha_pop_submit").trigger("click")})}),$(document).ready(function(){function t(t,e){"page"==active_page&&$.ajax({url:"https://8ch.net/templates/"+e+".html",context:document.body,success:function(e){var i=$(e).find("ul").html()
$("div#"+t+"_main").find("section").find("ul").html(i)}})}function e(t){localStorage["hide_"+t]||(localStorage["hide_"+t]="false"),$("#"+t+"_main").find("section > .box-title").first().find("p").prepend('<a style="text-decoration: none" id="hide_'+t+'_link" href="javascript:void(0)"></a> '),"true"===localStorage["hide_"+t]?($("#hide_"+t+"_link").text("[+]"),$("#"+t+"_main").find("section").find("ul").hide(),$("#"+t+"_main").find("section > .box-title").slice(-3).hide(),$("#"+t+"_main").find("section").css("background","#98E"),$("#"+t+"_main").find(".box-title").toggleClass("col-6 col-12")):($("#hide_"+t+"_link").text("[-]"),$("#"+t+"_main").find("section").find("ul").show(),$("#"+t+"_main").find("section > .box-title").slice(-3).show(),$("#"+t+"_main").find("section").css("background","#D6DAF0")),$("#hide_"+t+"_link").on("click",function(){"[-]"==$("#hide_"+t+"_link").text()?(localStorage["hide_"+t]="true",$("#hide_"+t+"_link").text("[+]"),$("#"+t+"_main").find("section").find("ul").hide(),$("#"+t+"_main").find("section > .box-title").slice(-3).hide(),$("#"+t+"_main").find("section").css("background","#98E"),$("#"+t+"_main").find(".box-title").toggleClass("col-6 col-12")):(localStorage["hide_"+t]="false",$("#hide_"+t+"_link").text("[-]"),$("#"+t+"_main").find("section").find("ul").show(),$("#"+t+"_main").find("section > .box-title").slice(-3).show(),$("#"+t+"_main").find("section").css("background","#D6DAF0"),$("#"+t+"_main").find(".box-title").toggleClass("col-12 col-6"))})}var i,n=6e4,o=function(){t("velocious","velocious"),t("tempestuous","newest")},r=function(){clearInterval(i),i=setInterval(o,n)},s=function(){clearInterval(i)}
localStorage.auto_update_velocious_tempestous||(localStorage.auto_update_velocious_tempestous="true"),$("#auto-update-fs").append('<label id="auto_update_velocious_tempestuous"><input type="checkbox">'+_("  Auto update tempestous and velocious threads")+"</label>"),"true"===localStorage.auto_update_velocious_tempestous?($("#auto_update_velocious_tempestuous>input").prop("checked",!0),o(),r()):($("#auto_update_velocious_tempestuous>input").prop("checked",!1),s()),$("#auto_update_velocious_tempestuous>input").on("click",function(){$("#auto_update_velocious_tempestuous>input").is(":checked")?(localStorage.auto_update_velocious_tempestous="true",r()):(localStorage.auto_update_velocious_tempestous="false",s())}),e("velocious"),e("recent"),e("tempestuous")}),$(document).ready(function(){"page"==active_page&&($(".vello-time").each(function(){var t=$(this).text()
$(this).text(timeSince(t))}),window.setInterval(function(){$.ajax({url:"/templates/nrecent.html",success:function(t){var e=$(t).find("ul").html()
$("div#recent_main").find("section").find("ul").html(e),$(".vello-time").each(function(){var t=$(this).text()
$(this).text(timeSince(t))})}})},15e3))}),$("document").ready(function(){$("#preview-announcement").on("click",function(){var t=$("input[name=blotter]").val()
localStorage.preview_blotter=t}),$(".blotterpreview").html(localStorage.preview_blotter)}),$(document).ready(function(){localStorage.auto_clear_post_fields||(localStorage.auto_clear_post_fields="false"),$("#auto-update-fs").append('<label id="auto_clear_post_fields"><input type="checkbox">'+_("  Auto clear fields")+"</label>"),"true"===localStorage.auto_clear_post_fields?$("#auto_clear_post_fields>input").prop("checked",!0):$("#auto_clear_post_fields>input").prop("checked",!1),$("#auto_clear_post_fields>input").on("click",function(){localStorage.auto_clear_post_fields=$("#auto_clear_post_fields>input").is(":checked")?"true":"false"})}),("thread"==active_page||"index"==active_page)&&$(document).ready(function(){function t(t,e,i,n){$.ajax({url:n+i,data:"",type:"GET",crossDomain:!0,dataType:"json",success:function(t){$("#"+e).attr("src",t.thumbnail_url),$("#"+e).css({width:"200px"})},error:function(){console.log("cant load "+t+" api")}})}$(".vimeo_thumb").each(function(){var e="https://vimeo.com/api/oembed.json?url=https://vimeo.com/",i=$(this).attr("id"),n=$(this).data("params")
null!=i&&t("vimeo",i,n,e)}),$(".dailymotion_thumb").each(function(){var e="/proxy_embed.php?url=",i=$(this).attr("id"),n=$(this).data("params")
null!=i&&t("dailymotion",i,n,e)}),$(".streamable_thumb").each(function(){var e="https://api.streamable.com/oembed.json?url=",i=$(this).attr("id"),n=$(this).data("params")
null!=i&&t("streamable",i,n,e)})}),$(document).ready(function(){localStorage.stub_hide_post||(localStorage.stub_hide_post="false"),$("#youtube-size").parent().before('<div><label id="stub_hide_post_label"><input type="checkbox">'+_("  Unhide stub when hiding post")+"</label></div>"),"true"===localStorage.stub_hide_post?$("#stub_hide_post_label>input").prop("checked",!0):$("#stub_hide_post_label>input").prop("checked",!1),$("#stub_hide_post_label>input").on("click",function(){console.log("test"),localStorage.stub_hide_post=$("#stub_hide_post_label>input").is(":checked")?"true":"false"})}),window.rgbHex=function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t){return t.replace(/^\s+|\s+$/g,"")}function i(i){return i=e(i),t(i)&&i>=0&&255>=i}function n(t){return/^[0-9a-f]{3}$|^[0-9a-f]{6}$/i.test(e(t))}function o(t){return t=parseInt(t,10).toString(16),1===t.length?"0"+t:t}function r(t){return parseInt(t,16).toString()}function s(e){return e=e.split(","),(3===e.length||4===e.length)&&i(e[0])&&i(e[1])&&i(e[2])&&(4!==e.length||t(e[3]))?"#"+o(e[0]).toUpperCase()+o(e[1]).toUpperCase()+o(e[2]).toUpperCase():null}function a(t){return n(t)?(3===t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),"rgb("+r(t.substr(0,2))+","+r(t.substr(2,2))+","+r(t.substr(4,2))+")"):void 0}function l(t){return t.replace(/\s/g,"")}return function(t){if(!t)return null
var i=null,n=/^rgba?\((.*)\);?$/,o=/^#/
return t=e(t.toString()),"transparent"===t||"rgba(0,0,0,0)"===l(t)?"transparent":n.test(t)?s(t.match(n)[1]):o.test(t)?a(t.split("#").reverse()[0]):(i=t.split(","),1===i.length?a(t):3===i.length||4===i.length?s(t):void 0)}}(),jQuery&&jQuery.extend({rgbHex:function(t){return window.rgbHex(t)}}),function(t){function e(t,e){for(var i=t.length;i--;)if(t[i]===e)return i
return-1}function i(t,e){if(t.length!=e.length)return!1
for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1
return!0}function n(t){for(b in w)w[b]=t[T[b]]}function o(t){var i,o,r,s,l,c
if(i=t.keyCode,-1==e(C,i)&&C.push(i),(93==i||224==i)&&(i=91),i in w){w[i]=!0
for(r in $)$[r]==i&&(a[r]=!0)}else if(n(t),a.filter.call(this,t)&&i in _)for(c=u(),s=0;s<_[i].length;s++)if(o=_[i][s],o.scope==c||"all"==o.scope){l=o.mods.length>0
for(r in w)(!w[r]&&e(o.mods,+r)>-1||w[r]&&-1==e(o.mods,+r))&&(l=!1);(0!=o.mods.length||w[16]||w[18]||w[17]||w[91])&&!l||o.method(t,o)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function r(t){var i,n=t.keyCode,o=e(C,n)
if(o>=0&&C.splice(o,1),(93==n||224==n)&&(n=91),n in w){w[n]=!1
for(i in $)$[i]==n&&(a[i]=!1)}}function s(){for(b in w)w[b]=!1
for(b in $)a[b]=!1}function a(t,e,i){var n,o
n=g(t),void 0===i&&(i=e,e="all")
for(var r=0;r<n.length;r++)o=[],t=n[r].split("+"),t.length>1&&(o=m(t),t=[t[t.length-1]]),t=t[0],t=S(t),t in _||(_[t]=[]),_[t].push({shortcut:n[r],scope:e,method:i,key:n[r],mods:o})}function l(t,e){var n,o,r,s,a,l=[]
for(n=g(t),s=0;s<n.length;s++){if(o=n[s].split("+"),o.length>1&&(l=m(o)),t=o[o.length-1],t=S(t),void 0===e&&(e=u()),!_[t])return
for(r=0;r<_[t].length;r++)a=_[t][r],a.scope===e&&i(a.mods,l)&&(_[t][r]={})}}function c(t){return"string"==typeof t&&(t=S(t)),-1!=e(C,t)}function d(){return C.slice(0)}function h(t){var e=(t.target||t.srcElement).tagName
return!("INPUT"==e||"SELECT"==e||"TEXTAREA"==e)}function p(t){x=t||"all"}function u(){return x||"all"}function f(t){var e,i,n
for(e in _)for(i=_[e],n=0;n<i.length;)i[n].scope===t?i.splice(n,1):n++}function g(t){var e
return t=t.replace(/\s/g,""),e=t.split(","),""==e[e.length-1]&&(e[e.length-2]+=","),e}function m(t){for(var e=t.slice(0,t.length-1),i=0;i<e.length;i++)e[i]=$[e[i]]
return e}function v(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,function(){i(window.event)})}function y(){var e=t.key
return t.key=P,e}var b,_={},w={16:!1,18:!1,17:!1,91:!1},x="all",$={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},k={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},S=function(t){return k[t]||t.toUpperCase().charCodeAt(0)},C=[]
for(b=1;20>b;b++)k["f"+b]=111+b
var T={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"}
for(b in $)a[b]=!1
v(document,"keydown",function(t){o(t)}),v(document,"keyup",r),v(window,"focus",s)
var P=t.key
t.key=a,t.key.setScope=p,t.key.getScope=u,t.key.deleteScope=f,t.key.filter=h,t.key.isPressed=c,t.key.getPressedKeyCodes=d,t.key.noConflict=y,t.key.unbind=l,"undefined"!=typeof module&&(module.exports=a)}(this),function(t){function e(e,i){this.$el=t(e),this.options=i,this.init=!1,this.generate()}e.prototype={generate:function(){var e,i,n,o,r=this,s=!1,a=0
if(!this.$colorPicker){this.$colorTarget=t('<div class="wColorPicker-color-target"></div>'),this.$customInput=t('<input type="text" class="wColorPicker-custom-input"/>').keyup(t.proxy(this._customInputKeyup,this)),this.$colorChooser=t('<canvas id="colorchooser" height="142" width="339" style="border:1px solid black"></canvas>'),this.$gradientChooser=t('<canvas id="gradientchooser" height="142" width="20" style="border:1px solid black"></canvas>'),this.$commonHistory=t('<table id="commonhistory"><tr id="common"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td rowspan="3" class="ignore" id="curcolor"></td></tr><tr id="commonbw"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr id="history"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></table>'),this.$colorChosen=t('<table id="colorchosen"><tr class="rgb"><td>'+_("R")+' <span class="r">255</span></td><td>'+_("G")+' <span class="g">255</span></td><td>'+_("B")+' <span class="b">255</span></td><td rowspan="2" class="colorpicker-buttons"><button value="white">HSV</button><button value="black">HVS</button><button value="both">'+_("Both")+'</button><button value="flip">'+_("Flip")+'</button></td></tr><tr class="hsv"><td>H <span class="h"></span></td><td>S <span class="s"></span></td><td>V <span class="v"></span></td></tr></table>'),this.$containerDiv=t('<div class="wColorPicker" title=""></div>').append(this.$colorChooser).append(this.$gradientChooser).append(this.$commonHistory).append(this.$colorChosen),this.options.dropperButton&&(this.$dropperButton=this._createDropperButton()),this.$colorPickerPalettesHolder=t('<div class="wColorPicker-palettes-holder"></div>').append(this.$containerDiv).append(this.$dropperButton),this.$colorPickerHolder=t('<div class="wColorPicker-holder"></div>').append(this.$colorPickerPalettesHolder),this.$colorPickerBg=t('<div class="wColorPicker-bg"></div>'),this.$colorPicker=t('<div class="wColorPicker" title=""></div>').append(this.$colorPickerBg).append(this.$colorPickerHolder),this.setColor(this.options.color),this.setTheme(this.options.theme),t("body").append(this.$colorPicker),this.width=this.$colorPickerPalettesHolder.width(),this.height=this.$colorPickerPalettesHolder.height(),this.$el.append(this.$colorPicker),this.setMode(this.options.mode),this.setPosition(this.options.position),e=this.$colorChooser[0],i=this.$gradientChooser[0],this.contexts=new Object,this.curmode="",this.leftButtonDown=!1,this.contexts.colorchooser={element:e,context:e.getContext("2d")},this.contexts.gradientchooser={element:i,context:i.getContext("2d")},n=this._buildImageData(this.contexts.colorchooser,"both"),this.contexts.colorchooser.context.putImageData(n,0,0),o=this.$commonHistory.find("#common td:not(.ignore)"),t.each(o,function(){var e=r._HSVtoRGB(a/(o.length-1),1,1)
t(this).css("background-color","rgb("+e.r+","+e.b+","+e.g+")")
var i=(a/(o.length-1)*255).toFixed()
r.$commonHistory.find("#commonbw td:eq("+a+")").css("background-color","rgb("+i+","+i+","+i+")"),a++}),this.$colorPicker.mousedown(function(t){1===t.which&&(r.leftButtonDown=!0)}),this.$colorPicker.mouseup(function(t){1===t.which&&(r.leftButtonDown=!1)}),this.$colorPicker.mouseout(function(){r.leftButtonDown=!1})
var l=function(e){if(!s){var i=e.offsetX,n=e.offsetY,o=t(this).attr("id")
if(r.leftButtonDown||"click"===e.type){i||(i=(e.clientX-this.getBoundingClientRect().left).toFixed(),n=(e.clientY-this.getBoundingClientRect().top).toFixed())
var a=r.contexts[o].context.getImageData(i,n,1,1).data
if("click"===e.type&&t(r.$colorPicker).trigger("colornew",a),"flip"===r.curmode&&"gradientchooser"==o){var l=r._buildImageData(r.contexts.colorchooser,"flipc",r._RGBtoHSV.apply(null,a).h)
r.contexts.colorchooser.context.putImageData(l,0,0)}else"flip"!=r.curmode&&"gradientchooser"!=o&&r._updateGradientCanvas(a)
t(r.$colorPicker).trigger("colorchange",a)}}}
this.$colorChooser.on("click mouseup mousemove",l),this.$gradientChooser.on("click mouseup mousemove",l),this.$colorChosen.find(".colorpicker-buttons>button").on("click",function(e){e.preventDefault()
var i=t(this).val()
r.curmode=i,r._updateCanvas()}),this.$commonHistory.find("tr").on("click","td",function(){var e,i
e=t(this).css("background-color").match(/rgb\((\d+), ?(\d+), ?(\d+)\)/),e&&(i=e.map(function(t){return parseInt(t)}).filter(function(t){return!isNaN(t)}),t(r.$colorPicker).trigger("colorchange",i),t(r.$colorPicker).trigger("colornew",i))}),this.$colorPicker.on("colorchange",function(t,e,i,n){var o=r._RGBtoHSV(e,i,n),s=r.$colorChosen
s.find(".r").text(e),s.find(".g").text(i),s.find(".b").text(n),s.find(".h").text(Math.round(360*o.h)),s.find(".s").text(o.s.toFixed(2)),s.find(".v").text(o.v.toFixed(2))}),this.$colorPicker.on("colornew",function(e,i,n,o){var s=t("<td></td>"),a=r.$commonHistory.find("#history")
s.css("background-color","rgb("+i+", "+n+", "+o+")"),a.prepend(s),a.find("td:last").remove()}),this.$colorPicker.on("colorchange",function(t,e,i,n){r.$commonHistory.find("#curcolor").css("background-color","rgb("+e+", "+i+", "+n+")")}),this.$colorPicker.on("colorchange",function(t,e,i,n){r.setColor(window.rgbHex([e,i,n]))})}return this.init=!0,this},setTheme:function(t){this.$colorPicker.attr("class",this.$colorPicker.attr("class").replace(/wColorPicker-theme-.+\s|wColorPicker-theme-.+$/,"")),this.$colorPicker.addClass("wColorPicker-theme-"+t)},setOpacity:function(t){this.$colorPickerBg.css("opacity",t)},setColor:function(t){return window.rgbHex(t)?(this.options.color=t,this.$colorTarget.css("backgroundColor",t),this.$customInput.val(t),void(this.init&&this.options.onSelect&&this.options.onSelect.apply(this,[t]))):!0},setMode:function(e){var i=this,n=function(){i._toggleEffect("show")},o=function(){i._toggleEffect("hide")}
if("flat"===e?this.$colorPicker.removeClass("wColorPicker-zindex").css({position:"relative",display:""}):this.$colorPicker.addClass("wColorPicker-zindex").css({position:"absolute"}).hide(),this.$el.find("wColorPicker-button").remove(),this.$el.unbind("mouseenter",n).unbind("mouseleave",o),t(document).unbind("click",o),"flat"!==e){var r=null,s=null
this.options.generateButton&&(r=t('<div class="wColorPicker-button"></div>'),s=t('<div class="wColorPicker-button-color"></div>').css("backgroundColor",this.options.color),this.$el.append(r),r.append(s.height(this.$el.height()-r.outerHeight(!0))))}"click"===e?(this.$el.click(function(t){i._toggleEffect(),t.stopPropagation()}),this.$colorPicker.click(function(t){t.stopPropagation()}),t(document).bind("click",o)):"hover"===e&&this.$el.bind("mouseenter",n).bind("mouseleave",o)},setEffect:function(t){return"flat"===this.options.mode?!0:(this.$colorPicker.css("opacity",1),this.$colorPickerHolder.width(this.width).height(this.height),void("fade"===t?this.$colorPicker.css("opacity",0):"slide"===t&&this.$colorPickerHolder.width("x"===this.positionAxis?0:this.width).height("y"===this.positionAxis?0:this.height)))},setPosition:function(t){if("flat"===this.options.mode)return!0
var e=this.$el.outerWidth(),i=this.$el.outerHeight(),n=this.$el.outerWidth()/2-this.$colorPicker.outerWidth()/2,o=this.$el.outerHeight()/2-this.$colorPicker.outerHeight()/2,r={left:"",right:"",top:"",bottom:""},s=this.options.position.charAt(0)
switch("t"===s||"b"===s?this.positionAxis="y":("l"===s||"r"===s)&&(this.positionAxis="x"),t){case"tl":r.left=0,r.bottom=i
break
case"tc":r.left=n,r.bottom=i
break
case"tr":r.right=0,r.bottom=i
break
case"rt":r.left=e,r.top=0
break
case"rm":r.left=e,r.top=o
break
case"rb":r.left=e,r.bottom=0
break
case"br":r.right=0,r.top=i
break
case"bc":r.left=n,r.top=i
break
case"bl":r.left=0,r.top=i
break
case"lb":r.right=e,r.bottom=0
break
case"lm":r.right=e,r.top=o
break
case"lt":r.right=e,r.top=0}this.$colorPicker.css(r),this.setEffect(this.options.effect)},_HSVtoRGB:function(t,e,i){var n,o,r,s,a,l,c,d
switch(t&&void 0===e&&void 0===i&&(e=t.s,i=t.v,t=t.h),s=Math.floor(6*t),a=6*t-s,l=i*(1-e),c=i*(1-a*e),d=i*(1-(1-a)*e),s%6){case 0:n=i,o=d,r=l
break
case 1:n=c,o=i,r=l
break
case 2:n=l,o=i,r=d
break
case 3:n=l,o=c,r=i
break
case 4:n=d,o=l,r=i
break
case 5:n=i,o=l,r=c}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}},_RGBtoHSV:function(t,e,i){t/=255,e/=255,i/=255
var n,o,r=Math.max(t,e,i),s=Math.min(t,e,i),a=r,l=r-s
if(o=0==r?0:l/r,r==s)n=0
else{switch(r){case t:n=(e-i)/l+(i>e?6:0)
break
case e:n=(i-t)/l+2
break
case i:n=(t-e)/l+4}n/=6}return{h:n,s:o,v:a}},_buildImageData:function(t,e,n){var o,r,s=0,a=t.element.width,l=t.element.height,r=t.context.createImageData(a,l),c=(r.data,function(t,e){r.data[4*e]=t.r,r.data[4*e+1]=t.g,r.data[4*e+2]=t.b,r.data[4*e+3]=255})
for(ii=0;ii<l;ii++)for(i=0;a>i;i++)o="white"===e?this._HSVtoRGB(i/a,ii/l,1):"black"===e?this._HSVtoRGB(i/a,1,1-ii/l):"flip"===e?this._HSVtoRGB(ii/l,1,1):"flipc"===e?a/2>i?this._HSVtoRGB(n,i/(a/2),1):this._HSVtoRGB(n,1,2-i/(a/2)):ii<l/2?this._HSVtoRGB(i/a,ii/(l/2),1):this._HSVtoRGB(i/a,1,2-ii/(l/2)),c(o,s),s++
return r},_updateGradientCanvas:function(t){var e=this.contexts.gradientchooser.context.createLinearGradient(0,0,0,this.contexts.gradientchooser.element.height)
e.addColorStop(0,"white"),e.addColorStop(.5,"rgb("+t[0]+","+t[1]+","+t[2]+")"),e.addColorStop(1,"black"),this.contexts.gradientchooser.context.fillStyle=e,this.contexts.gradientchooser.context.fillRect(0,0,this.contexts.gradientchooser.element.width,this.contexts.gradientchooser.element.height)},_updateCanvas:function(){var t="flip"===this.curmode?this.contexts.gradientchooser:this.contexts.colorchooser,e=this._buildImageData(t,this.curmode)
t.context.putImageData(e,0,0)},_createDropperButton:function(){return t('<div class="wColorPicker-dropper"></div>').click(t.proxy(this.options.onDropper,this))},_toggleEffect:function(t){var e=this.$colorPicker.hasClass("wColorPicker-visible");(!t||"show"===t&&e===!1||"hide"===t&&e===!0)&&(e||this.setPosition(this.options.position),this["_"+this.options.effect+"Effect"+(e?"Hide":"Show")](),this.$colorPicker.toggleClass("wColorPicker-visible"))},_noneEffectShow:function(){this.$colorPicker.css("display","inline-block")},_noneEffectHide:function(){this.$colorPicker.hide()},_fadeEffectShow:function(){this.$colorPicker.stop(!0,!1).css({display:"inline-block"}).animate({opacity:1},this.options.showSpeed)},_fadeEffectHide:function(){this.$colorPicker.stop(!0,!1).animate({opacity:0},this.options.hideSpeed,t.proxy(function(){this.$colorPicker.hide()},this))},_slideEffectShow:function(){var t="y"===this.positionAxis?{height:this.height}:{width:this.width}
this.$colorPicker.css("display","inline-block"),this.$colorPickerHolder.stop(!0,!1).animate(t,this.options.showSpeed)},_slideEffectHide:function(){var e="y"===this.positionAxis?{height:0}:{width:0}
this.$colorPickerHolder.stop(!0,!1).animate(e,this.options.hideSpeed,t.proxy(function(){this.$colorPicker.hide()},this))}},t.fn.wColorPicker=function(i,n){function o(n){var o,r=t.data(n,"wColorPicker")
return r||(o=t.extend({},t.fn.wColorPicker.defaults,i),o.color=window.rgbHex(o.color)?o.color:"transparent",r=new e(n,o),t.data(n,"wColorPicker",r)),r}if("string"==typeof i){var r=[],s=null,a=null,l=null
return a=this.each(function(){s=t(this).data("wColorPicker"),s&&(l=(n?"set":"get")+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase(),s[i]?r.push(s[i].apply(s,[n])):n?(s[l]&&s[l].apply(s,[n]),s.options[i]&&(s.options[i]=n)):r.push(s[l]?s[l].apply(s,[n]):s.options[i]?s.options[i]:null))}),1===r.length?r[0]:r.length>0?r:a}return this.each(function(){o(this)})},t.fn.wColorPicker.defaults={theme:"classic",opacity:.9,color:"#FF0000",mode:"flat",position:"bl",generateButton:!0,dropperButton:!1,effect:"slide",showSpeed:500,hideSpeed:500,onMouseover:null,onMouseout:null,onSelect:null,onDropper:null}}(jQuery),function(){String.prototype.capitalize||(String.prototype.capitalize=function(){return this.slice(0,1).toUpperCase()+this.slice(1)})}(),function(t){t.fn.realWidth=function(e,i,n){var o=null,r=null,s=null
return e="inner"===e||"outer"===e?e:"",s=""===e?"width":e+"Width",i=i===!0?!0:!1,r=t(this).clone().css({position:"absolute",left:-1e4}).appendTo(n||"body"),o=i?r[s](i):r[s](),r.remove(),o},t.fn.realHeight=function(e,i,n){var o=null,r=null,s=null
return e="inner"===e||"outer"===e?e:"",s=""===e?"height":e+"Height",i=i===!0?!0:!1,r=t(this).clone().css({position:"absolute",left:-1e4}).appendTo(n||"body"),o=i?r[s](i):r[s](),r.remove(),o},t.fn.bindMobileEvents=function(){t(this).on("touchstart touchmove touchend touchcancel",function(){var t=event.changedTouches||event.originalEvent.targetTouches,e=t[0],i=""
switch(event.type){case"touchstart":i="mousedown"
break
case"touchmove":i="mousemove",event.preventDefault()
break
case"touchend":i="mouseup"
break
default:return}var n=document.createEvent("MouseEvent")
n.initMouseEvent(i,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)})}}(jQuery),function(t){"use strict"
function e(e,i){this.$el=t(e),this.options=i,this.init=!1,this.menus={primary:null,active:null,all:{}},this.previousMode=null,this.width=this.$el.width(),this.height=this.$el.height(),this.ctxBgResize=!1,this.ctxResize=!1,this.generate(),this._init()}function i(t,e,i){this.wPaint=t,this.options=i,this.name=e,this.type=t.menus.primary?"secondary":"primary",this.docked=!0,this.dockOffset={left:0,top:0},this.generate()}e.prototype={generate:function(){function e(e){var i=e?e.capitalize():"",n="canvas"+i,o="ctx"+i
return r[n]=document.createElement("canvas"),r[o]=r[n].getContext("2d"),r["$"+n]=t(r[n]),r["$"+n].attr("class","wPaint-canvas"+(e?"-"+e:"")).attr("width",r.width+"px").attr("height",r.height+"px").css({position:"absolute",left:0,top:0}),r.$el.append(r["$"+n]),r["$"+n]}function i(t){t.preventDefault(),t.stopPropagation(),r.draw=!0,t.canvasEvent="down",r._closeSelectBoxes(),r._callShapeFunc.apply(r,[t])}function n(t){r.draw&&(t.canvasEvent="move",r._callShapeFunc.apply(r,[t]))}function o(t){r.draw&&(r.draw=!1,t.canvasEvent="up",r._callShapeFunc.apply(r,[t]))}if(this.init)return this
var r=this
e("bg"),e("").on("mousedown",i).bindMobileEvents(),e("temp").hide(),t(document).on("mousemove",n).on("mousedown",t.proxy(this._closeSelectBoxes,this)).on("mouseup",o),this.setTheme(this.options.theme)},_init:function(){var t=null,e=null
this.init=!0
for(t in this.options)e="set"+t.capitalize(),this[e]&&this[e](this.options[t])
this._fixMenus(),this.menus.primary._getIcon(this.options.mode).trigger("click")},resize:function(){var t=this.getBg(),e=this.getImage()
this.width=this.$el.width(),this.height=this.$el.height(),this.canvasBg.width=this.width,this.canvasBg.height=this.height,this.canvas.width=this.width,this.canvas.height=this.height,this.ctxBgResize===!1&&(this.ctxBgResize=!0,this.setBg(t,!0)),this.ctxResize===!1&&(this.ctxResize=!0,this.setImage(e,"",!0,!0))},setTheme:function(t){var e,i
for(t=t.split(" "),this.$el.attr("class",(this.$el.attr("class")||"").replace(/wPaint-theme-.+\s|wPaint-theme-.+$/,"")),e=0,i=t.length;i>e;e++)this.$el.addClass("wPaint-theme-"+t[e])},setMode:function(t){this.setCursor(t),this.previousMode=this.options.mode,this.options.mode=t},setImage:function(e,i,n,o){function r(){var t=1,e=0,r=0,c=0,d=0,h=a.width,p=a.height
n||((a.width>s.width||a.height>s.height||s.options.imageStretch)&&(e=s.width/a.width,r=s.height/a.height,t=r>e?e:r,h=a.width*t,p=a.height*t),c=(s.width-h)/2,d=(s.height-p)/2),l.clearRect(0,0,s.width,s.height),l.drawImage(a,c,d,h,p),s[i+"Resize"]=!1,o||s._addUndo()}if(!e)return!0
var s=this,a=null,l=""
i="ctx"+(i||"").capitalize(),l=this[i],window.rgbHex(e)?(l.clearRect(0,0,this.width,this.height),l.fillStyle=e,l.rect(0,0,this.width,this.height),l.fill()):(o&&l.clearRect(0,0,this.width,this.height),a=new Image,t(a).on("load",r),"undefined"!=typeof e.slice&&"data"!==e.slice(0,4)&&a.setAttribute("crossOrigin","anonymous"),a.src=e)},setBg:function(t,e){return t?void this.setImage(t,"bg",e,!0):!0},setCursor:function(e){e=t.fn.wPaint.cursors[e]||t.fn.wPaint.cursors["default"],this.$el.css("cursor",'url("'+this.options.path+e.path+'") '+e.left+" "+e.top+", default")},setMenuOrientation:function(e){t.each(this.menus.all,function(t,i){i.options.aligment=e,i.setAlignment(e)})},getImage:function(e){var i=document.createElement("canvas"),n=i.getContext("2d")
return e=e===!1?!1:!0,t(i).css({display:"none",position:"absolute",left:0,top:0}).attr("width",this.width).attr("height",this.height),e&&n.drawImage(this.canvasBg,0,0),n.drawImage(this.canvas,0,0),i.toDataURL()},getBg:function(){return this.canvasBg.toDataURL()},_displayStatus:function(e){var i=this
this.$status||(this.$status=t('<div class="wPaint-status"></div>'),this.$el.append(this.$status)),this.$status.html(e),clearTimeout(this.displayStatusTimer),this.$status.fadeIn(500,function(){i.displayStatusTimer=setTimeout(function(){i.$status.fadeOut(500)},1500)})},_showModal:function(t){function e(){n.remove(),o.remove(),i._createModal(t)}var i=this,n=this.$el.children(".wPaint-modal-bg"),o=this.$el.children(".wPaint-modal")
n.length?o.fadeOut(500,e):this._createModal(t)},_createModal:function(e){function i(){r.fadeOut(500,n)}function n(){o.remove(),r.remove()}e=t('<div class="wPaint-modal-content"></div>').append(e.children())
var o=t('<div class="wPaint-modal-bg"></div>'),r=t('<div class="wPaint-modal"></div>'),s=t('<div class="wPaint-modal-holder"></div>'),a=t('<div class="wPaint-modal-close">X</div>')
a.on("click",i),r.append(s.append(e)).append(a),this.$el.append(o).append(r),r.css({left:this.$el.outerWidth()/2-r.outerWidth(!0)/2,top:this.$el.outerHeight()/2-r.outerHeight(!0)/2}),r.fadeIn(500)},_createMenu:function(t,e){return e=e||{},e.alignment=this.options.menuOrientation,e.handle=this.options.menuHandle,new i(this,t,e)},_fixMenus:function(){function e(e,n){var o=t(n),r=o.clone()
r.appendTo(i.$el),r.outerHeight()===r.get(0).scrollHeight&&o.css({overflowY:"auto"}),r.remove()}var i=this,n=null
for(var o in this.menus.all)n=i.menus.all[o].$menu.find(".wPaint-menu-select-holder"),n.length&&n.children().each(e)},_closeSelectBoxes:function(t){var e,i
for(e in this.menus.all)i=this.menus.all[e].$menuHolder.children(".wPaint-menu-icon-select"),t&&(i=i.not(".wPaint-menu-icon-name-"+t.name)),i.children(".wPaint-menu-select-holder").hide()},_callShapeFunc:function(t){var e=this.$canvas.offset(),i=t.canvasEvent.capitalize(),n="_draw"+this.options.mode.capitalize()+i
t.pageX=Math.floor(t.pageX-e.left),t.pageY=Math.floor(t.pageY-e.top),this[n]&&this[n].apply(this,[t]),this.options["draw"+i]&&this.options["_draw"+i].apply(this,[t]),"Down"===i&&this.options.onShapeDown?this.options.onShapeDown.apply(this,[t]):"Move"===i&&this.options.onShapeMove?this.options.onShapeMove.apply(this,[t]):"Up"===i&&this.options.onShapeUp&&this.options.onShapeUp.apply(this,[t])},_stopPropagation:function(t){t.stopPropagation()},_drawShapeDown:function(t){this.$canvasTemp.css({left:t.PageX,top:t.PageY}).attr("width",0).attr("height",0).show(),this.canvasTempLeftOriginal=t.pageX,this.canvasTempTopOriginal=t.pageY},_drawShapeMove:function(e,i){var n=this.canvasTempLeftOriginal,o=this.canvasTempTopOriginal
i=i||2,e.left=e.pageX<n?e.pageX:n,e.top=e.pageY<o?e.pageY:o,e.width=Math.abs(e.pageX-n),e.height=Math.abs(e.pageY-o),e.x=this.options.lineWidth/2*i,e.y=this.options.lineWidth/2*i,e.w=e.width-this.options.lineWidth*i,e.h=e.height-this.options.lineWidth*i,t(this.canvasTemp).css({left:e.left,top:e.top}).attr("width",e.width).attr("height",e.height),this.canvasTempLeftNew=e.left,this.canvasTempTopNew=e.top,i=i||2,this.ctxTemp.fillStyle=this.options.fillStyle,this.ctxTemp.strokeStyle=this.options.strokeStyle,this.ctxTemp.lineWidth=this.options.lineWidth*i},_drawShapeUp:function(){this.ctx.drawImage(this.canvasTemp,this.canvasTempLeftNew,this.canvasTempTopNew),this.$canvasTemp.hide()},_drawDropperDown:function(t){var e={x:t.pageX,y:t.pageY},i=this._getPixel(this.ctx,e),n=null
n="rgba("+[i.r,i.g,i.b,i.a].join(",")+")",this.options[this.dropper]=n,this.menus.active._getIcon(this.dropper).wColorPicker("color",n)},_drawDropperUp:function(){this.setMode(this.previousMode)},_getPixel:function(t,e){var i=t.getImageData(0,0,this.width,this.height),n=i.data,o=4*(e.y*i.width+e.x)
return{r:n[o],g:n[o+1],b:n[o+2],a:n[o+3]}}},i.prototype={generate:function(){this.$menu=t('<div class="wPaint-menu"></div>'),this.$menuHolder=t('<div class="wPaint-menu-holder wPaint-menu-name-'+this.name+'"></div>'),this.options.handle?this.$menuHandle=this._createHandle():this.$menu.addClass("wPaint-menu-nohandle"),"primary"===this.type?(this.wPaint.menus.primary=this,this.setOffsetLeft(this.options.offsetLeft),this.setOffsetTop(this.options.offsetTop)):"secondary"===this.type&&this.$menu.hide(),this.$menu.append(this.$menuHolder.append(this.$menuHandle)),this.reset(),this.wPaint.$el.append(this.$menu),this.setAlignment(this.options.alignment)},reset:function(){function e(t){n._appendItem(t)}var i,n=this,o=t.fn.wPaint.menus[this.name]
for(i in o.items)this.$menuHolder.children(".wPaint-menu-icon-name-"+i).length||(o.items[i].name=i,void 0===o.items[i].pathSet&&(o.items[i].pathSet=!0,o.items[i].img=n.wPaint.options.path+(o.items[i].img||o.img)),e(o.items[i]))},_appendItem:function(t){var e=this["_createIcon"+t.icon.capitalize()](t)
t.after?this.$menuHolder.children(".wPaint-menu-icon-name-"+t.after).after(e):this.$menuHolder.append(e)},setOffsetLeft:function(t){this.$menu.css({left:t})},setOffsetTop:function(t){this.$menu.css({top:t})},setAlignment:function(t){var e=this.$menu.css("left")
this.$menu.attr("class",this.$menu.attr("class").replace(/wPaint-menu-alignment-.+\s|wPaint-menu-alignment-.+$/,"")),this.$menu.addClass("wPaint-menu-alignment-"+t),this.$menu.width("auto").css("left",-1e4),this.$menu.width(this.$menu.width()).css("left",e),"secondary"===this.type&&("horizontal"===this.options.alignment?this.dockOffset.top=this.wPaint.menus.primary.$menu.outerHeight(!0):this.dockOffset.left=this.wPaint.menus.primary.$menu.outerWidth(!0))},_createHandle:function(){function e(){o.docked=!1,o._setDrag()}function i(){t.each(o.$menu.data("ui-draggable").snapElements,function(t,e){var i=o.$menu.offset(),n=o.wPaint.menus.primary.$menu.offset()
o.dockOffset.left=i.left-n.left,o.dockOffset.top=i.top-n.top,o.docked=e.snapping}),o._setDrag()}function n(){o._setIndex()}var o=this,r=t('<div class="wPaint-menu-handle"></div>')
return this.$menu.draggable({handle:r}),"secondary"===this.type&&(this.$menu.draggable("option","snap",this.wPaint.menus.primary.$menu),this.$menu.draggable("option","start",e),this.$menu.draggable("option","stop",i),this.$menu.draggable("option","drag",n)),r.bindMobileEvents(),r},_createIconBase:function(e){function i(e){var i=t(e.currentTarget)
i.siblings(".hover").removeClass("hover"),i.hasClass("disabled")||i.addClass("hover")}function n(e){t(e.currentTarget).removeClass("hover")}function o(){r.wPaint.menus.active=r}var r=this,s=t('<div class="wPaint-menu-icon wPaint-menu-icon-name-'+e.name+'"></div>'),a=t('<div class="wPaint-menu-icon-img"></div>'),l=a.realWidth(null,null,this.wPaint.$el),c="undefined"!=typeof e.keybind,d=c?e.title+" ("+e.keybind+")":e.title,h=t.proxy(this.wPaint._closeSelectBoxes,this.wPaint,e)
return s.attr("title",d).on("mousedown",h).on("mouseenter",i).on("mouseleave",n).on("click",o),c&&key(e.keybind,function(){t.proxy(e.callback,r.wPaint)(),r._iconClick(s),o(),h()}),t.isNumeric(e.index)&&a.css({backgroundImage:"url("+e.img+")",backgroundPosition:-l*e.index+"px 0px"}),s.append(a)},_createIconGroup:function(e){function i(){a.children(".wPaint-menu-select-holder").is(":visible")||e.callback.apply(r.wPaint,[])}function n(){a.addClass("active").siblings(".active").removeClass("active")}function o(){a.attr("title",e.title).off("click.setIcon").on("click.setIcon",i),a.children(".wPaint-menu-icon-img").css(s),e.callback.apply(r.wPaint,[])}var r=this,s={backgroundImage:"url("+e.img+")"},a=this.$menuHolder.children(".wPaint-menu-icon-group-"+e.group),l=a.length,c=null,d=null,h=null,p=0
return l||(a=this._createIconBase(e).addClass("wPaint-menu-icon-group wPaint-menu-icon-group-"+e.group).on("click.setIcon",i).on("mousedown",t.proxy(this._iconClick,this))),p=a.children(".wPaint-menu-icon-img").realWidth(null,null,this.wPaint.$el),s.backgroundPosition=-p*e.index+"px center",c=a.children(".wPaint-menu-select-holder"),c.length||(c=this._createSelectBox(a),c.children().on("click",n)),h=t('<div class="wPaint-menu-icon-select-img"></div>').attr("title",e.title).css(s),d=this._createSelectOption(c,h).addClass("wPaint-menu-icon-name-"+e.name).on("click",o),e.after&&c.children(".wPaint-menu-select").children(".wPaint-menu-icon-name-"+e.after).after(d),l?void 0:a},_createIconGeneric:function(t){return this._createIconActivate(t)},_createIconActivate:function(t){function e(e){"generic"!==t.icon&&i._iconClick(e),t.callback.apply(i.wPaint,[e])}if(t.group)return this._createIconGroup(t)
var i=this,n=this._createIconBase(t)
return n.on("click",e),n},_isIconDisabled:function(t){return this.$menuHolder.children(".wPaint-menu-icon-name-"+t).hasClass("disabled")},_setIconDisabled:function(t,e){var i=this.$menuHolder.children(".wPaint-menu-icon-name-"+t)
e?i.addClass("disabled").removeClass("hover"):i.removeClass("disabled")},_getIcon:function(t){return this.$menuHolder.children(".wPaint-menu-icon-name-"+t)},_iconClick:function(e){if("undefined"!=typeof e.currentTarget)var i=t(e.currentTarget)
else var i=t(e)
var n=this.wPaint.menus.all
for(var o in n)n[o]&&"secondary"===n[o].type&&n[o].$menu.hide()
i.siblings(".active").removeClass("active"),i.hasClass("disabled")||i.addClass("active")},_createIconToggle:function(t){function e(){n.toggleClass("active"),t.callback.apply(i.wPaint,[n.hasClass("active")])}var i=this,n=this._createIconBase(t)
return n.on("click",e),n},_createIconSelect:function(e){function i(i){a.children(".wPaint-menu-icon-img").html(t(i.currentTarget).html()),e.callback.apply(s.wPaint,[t(i.currentTarget).html()])}var n,o,r,s=this,a=this._createIconBase(e),l=this._createSelectBox(a)
for(n=0,o=e.range.length;o>n;n++)r=this._createSelectOption(l,e.range[n]),r.on("click",i),e.useRange&&r.css(e.name,e.range[n])
return a},_createSelectBox:function(e){function i(t){t.stopPropagation(),s.hide()}function n(){l=setTimeout(function(){s.toggle()},200)}function o(){clearTimeout(l)}function r(){s.toggle()}var s=t('<div class="wPaint-menu-select-holder"></div>'),a=t('<div class="wPaint-menu-select"></div>'),l=null
return s.on("mousedown mouseup",this.wPaint._stopPropagation).on("click",i).hide(),s.css("horizontal"===this.options.alignment?{left:0,top:e.children(".wPaint-menu-icon-img").realHeight("outer",!0,this.wPaint.$el)}:{left:e.children(".wPaint-menu-icon-img").realWidth("outer",!0,this.wPaint.$el),top:0}),e.addClass("wPaint-menu-icon-select").append('<div class="wPaint-menu-icon-group-arrow"></div>').append(s.append(a)),e.hasClass("wPaint-menu-icon-group")?e.on("mousedown",n).on("mouseup",o):e.on("click",r),s},_createSelectOption:function(e,i){var n=e.children(".wPaint-menu-select"),o=t('<div class="wPaint-menu-select-option"></div>').append(i)
return n.children().length||o.addClass("first"),n.append(o),o},_setSelectValue:function(t,e){this._getIcon(t).children(".wPaint-menu-icon-img").html(e)},_createIconColorPicker:function(t){function e(){"dropper"===o.wPaint.options.mode&&o.wPaint.setMode(o.wPaint.previousMode)}function i(e){t.callback.apply(o.wPaint,[e])}function n(){r.trigger("click"),o.wPaint.dropper=t.name,o.wPaint.setMode("dropper")}var o=this,r=this._createIconBase(t)
return r.on("click",e).addClass("wPaint-menu-colorpicker").wColorPicker({mode:"click",generateButton:!1,dropperButton:!0,onSelect:i,onDropper:n}),r},_setColorPickerValue:function(t,e){this._getIcon(t).children(".wPaint-menu-icon-img").css("backgroundColor",e)},_createIconMenu:function(t){function e(){i.wPaint.setCursor(t.name)
var e=i.wPaint.menus.all[t.name]
e.$menu.toggle(),i.handle?e._setDrag():e._setPosition()}var i=this,n=this._createIconActivate(t)
return n.on("click",e),n},_setDrag:function(){var e=this.$menu,i=null,n=null
e.is(":visible")&&(this.docked&&(i=n=t.proxy(this._setPosition,this),this._setPosition()),this.wPaint.menus.primary.$menu.draggable("option","drag",i),this.wPaint.menus.primary.$menu.draggable("option","stop",n))},_setPosition:function(){var t=this.wPaint.menus.primary.$menu.position()
this.$menu.css({left:t.left+this.dockOffset.left,top:t.top+this.dockOffset.top})},_setIndex:function(){var t=this.wPaint.menus.primary.$menu.offset(),e=this.$menu.offset()
e.top<t.top||e.left<t.left?this.$menu.addClass("wPaint-menu-behind"):this.$menu.removeClass("wPaint-menu-behind")}},t.support.canvas=document.createElement("canvas").getContext,t.fn.wPaint=function(i,n){function o(){return t.support.canvas?t.proxy(r,this)():(t(this).html("Browser does not support HTML5 canvas, please upgrade to a more modern browser."),!1)}function r(){var n=t.data(this,"wPaint")
return n||(n=new e(this,t.extend(!0,{},i)),t.data(this,"wPaint",n)),n}function s(){var e=t.data(this,"wPaint")
e&&(e[i]?e[i].apply(e,[n]):void 0!==n?(e[l]&&e[l].apply(e,[n]),e.options[i]&&(e.options[i]=n)):a.push(e[l]?e[l].apply(e,[n]):e.options[i]?e.options[i]:void 0))}if("string"==typeof i){var a=[],l=(n?"set":"get")+i.charAt(0).toUpperCase()+i.substring(1)
return this.each(s),a.length?1===a.length?a[0]:a:this}return i=t.extend({},t.fn.wPaint.defaults,i),i.lineWidth=parseInt(i.lineWidth,10),i.fontSize=parseInt(i.fontSize,10),this.each(o)},t.fn.wPaint.extend=function(t,n){function o(i){if(n[i]){var o=e.prototype[i],r=t[i]
n[i]=function(){o.apply(this,arguments),r.apply(this,arguments)}}else n[i]=t[i]}var r
n="menu"===n?i.prototype:e.prototype
for(r in t)o(r)},t.fn.wPaint.menus={},t.fn.wPaint.cursors={},t.fn.wPaint.defaults={path:"/",theme:"standard classic",autoScaleImage:!0,autoCenterImage:!0,menuHandle:!0,menuOrientation:"horizontal",menuOffsetLeft:5,menuOffsetTop:5,bg:null,image:null,imageStretch:!1,onShapeDown:null,onShapeMove:null,onShapeUp:null}}(jQuery),function(t){t.fn.wPaint.menus.main={img:"plugins/main/img/icons-menu-main.png",items:{undo:{icon:"generic",title:_("Undo"),keybind:"alt+z",index:0,callback:function(){this.undo()}},redo:{icon:"generic",title:_("Redo"),keybind:"alt+shift+z,alt+r",index:1,callback:function(){this.redo()}},clear:{icon:"generic",title:_("Clear"),keybind:"alt+x",index:2,callback:function(){this.clear()}},rectangle:{icon:"activate",title:_("Rectangle"),index:3,callback:function(){this.setMode("rectangle")}},ellipse:{icon:"activate",title:_("Ellipse"),index:4,callback:function(){this.setMode("ellipse")}},line:{icon:"activate",title:_("Line"),keybind:"alt+l",index:5,callback:function(){this.setMode("line")}},pencil:{icon:"activate",title:_("Pencil"),keybind:"alt+p",index:6,callback:function(){this.setMode("pencil")}},eraser:{icon:"activate",title:_("Eraser"),keybind:"alt+e",index:8,callback:function(){this.setMode("eraser")}},bucket:{icon:"activate",title:_("Bucket"),keybind:"alt+b",index:9,callback:function(){this.setMode("bucket")}},fillStyle:{title:_("Fill Color"),icon:"colorPicker",callback:function(t){this.setFillStyle(t)}},lineWidth:{icon:"select",title:_("Stroke Width"),range:[1,2,3,4,5,6,7,8,9,10],value:2,callback:function(t){this.setLineWidth(t)}},strokeStyle:{icon:"colorPicker",title:_("Stroke Color"),callback:function(t){this.setStrokeStyle(t)}}}},t.extend(t.fn.wPaint.cursors,{"default":{path:"plugins/main/img/cursor-crosshair.png",left:7,top:7},dropper:{path:"plugins/main/img/cursor-dropper.png",left:0,top:12},pencil:{path:"plugins/main/img/cursor-pencil.png",left:0,top:11.99},bucket:{path:"plugins/main/img/cursor-bucket.png",left:0,top:10},eraser1:{path:"plugins/main/img/cursor-eraser1.png",left:1,top:1},eraser2:{path:"plugins/main/img/cursor-eraser2.png",left:2,top:2},eraser3:{path:"plugins/main/img/cursor-eraser3.png",left:2,top:2},eraser4:{path:"plugins/main/img/cursor-eraser4.png",left:3,top:3},eraser5:{path:"plugins/main/img/cursor-eraser5.png",left:3,top:3},eraser6:{path:"plugins/main/img/cursor-eraser6.png",left:4,top:4},eraser7:{path:"plugins/main/img/cursor-eraser7.png",left:4,top:4},eraser8:{path:"plugins/main/img/cursor-eraser8.png",left:5,top:5},eraser9:{path:"plugins/main/img/cursor-eraser9.png",left:5,top:5},eraser10:{path:"plugins/main/img/cursor-eraser10.png",left:6,top:6}}),t.extend(t.fn.wPaint.defaults,{mode:"pencil",lineWidth:"3",fillStyle:"#FFFFFF",strokeStyle:"#FFFF00"}),t.fn.wPaint.extend({undoCurrent:-1,undoArray:[],setUndoFlag:!0,generate:function(){this.menus.all.main=this._createMenu("main",{offsetLeft:this.options.menuOffsetLeft,offsetTop:this.options.menuOffsetTop})},_init:function(){this._addUndo(),this.menus.all.main._setIconDisabled("clear",!0)},setStrokeStyle:function(t){this.options.strokeStyle=t,this.menus.all.main._setColorPickerValue("strokeStyle",t)},setLineWidth:function(t){this.options.lineWidth=t,this.menus.all.main._setSelectValue("lineWidth",t),this.setCursor(this.options.mode)},setFillStyle:function(t){this.options.fillStyle=t,this.menus.all.main._setColorPickerValue("fillStyle",t)},setCursor:function(t){"eraser"===t&&this.setCursor("eraser"+this.options.lineWidth)},undo:function(){this.undoArray[this.undoCurrent-1]&&this._setUndo(--this.undoCurrent),this._undoToggleIcons()},redo:function(){this.undoArray[this.undoCurrent+1]&&this._setUndo(++this.undoCurrent),this._undoToggleIcons()},_addUndo:function(){for(this.undoCurrent<this.undoArray.length-1?this.undoArray[++this.undoCurrent]=this.getImage(!1):(this.undoArray.push(this.getImage(!1)),this.undoArray.length>this.undoMax?this.undoArray=this.undoArray.slice(1,this.undoArray.length):this.undoCurrent++);this.undoCurrent!==this.undoArray.length-1;)this.undoArray.pop()
this._undoToggleIcons(),this.menus.all.main._setIconDisabled("clear",!1)},_undoToggleIcons:function(){var t=this.undoCurrent>0&&this.undoArray.length>1?0:1,e=this.undoCurrent<this.undoArray.length-1?2:3
this.menus.all.main._setIconDisabled("undo",1===t?!0:!1),this.menus.all.main._setIconDisabled("redo",3===e?!0:!1)},_setUndo:function(t){this.setImage(this.undoArray[t],null,null,!0)},clear:function(){this.menus.all.main._isIconDisabled("clear")||(this.ctx.clearRect(0,0,this.width,this.height),this._addUndo(),this.menus.all.main._setIconDisabled("clear",!0))},_drawRectangleDown:function(t){this._drawShapeDown(t)},_drawRectangleMove:function(t){this._drawShapeMove(t),this.ctxTemp.rect(t.x,t.y,t.w,t.h),this.ctxTemp.stroke(),this.ctxTemp.fill()},_drawRectangleUp:function(t){this._drawShapeUp(t),this._addUndo()},_drawEllipseDown:function(t){this._drawShapeDown(t)},_drawEllipseMove:function(t){this._drawShapeMove(t),this.ctxTemp.ellipse(t.x,t.y,t.w,t.h),this.ctxTemp.stroke(),this.ctxTemp.fill()},_drawEllipseUp:function(t){this._drawShapeUp(t),this._addUndo()},_drawLineDown:function(t){this._drawShapeDown(t)},_drawLineMove:function(t){this._drawShapeMove(t,1)
var e=this.canvasTempLeftOriginal,i=this.canvasTempTopOriginal
t.pageX<e&&(t.x=t.x+t.w,t.w=-1*t.w),t.pageY<i&&(t.y=t.y+t.h,t.h=-1*t.h),this.ctxTemp.lineJoin="round",this.ctxTemp.beginPath(),this.ctxTemp.moveTo(t.x,t.y),this.ctxTemp.lineTo(t.x+t.w,t.y+t.h),this.ctxTemp.closePath(),this.ctxTemp.stroke()},_drawLineUp:function(t){this._drawShapeUp(t),this._addUndo()},_drawPencilDown:function(t){this.ctx.lineJoin="round",this.ctx.lineCap="round",this.ctx.strokeStyle=this.options.strokeStyle,this.ctx.fillStyle=this.options.strokeStyle,this.ctx.lineWidth=this.options.lineWidth,this.ctx.beginPath(),this.ctx.arc(t.pageX,t.pageY,this.options.lineWidth/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(t.pageX,t.pageY)},_drawPencilMove:function(t){this.ctx.lineTo(t.pageX,t.pageY),this.ctx.stroke()},_drawPencilUp:function(){this.ctx.closePath(),this._addUndo()},_drawEraserDown:function(t){this.ctx.save(),this.ctx.globalCompositeOperation="destination-out",this._drawPencilDown(t)},_drawEraserMove:function(t){this._drawPencilMove(t)},_drawEraserUp:function(t){this._drawPencilUp(t),this.ctx.restore()},_drawBucketDown:function(t){this.ctx.fillArea(t.pageX,t.pageY,this.options.fillStyle),this._addUndo()}})}(jQuery),!function(){window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.fillArea=function(t,e,i){function n(t){return{r:g[t],g:g[t+1],b:g[t+2],a:g[t+3]}}function o(t){g[t]=i.r,g[t+1]=i.g,g[t+2]=i.b,g[t+3]=i.a}function r(t){return s.r===t.r&&s.g===t.g&&s.b===t.b&&s.a===t.a}if(!t||!e||!i)return!0
var s,a,l,c,d,h,p=this.canvas.width,u=this.canvas.height,f=this.getImageData(0,0,p,u),g=f.data,m=[[t,e]]
if(s=n(4*(e*p+t)),h=this.canvas.style.color,this.canvas.style.color=i,i=this.canvas.style.color.match(/^rgba?\((.*)\);?$/)[1].split(","),this.canvas.style.color=h,i={r:parseInt(i[0],10),g:parseInt(i[1],10),b:parseInt(i[2],10),a:parseInt(i[3]||255,10)},r(i))return!0
for(;m.length;){for(a=m.pop(),l=4*(a[1]*p+a[0]);a[1]-->=0&&r(n(l));)l-=4*p
for(l+=4*p,++a[1],c=!1,d=!1;a[1]++<u-1&&r(n(l));)o(l),a[0]>0&&(r(n(l-4))?c||(m.push([a[0]-1,a[1]]),c=!0):c&&(c=!1)),a[0]<p-1&&(r(n(l+4))?d||(m.push([a[0]+1,a[1]]),d=!0):d&&(d=!1)),l+=4*p}this.putImageData(f,0,0)})}(),function(t){t.fn.wPaint.menus.text={img:"plugins/text/img/icons-menu-text.png",items:{bold:{icon:"toggle",title:_("Bold"),index:0,callback:function(t){this.setFontBold(t)}},italic:{icon:"toggle",title:_("Italic"),index:1,callback:function(t){this.setFontItalic(t)}},fontSize:{title:_("Font Size"),icon:"select",range:[8,9,10,12,14,16,20,24,30],value:12,callback:function(t){this.setFontSize(t)}},fontFamily:{icon:"select",title:_("Font Family"),range:["Arial","Courier","Times","Verdana"],useRange:!0,value:"Arial",callback:function(t){this.setFontFamily(t)}}}},t.fn.wPaint.menus.main.items.text={icon:"menu",after:"pencil",title:"Text",index:7,callback:function(){this.setMode("text")}},t.extend(t.fn.wPaint.defaults,{fontSize:"12",fontFamily:"Arial",fontBold:!1,fontItalic:!1,fontUnderline:!1}),t.fn.wPaint.extend({generate:function(){this.$textCalc=t("<div></div>").hide(),this.$textInput=t('<textarea class="wPaint-text-input" spellcheck="false"></textarea>').on("mousedown",this._stopPropagation).css({position:"absolute"}).hide(),t("body").append(this.$textCalc),this.$el.append(this.$textInput),this.menus.all.text=this._createMenu("text")},_init:function(){function e(){i._drawTextIfNotEmpty(),i.$textInput.hide(),i.$canvasTemp.hide()}var i=this
for(var n in this.menus.all)this.menus.all[n].$menu.on("click",e).on("mousedown",this._stopPropagation)
t(document).on("mousedown",e)},setFillStyle:function(t){this.$textInput.css("color",t)},setFontSize:function(t){this.options.fontSize=parseInt(t,10),this._setFont({fontSize:t+"px",lineHeight:t+"px"}),this.menus.all.text._setSelectValue("fontSize",t)},setFontFamily:function(t){this.options.fontFamily=t,this._setFont({fontFamily:t}),this.menus.all.text._setSelectValue("fontFamily",t)},setFontBold:function(t){this.options.fontBold=t,this._setFont({fontWeight:t?"bold":""})},setFontItalic:function(t){this.options.fontItalic=t,this._setFont({fontStyle:t?"italic":""})},setFontUnderline:function(t){this.options.fontUnderline=t,this._setFont({fontWeight:t?"underline":""})},_setFont:function(t){this.$textInput.css(t),this.$textCalc.css(t)},_drawTextDown:function(t){this._drawTextIfNotEmpty(),this._drawShapeDown(t,1),this.$textInput.css({left:t.pageX-1,top:t.pageY-1,width:0,height:0}).show().focus()},_drawTextMove:function(t){this._drawShapeMove(t,1),this.$textInput.css({left:t.left-1,top:t.top-1,width:t.width,height:t.height})},_drawTextIfNotEmpty:function(){""!==this.$textInput.val()&&this._drawText()},_drawText:function(){var t,e,i,n,o="",r=this.$textInput.val().split("\n"),s=[],a=this.$textInput.width()-2,l=0,c=0,d=this.$textInput.position(),h=d.left+1,p=d.top+1
for(this.options.fontItalic&&(o+="italic "),this.options.fontBold&&(o+="bold "),o+=this.options.fontSize+"px "+this.options.fontFamily,t=0,e=r.length;e>t;t++){for(this.$textCalc.html(""),c=0,i=0,n=r[0].length;n>i;i++)l=this.$textCalc.append(r[t][i]).width(),l>a&&(s.push(r[t].substring(c,i)),c=i,this.$textCalc.html(r[t][i]))
c!==i&&s.push(r[t].substring(c,i))}for(r=this.$textInput.val(s.join("\n")).val().split("\n"),t=0,e=r.length;e>t;t++)this.ctx.fillStyle=this.options.fillStyle,this.ctx.textBaseline="top",this.ctx.font=o,this.ctx.fillText(r[t],h,p),p+=this.options.fontSize
this.$textInput.val(""),this._addUndo()}})}(jQuery),function(t){var e="plugins/shapes/img/icons-menu-main-shapes.png"
t.extend(!0,t.fn.wPaint.menus.main.items,{rectangle:{group:"shapes"},roundedRect:{icon:"activate",group:"shapes",title:_("Rounded Rectangle"),img:e,index:0,callback:function(){this.setMode("roundedRect")}},square:{icon:"activate",group:"shapes",title:_("Square"),img:e,index:1,callback:function(){this.setMode("square")}},roundedSquare:{icon:"activate",group:"shapes",title:_("Rounded Square"),img:e,index:2,callback:function(){this.setMode("roundedSquare")}},diamond:{icon:"activate",group:"shapes",title:_("Diamond"),img:e,index:4,callback:function(){this.setMode("diamond")}},ellipse:{group:"shapes2"},circle:{icon:"activate",group:"shapes2",title:_("Circle"),img:e,index:3,callback:function(){this.setMode("circle")}},pentagon:{icon:"activate",group:"shapes2",title:_("Pentagon"),img:e,index:5,callback:function(){this.setMode("pentagon")}},hexagon:{icon:"activate",group:"shapes2",title:_("Hexagon"),img:e,index:6,callback:function(){this.setMode("hexagon")}}}),t.fn.wPaint.extend({_drawRoundedRectDown:function(t){this._drawShapeDown(t)},_drawRoundedRectMove:function(t){this._drawShapeMove(t)
var e=t.w>t.h?t.h/t.w:t.w/t.h
this.ctxTemp.roundedRect(t.x,t.y,t.w,t.h,Math.ceil(e*t.w*t.h*.001)),this.ctxTemp.stroke(),this.ctxTemp.fill()},_drawRoundedRectUp:function(t){this._drawShapeUp(t),this._addUndo()},_drawSquareDown:function(t){this._drawShapeDown(t)},_drawSquareMove:function(t){this._drawShapeMove(t)
var e=t.w>t.h?t.h:t.w
this.ctxTemp.rect(t.x,t.y,e,e),this.ctxTemp.stroke(),this.ctxTemp.fill()},_drawSquareUp:function(t){this._drawShapeUp(t),this._addUndo()},_drawRoundedSquareDown:function(t){this._drawShapeDown(t)},_drawRoundedSquareMove:function(t){this._drawShapeMove(t)
var e=t.w>t.h?t.h:t.w
this.ctxTemp.roundedRect(t.x,t.y,e,e,Math.ceil(e*e*.001)),this.ctxTemp.stroke(),this.ctxTemp.fill()},_drawRoundedSquareUp:function(t){this._drawShapeUp(t),this._addUndo()},_drawDiamondDown:function(t){this._drawShapeDown(t)},_drawDiamondMove:function(t){this._drawShapeMove(t),this.ctxTemp.diamond(t.x,t.y,t.w,t.h),this.ctxTemp.stroke(),this.ctxTemp.fill()},_drawDiamondUp:function(t){this._drawShapeUp(t),this._addUndo()},_drawCircleDown:function(t){this._drawShapeDown(t)},_drawCircleMove:function(t){this._drawShapeMove(t)
var e=t.w>t.h?t.h:t.w
this.ctxTemp.ellipse(t.x,t.y,e,e),this.ctxTemp.stroke(),this.ctxTemp.fill()},_drawCircleUp:function(t){this._drawShapeUp(t),this._addUndo()},_drawPentagonDown:function(t){this._drawShapeDown(t)},_drawPentagonMove:function(t){this._drawShapeMove(t),this.ctxTemp.pentagon(t.x,t.y,t.w,t.h),this.ctxTemp.stroke(),this.ctxTemp.fill()},_drawPentagonUp:function(t){this._drawShapeUp(t),this._addUndo()},_drawHexagonDown:function(t){this._drawShapeDown(t)},_drawHexagonMove:function(t){this._drawShapeMove(t),this.ctxTemp.hexagon(t.x,t.y,t.w,t.h),this.ctxTemp.stroke(),this.ctxTemp.fill()},_drawHexagonUp:function(t){this._drawShapeUp(t),this._addUndo()}})}(jQuery),!function(){window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.diamond=function(t,e,i,n){return t&&e&&i&&n?(this.beginPath(),this.moveTo(t+.5*i,e),this.lineTo(t,e+.5*n),this.lineTo(t+.5*i,e+n),this.lineTo(t+i,e+.5*n),this.lineTo(t+.5*i,e),void this.closePath()):!0}),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.ellipse=function(t,e,i,n){if(!(t&&e&&i&&n))return!0
var o=.5522848,r=i/2*o,s=n/2*o,a=t+i,l=e+n,c=t+i/2,d=e+n/2
this.beginPath(),this.moveTo(t,d),this.bezierCurveTo(t,d-s,c-r,e,c,e),this.bezierCurveTo(c+r,e,a,d-s,a,d),this.bezierCurveTo(a,d+s,c+r,l,c,l),this.bezierCurveTo(c-r,l,t,d+s,t,d),this.closePath()}),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.hexagon=function(t,e,i,n){if(!(t&&e&&i&&n))return!0
var o=.225,r=1-o
this.beginPath(),this.moveTo(t+.5*i,e),this.lineTo(t,e+n*o),this.lineTo(t,e+n*r),this.lineTo(t+.5*i,e+n),this.lineTo(t+i,e+n*r),this.lineTo(t+i,e+n*o),this.lineTo(t+.5*i,e),this.closePath()}),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.pentagon=function(t,e,i,n){return t&&e&&i&&n?(this.beginPath(),this.moveTo(t+i/2,e),this.lineTo(t,e+.4*n),this.lineTo(t+.2*i,e+n),this.lineTo(t+.8*i,e+n),this.lineTo(t+i,e+.4*n),this.lineTo(t+i/2,e),void this.closePath()):!0}),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.roundedRect=function(t,e,i,n,o){return t&&e&&i&&n?(o||(o=5),this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+i-o,e),this.quadraticCurveTo(t+i,e,t+i,e+o),this.lineTo(t+i,e+n-o),this.quadraticCurveTo(t+i,e+n,t+i-o,e+n),this.lineTo(t+o,e+n),this.quadraticCurveTo(t,e+n,t,e+n-o),this.lineTo(t,e+o),this.quadraticCurveTo(t,e,t+o,e),void this.closePath()):!0})}(),window.oekaki=function(){"use strict"
function t(t){for(var e=atob(t.split(",")[1]),i=new Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n)
return new Blob([new Uint8Array(i)],{type:"image/jpeg"})}var e={}
return e.settings=new script_settings("wpaint"),e.height=e.settings.get("height",250),e.width=e.settings.get("width",500),e.do_css=function(){},e.init=function(){var i='<div id="wpaintctr"><div id="wpaintdiv"></div></div>'
$(".oekaki-applet").html(i),$('<link class="wpaintcss" rel="stylesheet" href="'+configRoot+'js/wPaint/wPaint.min.css" />').appendTo($("head")),$('<link class="wpaintcss" rel="stylesheet" href="'+configRoot+'js/wPaint/lib/wColorPicker.min.css" />').appendTo($("head")),$('<link class="wpaintcss" rel="stylesheet" href="'+configRoot+'stylesheets/jquery-ui/core.css" />').appendTo($("head")),$('<link class="wpaintcss" rel="stylesheet" href="'+configRoot+'stylesheets/jquery-ui/resizable.css" />').appendTo($("head")),$('<link class="wpaintcss" rel="stylesheet" href="'+configRoot+'stylesheets/jquery-ui/theme.css" />').appendTo($("head"))
var n=0
$(".wpaintcss").one("load",function(){n++,5==n&&($.extend($.fn.wPaint.defaults,{mode:"pencil",lineWidth:"1",fillStyle:"#FFFFFF",strokeStyle:"#000000"}),delete $.fn.wPaint.menus.main.items.save,$("#wpaintdiv").wPaint({path:configRoot+"js/wPaint/",menuOffsetTop:-46,bg:"#ffffff",loadImgFg:e.load_img,loadImgBg:e.load_img}),$("#wpaintctr").resizable({stop:function(){$("#wpaintdiv").wPaint("resize")},alsoResize:"#wpaintdiv"}),$("#wpaintctr .ui-resizable-se").css({height:"12px",width:"12px"}))}),$("#wpaintdiv").width(e.width).height(e.height).css("position","relative"),$("#wpaintctr").width(e.width+5).height(e.height+5).css("padding-top",48).css("position","relative"),$(document).on("ajax_before_post.wpaint",function(e,i){var n=$("#wpaintdiv").wPaint("image")
n=t(n),i.append("file",n,"Oekaki.png")}),$(window).on("stylesheet",function(){e.do_css(),$("link#stylesheet").attr("href")&&($("link#stylesheet")[0].onload=e.do_css)}),e.initialized=!0},e.load_img=function(){alert(_("Click on any image on this site to load it into oekaki applet")),$("img").one("click.loadimg",function(t){$("img").off("click.loadimg"),t.stopImmediatePropagation(),t.preventDefault()
var e=$(this).prop("src")
return $("#wpaintdiv").wPaint("setBg",e),!1})},e.deinit=function(){$(".oekaki-applet").empty(),$(".wpaintcss").remove(),$(document).off("ajax_before_post.wpaint"),e.initialized=!1},e.initialized=!1,e}(),!function(){var t=null
!function(){function e(t){function e(){try{s.doScroll("left")}catch(t){return void o(e,50)}i("poll")}function i(e){"readystatechange"==e.type&&"complete"!=r.readyState||(("load"==e.type?n:r)[h](p+e.type,i,!1),l||!(l=!0))||t.call(n,e.type||e)}var a=r.addEventListener,l=!1,c=!0,d=a?"addEventListener":"attachEvent",h=a?"removeEventListener":"detachEvent",p=a?"":"on"
if("complete"==r.readyState)t.call(n,"lazy")
else{if(r.createEventObject&&s.doScroll){try{c=!n.frameElement}catch(u){}c&&e()}r[d](p+"DOMContentLoaded",i,!1),r[d](p+"readystatechange",i,!1),n[d](p+"load",i,!1)}}function i(){u&&e(function(){var t=m.length
y(t?function(){for(var e=0;t>e;++e)(function(t){o(function(){n.exports[m[t]].apply(n,arguments)},0)})(e)}:void 0)})}for(var n=window,o=n.setTimeout,r=document,s=r.documentElement,a=r.head||r.getElementsByTagName("head")[0]||s,l="",c=r.scripts,d=c.length;--d>=0;){var h=c[d],p=h.src.match(/^[^#?]*\/run_prettify\.js(\?[^#]*)?(?:#.*)?$/)
if(p){l=p[1]||"",h.parentNode.removeChild(h)
break}}var u=!0,f=[],g=[],m=[]
for(l.replace(/[&?]([^&=]+)=([^&]+)/g,function(t,e,i){i=decodeURIComponent(i),e=decodeURIComponent(e),"autorun"==e?u=!/^[0fn]/i.test(i):"lang"==e?f.push(i):"skin"==e?g.push(i):"callback"==e&&m.push(i)}),d=0,l=f.length;l>d;++d)(function(){var e=r.createElement("script")
e.onload=e.onerror=e.onreadystatechange=function(){!e||e.readyState&&!/loaded|complete/.test(e.readyState)||(e.onerror=e.onload=e.onreadystatechange=t,--v,v||o(i,0),e.parentNode&&e.parentNode.removeChild(e),e=t)},e.type="text/javascript",e.src="/js/code_tags/lang-"+encodeURIComponent(f[d])+".js",a.insertBefore(e,a.firstChild)})(f[d])
for(var v=f.length,c=[],d=0,l=g.length;l>d;++d)c.push("/js/code_tags/skins/"+encodeURIComponent(g[d])+".css")
c.push("https://8ch.net/js/code_tags/prettify.css"),function(t){function e(n){if(n!==i){var o=r.createElement("link")
o.rel="stylesheet",o.type="text/css",i>n+1&&(o.error=o.onerror=function(){e(n+1)}),o.href=t[n],a.appendChild(o)}}var i=t.length
e(0)}(c)
var y=function(){window.PR_SHOULD_USE_CONTINUATION=!0
var e
return function(){function i(t){function e(t){var e=t.charCodeAt(0)
if(92!==e)return e
var i=t.charAt(1)
return(e=h[i])?e:i>="0"&&"7">=i?parseInt(t.substring(1),8):"u"===i||"x"===i?parseInt(t.substring(2),16):t.charCodeAt(1)}function i(t){return 32>t?(16>t?"\\x0":"\\x")+t.toString(16):(t=String.fromCharCode(t),"\\"===t||"-"===t||"]"===t||"^"===t?"\\"+t:t)}function n(t){var n=t.substring(1,t.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),t=[],o="^"===n[0],r=["["]
o&&r.push("^")
for(var o=o?1:0,s=n.length;s>o;++o){var a=n[o]
if(/\\[bdsw]/i.test(a))r.push(a)
else{var l,a=e(a)
s>o+2&&"-"===n[o+1]?(l=e(n[o+2]),o+=2):l=a,t.push([a,l]),65>l||a>122||(65>l||a>90||t.push([32|Math.max(65,a),32|Math.min(l,90)]),97>l||a>122||t.push([-33&Math.max(97,a),-33&Math.min(l,122)]))}}for(t.sort(function(t,e){return t[0]-e[0]||e[1]-t[1]}),n=[],s=[],o=0;o<t.length;++o)a=t[o],a[0]<=s[1]+1?s[1]=Math.max(s[1],a[1]):n.push(s=a)
for(o=0;o<n.length;++o)a=n[o],r.push(i(a[0])),a[1]>a[0]&&(a[1]+1>a[0]&&r.push("-"),r.push(i(a[1])))
return r.push("]"),r.join("")}function o(t){for(var e=t.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),o=e.length,a=[],l=0,c=0;o>l;++l){var d=e[l]
"("===d?++c:"\\"===d.charAt(0)&&(d=+d.substring(1))&&(c>=d?a[d]=-1:e[l]=i(d))}for(l=1;l<a.length;++l)-1===a[l]&&(a[l]=++r)
for(c=l=0;o>l;++l)d=e[l],"("===d?(++c,a[c]||(e[l]="(?:")):"\\"===d.charAt(0)&&(d=+d.substring(1))&&c>=d&&(e[l]="\\"+a[d])
for(l=0;o>l;++l)"^"===e[l]&&"^"!==e[l+1]&&(e[l]="")
if(t.ignoreCase&&s)for(l=0;o>l;++l)d=e[l],t=d.charAt(0),d.length>=2&&"["===t?e[l]=n(d):"\\"!==t&&(e[l]=d.replace(/[A-Za-z]/g,function(t){return t=t.charCodeAt(0),"["+String.fromCharCode(-33&t,32|t)+"]"}))
return e.join("")}for(var r=0,s=!1,a=!1,l=0,c=t.length;c>l;++l){var d=t[l]
if(d.ignoreCase)a=!0
else if(/[a-z]/i.test(d.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){s=!0,a=!1
break}}for(var h={b:8,t:9,n:10,v:11,f:12,r:13},p=[],l=0,c=t.length;c>l;++l){if(d=t[l],d.global||d.multiline)throw Error(""+d)
p.push("(?:"+o(d)+")")}return RegExp(p.join("|"),a?"gi":"g")}function n(t,e){function i(t){var l=t.nodeType
if(1==l){if(!n.test(t.className)){for(l=t.firstChild;l;l=l.nextSibling)i(l)
l=t.nodeName.toLowerCase(),("br"===l||"li"===l)&&(o[a]="\n",s[a<<1]=r++,s[a++<<1|1]=t)}}else(3==l||4==l)&&(l=t.nodeValue,l.length&&(l=e?l.replace(/\r\n?/g,"\n"):l.replace(/[\t\n\r ]+/g," "),o[a]=l,s[a<<1]=r,r+=l.length,s[a++<<1|1]=t))}var n=/(?:^|\s)nocode(?:\s|$)/,o=[],r=0,s=[],a=0
return i(t),{a:o.join("").replace(/\n$/,""),d:s}}function r(t,e,i,n){e&&(t={a:e,e:t},i(t),n.push.apply(n,t.g))}function s(t){for(var e=void 0,i=t.firstChild;i;i=i.nextSibling)var n=i.nodeType,e=1===n?e?t:i:3===n&&$.test(i.nodeValue)?t:e
return e===t?void 0:e}function a(e,n){function o(t){for(var e=t.e,i=[e,"pln"],c=0,d=t.a.match(s)||[],p={},u=0,f=d.length;f>u;++u){var g,m=d[u],v=p[m],y=void 0
if("string"==typeof v)g=!1
else{var b=a[m.charAt(0)]
if(b)y=m.match(b[1]),v=b[0]
else{for(g=0;l>g;++g)if(b=n[g],y=m.match(b[1])){v=b[0]
break}y||(v="pln")}!(g=v.length>=5&&"lang-"===v.substring(0,5))||y&&"string"==typeof y[1]||(g=!1,v="src"),g||(p[m]=v)}if(b=c,c+=m.length,g){g=y[1]
var _=m.indexOf(g),w=_+g.length
y[2]&&(w=m.length-y[2].length,_=w-g.length),v=v.substring(5),r(e+b,m.substring(0,_),o,i),r(e+b+_,g,h(v,g),i),r(e+b+w,m.substring(w),o,i)}else i.push(e+b,v)}t.g=i}var s,a={}
!function(){for(var o=e.concat(n),r=[],l={},c=0,d=o.length;d>c;++c){var h=o[c],p=h[3]
if(p)for(var u=p.length;--u>=0;)a[p.charAt(u)]=h
h=h[1],p=""+h,l.hasOwnProperty(p)||(r.push(h),l[p]=t)}r.push(/[\S\s]/),s=i(r)}()
var l=n.length
return o}function l(e){var i=[],n=[]
i.push(e.tripleQuotedStrings?["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,t,"'\""]:e.multiLineStrings?["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,t,"'\"`"]:["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,t,"\"'"]),e.verbatimStrings&&n.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,t])
var o=e.hashComments
if(o&&(e.cStyleComments?(i.push(o>1?["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,t,"#"]:["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,t,"#"]),n.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,t])):i.push(["com",/^#[^\n\r]*/,t,"#"])),e.cStyleComments&&(n.push(["com",/^\/\/[^\n\r]*/,t]),n.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,t])),o=e.regexLiterals){var r=(o=o>1?"":"\n\r")?".":"[\\S\\s]"
n.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*("+("/(?=[^/*"+o+"])(?:[^/\\x5B\\x5C"+o+"]|\\x5C"+r+"|\\x5B(?:[^\\x5C\\x5D"+o+"]|\\x5C"+r+")*(?:\\x5D|$))+/")+")")])}return(o=e.types)&&n.push(["typ",o]),o=(""+e.keywords).replace(/^ | $/g,""),o.length&&n.push(["kwd",RegExp("^(?:"+o.replace(/[\s,]+/g,"|")+")\\b"),t]),i.push(["pln",/^\s+/,t," \r\n	 "]),o="^.[^\\s\\w.$@'\"`/\\\\]*",e.regexLiterals&&(o+="(?!s*/)"),n.push(["lit",/^@[$_a-z][\w$@]*/i,t],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,t],["pln",/^[$_a-z][\w$@]*/i,t],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,t,"0123456789"],["pln",/^\\[\S\s]?/,t],["pun",RegExp(o),t]),a(i,n)}function c(t,e,i){function n(t){var e=t.nodeType
if(1!=e||r.test(t.className)){if((3==e||4==e)&&i){var l=t.nodeValue,c=l.match(s)
c&&(e=l.substring(0,c.index),t.nodeValue=e,(l=l.substring(c.index+c[0].length))&&t.parentNode.insertBefore(a.createTextNode(l),t.nextSibling),o(t),e||t.parentNode.removeChild(t))}}else if("br"===t.nodeName)o(t),t.parentNode&&t.parentNode.removeChild(t)
else for(t=t.firstChild;t;t=t.nextSibling)n(t)}function o(t){function e(t,i){var n=i?t.cloneNode(!1):t,o=t.parentNode
if(o){var o=e(o,1),r=t.nextSibling
o.appendChild(n)
for(var s=r;s;s=r)r=s.nextSibling,o.appendChild(s)}return n}for(;!t.nextSibling;)if(t=t.parentNode,!t)return
for(var i,t=e(t.nextSibling,0);(i=t.parentNode)&&1===i.nodeType;)t=i
c.push(t)}for(var r=/(?:^|\s)nocode(?:\s|$)/,s=/\r\n?|\n/,a=t.ownerDocument,l=a.createElement("li");t.firstChild;)l.appendChild(t.firstChild)
for(var c=[l],d=0;d<c.length;++d)n(c[d])
e===(0|e)&&c[0].setAttribute("value",e)
var h=a.createElement("ol")
h.className="linenums"
for(var e=Math.max(0,e-1|0)||0,d=0,p=c.length;p>d;++d)l=c[d],l.className="L"+(d+e)%10,l.firstChild||l.appendChild(a.createTextNode(" ")),h.appendChild(l)
t.appendChild(h)}function d(t,e){for(var i=e.length;--i>=0;){var n=e[i]
S.hasOwnProperty(n)?u.console&&console.warn("cannot override language handler %s",n):S[n]=t}}function h(t,e){return t&&S.hasOwnProperty(t)||(t=/^\s*</.test(e)?"default-markup":"default-code"),S[t]}function p(t){var e=t.h
try{var i=n(t.c,t.i),o=i.a
t.a=o,t.d=i.d,t.e=0,h(e,o)(t)
var r=/\bMSIE\s(\d+)/.exec(navigator.userAgent),r=r&&+r[1]<=8,e=/\n/g,s=t.a,a=s.length,i=0,l=t.d,c=l.length,o=0,d=t.g,p=d.length,f=0
d[p]=a
var g,m
for(m=g=0;p>m;)d[m]!==d[m+2]?(d[g++]=d[m++],d[g++]=d[m++]):m+=2
for(p=g,m=g=0;p>m;){for(var v=d[m],y=d[m+1],b=m+2;p>=b+2&&d[b+1]===y;)b+=2
d[g++]=v,d[g++]=y,m=b}d.length=g
var _,w=t.c
w&&(_=w.style.display,w.style.display="none")
try{for(;c>o;){var x,$=l[o+2]||a,k=d[f+2]||a,b=Math.min($,k),S=l[o+1]
if(1!==S.nodeType&&(x=s.substring(i,b))){r&&(x=x.replace(e,"\r")),S.nodeValue=x
var C=S.ownerDocument,T=C.createElement("span")
T.className=d[f+1]
var P=S.parentNode
P.replaceChild(T,S),T.appendChild(S),$>i&&(l[o+1]=S=C.createTextNode(s.substring(b,$)),P.insertBefore(S,T.nextSibling))}i=b,i>=$&&(o+=2),i>=k&&(f+=2)}}finally{w&&(w.style.display=_)}}catch(E){u.console&&console.log(E&&E.stack||E)}}var u=window,f=["break,continue,do,else,for,if,return,while"],g=[[f,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],m=[g,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],v=[g,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],y=[v,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],g=[g,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],b=[f,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],_=[f,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],w=[f,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],f=[f,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],x=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,$=/\S/,k=l({keywords:[m,y,g,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",b,_,f],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),S={}
d(k,["default-code"]),d(a([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),d(a([["pln",/^\s+/,t," 	\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,t,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),d(a([],[["atv",/^[\S\s]+/]]),["uq.val"]),d(l({keywords:m,hashComments:!0,cStyleComments:!0,types:x}),["c","cc","cpp","cxx","cyc","m"]),d(l({keywords:"null,true,false"}),["json"]),d(l({keywords:y,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:x}),["cs"]),d(l({keywords:v,cStyleComments:!0}),["java"]),d(l({keywords:f,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),d(l({keywords:b,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),d(l({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),d(l({keywords:_,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),d(l({keywords:g,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),d(l({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),d(l({keywords:w,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),d(a([],[["str",/^[\S\s]+/]]),["regex"])
var C=u.PR={createSimpleLexer:a,registerLangHandler:d,sourceDecorator:l,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:function(t,e,i){var n=document.createElement("div")
return n.innerHTML="<pre>"+t+"</pre>",n=n.firstChild,i&&c(n,i,!0),p({h:e,j:i,c:n,i:1}),n.innerHTML},prettyPrint:e=e=function(e,i){function n(){for(var i=u.PR_SHOULD_USE_CONTINUATION?g.now()+250:1/0;v<l.length&&g.now()<i;v++){for(var r=l[v],d=k,h=r;h=h.previousSibling;){var f=h.nodeType,S=(7===f||8===f)&&h.nodeValue
if(S?!/^\??prettify\b/.test(S):3!==f||/\S/.test(h.nodeValue))break
if(S){d={},S.replace(/\b(\w+)=([\w%+\-.:]+)/g,function(t,e,i){d[e]=i})
break}}if(h=r.className,(d!==k||b.test(h))&&!_.test(h)){for(f=!1,S=r.parentNode;S;S=S.parentNode)if($.test(S.tagName)&&S.className&&b.test(S.className)){f=!0
break}if(!f){if(r.className+=" prettyprinted",f=d.lang,!f){var C,f=h.match(y)
!f&&(C=s(r))&&x.test(C.tagName)&&(f=C.className.match(y)),f&&(f=f[1])}if(w.test(r.tagName))S=1
else var S=r.currentStyle,T=a.defaultView,S=(S=S?S.whiteSpace:T&&T.getComputedStyle?T.getComputedStyle(r,t).getPropertyValue("white-space"):0)&&"pre"===S.substring(0,3)
T=d.linenums,(T="true"===T||+T)||(T=(T=h.match(/\blinenums\b(?::(\d+))?/))?T[1]&&T[1].length?+T[1]:!0:!1),T&&c(r,T,S),m={h:f,c:r,j:T,i:S},p(m)}}}v<l.length?o(n,250):"function"==typeof e&&e()}for(var r=i||document.body,a=r.ownerDocument||document,r=[r.getElementsByTagName("pre"),r.getElementsByTagName("code"),r.getElementsByTagName("xmp")],l=[],d=0;d<r.length;++d)for(var h=0,f=r[d].length;f>h;++h)l.push(r[d][h])
var r=t,g=Date
g.now||(g={now:function(){return+new Date}})
var m,v=0,y=/\blang(?:uage)?-([\w.]+)(?!\S)/,b=/\bprettyprint\b/,_=/\bprettyprinted\b/,w=/pre|xmp/i,x=/^code$/i,$=/^(?:pre|code|xmp)$/i,k={}
n()}}
"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return C})}(),e}()
v||o(i,0)}()}(),$(function(){$(".fileboard td").find("a[target='_blank']").each(function(){var t=$(this).attr("href")
$(this).attr("href",t.replace("media.8ch.net/"+board_name+"/src/","media.8ch.net/file_store/"))})})
