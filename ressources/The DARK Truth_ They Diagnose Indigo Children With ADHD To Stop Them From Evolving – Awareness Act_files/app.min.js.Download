var menuscroll,thb_lazyload,skroller;!function(a,b,c){"use strict";var d=a(document),e=a(b),f={init:function(){var b,c=this;for(b in c)if(c.hasOwnProperty(b)){var d=c[b];void 0!==d.selector&&void 0!==d.init&&a(d.selector).length>0&&d.init()}-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&a("html").addClass("safari")},fixedHeader:{selector:".subheader.fixed",init:function(){var b=this,d=a(b.selector);e.scroll(function(){b.scroll(d)});var f=c.debounce(function(){var b=a("#menu_width");d.find(".thb_mega_menu_holder").css({width:b.outerWidth(),left:b.offset().left,right:b.offset().right})},30);e.resize(f).trigger("resize")},scroll:function(a){var b=400,c=e.scrollTop(),d="header--slide",f="header--unslide",g=a.find(".quick_search");c>b?(a.hasClass(f)&&a.removeClass(f),a.hasClass(d)||setTimeout(function(){a.addClass(d)},10)):b>c&&c>0?a.hasClass(d)&&(a.removeClass(d),a.addClass(f),g.removeClass("active")):(a.removeClass(d),a.removeClass(f),g.removeClass("active"))}},search:{selector:".quick_toggle",init:function(){var b=this,c=a(b.selector);c.each(function(){var b=a(this),c=b.parents(".quick_search");b.on("click",function(){return c.toggleClass("active"),!1})})}},responsiveNav:{selector:"#wrapper",init:function(){var c=this,d=a(c.selector),e=a(".click-capture"),f=(a(".mobile-toggle").data("target"),a("#mobile-menu").find('.mobile-menu li:has(".sub-menu")>a span'));a(".mobile-toggle").on("click",function(){var b=a(this),c=b.data("target");return d.removeClass("open-menu").addClass(c),!1}),e.on("click",function(){d.removeClass("open-menu")}),f.on("click",function(c){var d=a(this),e=d.parents("a"),f=e.next(".sub-menu");e.hasClass("active")?(e.removeClass("active"),f.slideUp("200",function(){setTimeout(function(){b.menuscroll.refresh()},10)})):(e.addClass("active"),f.slideDown("200",function(){setTimeout(function(){b.menuscroll.refresh()},10)})),c.stopPropagation(),c.preventDefault()})}},categoryMenu:{selector:".sf-menu",init:function(){var c=this,d=a(c.selector),e=d.find(".menu-item-has-children");e.each(function(){var c=a(this),d=c.find(">.sub-menu,>.thb_mega_menu_holder"),e=c.find(".thb_mega_menu li"),g=c.find(".category-children>.row");e.first().addClass("active"),c.hoverIntent(function(){TweenLite.to(d,.5,{autoAlpha:1,ease:Quart.easeOut,onStart:function(){d.css("display","block")},onComplete:function(){f.circle_perc.control(),b.thb_lazyload.update()}})},function(){TweenLite.to(d,.5,{autoAlpha:0,ease:Quart.easeOut,onComplete:function(){d.css("display","none")}})}),e.mouseover(function(){var c=a(this),d=c.index();e.removeClass("active"),c.addClass("active"),g.hide(),g.filter(":nth-child("+(d+1)+")").show(),f.circle_perc.control(),b.thb_lazyload.update()})})}},magnificImage:{selector:".blog-post .post-content",init:function(){var b=this,c=a(b.selector);c.each(function(){a(this).magnificPopup({delegate:'a[rel="mfp"]',type:"image",closeOnContentClick:!0,fixedContentPos:!0,mainClass:"mfp",removalDelay:250,closeBtnInside:!1,overflowY:"scroll",gallery:{enabled:!0,navigateByImgClick:!1,preload:[0,1]},image:{verticalFit:!1,titleSrc:function(a){return a.el.attr("title")}}})})}},carousel:{selector:".slick",init:function(c){var d=this,e=c?c:a(d.selector);e.each(function(){var c=a(this),d=c.data("columns"),e=c.data("navigation")===!0?!0:!1,g=c.data("autoplay")===!1?!1:!0,h=c.data("pagination")===!0?!0:!1,i=c.data("speed")?c.data("speed"):1e3,j=c.data("center")?c.data("center"):!1,k=c.data("disablepadding")?c.data("disablepadding"):!1,l=c.data("vertical")?c.data("vertical"):!1,m=c.data("fade")===!0?!0:!1,n={dots:h,arrows:e,infinite:!0,speed:i,centerMode:j,slidesToShow:d,slidesToScroll:1,autoplay:g,centerPadding:k?0:"50px",autoplaySpeed:6e3,pauseOnHover:!0,focusOnSelect:!0,adaptiveHeight:!0,vertical:l,verticalSwiping:l,accessibility:!1,fade:m,cssEase:"ease-in-out",prevArrow:'<button type="button" class="slick-nav slick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="slick-nav slick-next"><i class="fa fa-angle-right"></i></button>',responsive:[{breakpoint:1025,settings:{slidesToShow:3>d?d:l?d-1:3,centerPadding:k?0:"40px"}},{breakpoint:780,settings:{slidesToShow:2>d?d:l?d-1:2,centerPadding:k?0:"30px"}},{breakpoint:640,settings:{slidesToShow:2>d?d:l?d-1:1,centerPadding:k?0:"15px"}}]};c.on("afterChange",function(){f.circle_perc.control(),b.thb_lazyload.update()}),c.waitForImages(function(){c.slick(n)})})}},postGrid:{selector:"[data-loadmore]",init:function(){var c=this,d=a(c.selector);d.each(function(){var c=a(this),d=a(c.data("loadmore")),e=d.text(),g=d.data("loading"),h=d.data("nomore"),i=d.data("count"),j=(d.data("offset"),d.data("page")),k=d.data("style"),l=d.data("columns");d.length>0&&d.on("click",function(){return d.text(g),a.post(themeajax.url,{action:"thb_posts",count:i,style:k,page:j++,columns:l},function(g){var j=a.parseHTML(a.trim(g)),k=j?j.length:0;""===g||"undefined"===g||"No More Posts"===g||"No $args array created"===g?(g="",d.text(h).removeClass("loading").off("click")):(a(j).appendTo(c).hide(),a(j).show(),b.thb_lazyload.update(),TweenMax.set(a(j),{opacity:0,y:20}),TweenMax.staggerTo(a(j),.25*k,{y:0,opacity:1,ease:Quart.easeOut,onComplete:f.equalHeights.init()},.25),i>k?d.text(h).removeClass("loading"):d.text(e).removeClass("loading"))}),!1})})}},articleScroll:{selector:"#infinite-article",org_post_url:b.location.href,org_post_title:document.title,init:function(){var g=this,h=a(g.selector),i=h.data("infinite"),j=h.find(".blog-post:first-child"),k=j.data("id"),l=k,m=a("#footer").outerHeight()+a("#subfooter").outerHeight(),n=c.debounce(function(){g.location_change()},10),o=c.debounce(function(){e.scrollTop()>=d.height()-e.height()-m-200&&(h.addClass("thb-loading"),k===l&&a.ajax(themeajax.url,{method:"POST",data:{action:"thb_infinite_ajax",post_id:l},beforeSend:function(){k=null},success:function(c){var d=a.parseHTML(c);h.removeClass("thb-loading"),d?(k=a(d).find(".blog-post").data("id"),l=k,a(d).appendTo(h),f.circle_perc.init(),f.carousel.init(a(d).find(".slick")),f.equalHeights.init(),f.fixedPosition.init(a(d).find(".fixed-me")),f.magnificImage.init(),f.parallax_bg.init(),f.topReviews.init(),f.shareArticleDetail.init(),b.thb_lazyload.update()):k=null}}))},100);"on"===i&&(e.scroll(n),e.scroll(o))},location_change:function(){var b,c,d=this,f=(a(d.selector),e.scrollTop()),g=f+e.height(),h=[];if(a(".post-detail-row").each(function(){var b=a(this),c=b.find(".blog-post"),d=c.data("id"),e=b.offset().top-(a(".subheader.fixed").outerHeight()+a("#wpadminbar").outerHeight()),i=b.outerHeight(!0),j=0,k=c.data("url"),l=b.find(".post-title h1").text();j=e+i,f>e&&j>g?h.push({id:d,top:e,bottom:j,post_url:k,post_title:l,alength:i}):e>f&&g>e?h.push({id:d,top:e,bottom:j,post_url:k,post_title:l,alength:i}):j>f&&g>j&&h.push({id:d,top:e,bottom:j,post_url:k,post_title:l,alength:i})}),0===h.length)c=d.org_post_url,b=d.org_post_title;else if(1===h.length){var i=h.pop();c=i.post_url,b=i.post_title,d.borderWidth(i.top,i.alength)}else c=h[0].post_url,b=h[0].post_title,d.borderWidth(h[0].top,h[0].alength);c===d.org_post_url?a(".subheader.fixed").find(".share-article-vertical").fadeIn():a(".subheader.fixed").find(".share-article-vertical").fadeOut(),d.updateURL(c,b)},updateURL:function(c,d){b.location.href!==c&&(""!==c&&(history.replaceState(null,null,c),document.title=d,a("#page-title").html(d)),this.updateGA(c))},updateGA:function(a){"undefined"!=typeof _gaq&&_gaq.push(["_trackPageview",a])},borderWidth:function(b,c){var d=e.scrollTop(),f=(d-b)/c;a(".progress",".subheader.fixed").css({width:parseInt(100*f,10)+"%"})}},postGridAjaxify:{selector:".ajaxify-pagination",init:function(){var d=this,e=a(d.selector),g=e;g.data("initialized",!0);var h=b.History,i=b.document;if(!h.enabled)return!1;var j=(g.get(0),a(i.body)),k=h.getRootUrl();0===g.length&&(g=j);var l=function(a){var b=String(a).replace(/<\!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|script)([\s\>])/gi,'<div id="document-$1"$2').replace(/<\/(html|head|body|title|script)\>/gi,"</div>");return b};a.fn.ajaxify=c.debounce(function(){var b=a(this);return b.find(".page-numbers").on("click",function(b){var c=a(this),d=c.attr("href"),e=c.attr("title")||null;return 2===b.which||b.metaKey?!0:(h.pushState(null,e,d),b.preventDefault(),!1)}),b},50),g.ajaxify(),a(b).bind("statechange",function(){var c=h.getState(),e=c.url,j=e.replace(k,""),m=a("#wpadminbar"),n=m?m.outerHeight():0;g.addClass("thb-loading"),jQuery("html, body").animate({scrollTop:g.offset().top-n-30},800),a.ajax({url:e,success:function(c){var h=a(l(c)),k=h.find(d.selector),m=k.html()||h.html();return m?(g.stop(!0,!0),g.html(m).ajaxify().animate({opacity:1},500,"linear",function(){g.removeClass("thb-loading"),f.circle_perc.control(),b.thb_lazyload.update()}),i.title=h.find("#document-title:first").text(),"undefined"!=typeof b.pageTracker&&b.pageTracker._trackPageview(j),void("undefined"!=typeof b.reinvigorate&&"undefined"!=typeof b.reinvigorate.ajax_track&&reinvigorate.ajax_track(e))):(i.location.href=e,!1)},error:function(){return i.location.href=e,!1}})})}},circle_perc:{selector:".circle_perc",init:function(){var b=this,c=a(b.selector);b.control(c),e.scroll(function(){b.control(c)})},control:function(b){var c=-1,d=b?b:a(this.selector);d.filter(":in-viewport").each(function(){var b=a(this),d=b.data("dashoffset");c++,setTimeout(function(){TweenLite.to(b,1,{attr:{"stroke-dashoffset":d}})},200*c)})}},topReviews:{selector:".widget_topreviews .progress, .post-review .progress span",init:function(){var b=this,c=a(b.selector);b.control(c),e.scroll(function(){b.control(c)})},control:function(b){var c=-1;b.filter(":in-viewport").each(function(){var b=a(this),d=b.data("width");c++,setTimeout(function(){TweenLite.to(b,1,{width:d+"%"})},200*c)})}},comments:{selector:"#comment-toggle",init:function(){var b=this,c=a(b.selector);c.on("click",function(){return a(this).toggleClass("active"),a(this).next(".comment-content-container").slideToggle(),!1})}},videoPlaylist:{selector:".video_playlist",init:function(){var b=this,c=a(b.selector);c.each(function(){var b=a(this),c=b.find(".video-side"),d=b.find(".video_play");d.on("click",function(){var d=a(this),e=d.data("video-url"),f=d.data("post-id");return d.hasClass("video-active")?!1:(b.find(".video_play").removeClass("video-active"),b.find('.video_play[data-video-url="'+e+'"]').addClass("video-active"),c.addClass("thb-loading"),a.post(themeajax.url,{action:"thb-parse-embed",post_ID:f,shortcode:"[embed]"+e+"[/embed]"},function(a){a.success&&c.html(a.data.body),c.removeClass("thb-loading")}),!1)})})}},postListing:{selector:".thb_listing",init:function(){var c=this,d=a(c.selector);d.each(function(){var c=a(this),d=c.data("type"),e=c.data("count"),f=c.find("a"),g=c.parents("strong").next("ul"),h=new TimelineMax;f.on("click",function(){{var c=a(this),i=c.data("time"),j=g.find("li,p");j.length}return g.addClass("thb-loading"),a.post(themeajax.url,{action:"thb_listing",count:e,type:d,time:i},function(d){var e=a.parseHTML(a.trim(d)),i=e.length;TweenLite.set(e,{x:30,opacity:0}),f.removeClass("active"),c.addClass("active"),h.staggerTo(j,Math.min(.15*i,1),{x:-30,opacity:0,onStart:function(){g.removeClass("thb-loading")},onComplete:function(){g.html(e),b.thb_lazyload.update()}},.1).staggerTo(e,Math.min(.15*i,1),{x:0,opacity:1},.1)}),!1})})}},shareArticleDetail:{selector:".share-article, .share-article-vertical",init:function(){var c=this,d=a(c.selector),e=d.find(".social");e.on("click",function(){var c=screen.width/2-320,d=screen.height/2-220-100;return b.open(a(this).attr("href"),"mywin","left="+c+",top="+d+",width=640,height=440,toolbar=0"),!1})}},custom_scroll:{selector:".custom_scroll",init:function(){var c=this,d=a(c.selector);d.each(function(){var c=a(this),d=c.attr("id"),e={scrollbars:!0,mouseWheel:!0,click:!0,interactiveScrollbars:!0,shrinkScrollbars:"scale",fadeScrollbars:!0},f=new IScroll("#"+d,e);"menu-scroll"===c.attr("id")&&(b.menuscroll=f),c.on("touchmove",function(a){a.preventDefault()})})}},categoryDropdown:{selector:".thb-sibling-categories",init:function(){var b=this,c=a(b.selector);c.each(function(){var c=a(this),d=c.find("li:not(.thb-pull-down)"),e=c.find("li.thb-pull-down"),f=c.find(".thb-pull-down .sub-menu"),g=[];e.find(">a").on("click",function(){return!1}),d.each(function(){g.push({el:a(this),width:a(this).outerWidth(!0),added:!1})}),d.remove(),b.start(c,g,f,e)})},start:function(a,b,d,f){function g(){for(var b=a.outerWidth(),e=f.outerWidth(!0)+15,g=c.filter(h,{added:!1}),i=c.filter(h,{added:!0}),j=0;j<g.length;j++)e+=g[j].width;e>=b?c.last(g)&&(c.last(g).added=!0):(c.first(i)?c.first(i).width+e<b:!0)&&c.first(i)&&(c.first(i).added=!1);for(var k=0;k<g.length;k++)g[k].el.insertBefore(f);for(var l=0;l<i.length;l++)d.prepend(i[l].el);0===i.length?f.hide():f.css({display:"inline-block"})}var h=b;a.addClass("active");for(var i=0;i<h.length+1;i++)g();e.resize(function(){g()})}},wpml:{selector:"#thb_language_selector",init:function(){var c=this,d=a(c.selector);d.on("change",function(){var c=a(this).val();return c&&(b.location=c),!1})}},parallax_bg:{selector:"body",active:0,init:function(){var c=a('div[role="main"]');c.find(".parallax_bg").length>0&&c.waitForImages(function(){b.skroller=skrollr.init({forceHeight:!1,easing:"outCubic",mobileCheck:function(){return!1}})})}},equalHeights:{selector:"[data-equal]",init:function(b){var c=this,d=b?b:a(c.selector);d.each(function(){var b=a(this),c=b.data("equal"),d=b.data("row-detection")?b.data("row-detection"):!1;b.find(c).matchHeight({byRow:d,property:"min-height"}),b.waitForImages(function(){a.fn.matchHeight._update()}),a.fn.matchHeight._afterUpdate=function(){a(document.body).trigger("sticky_kit:recalc")}})}},fixedPosition:{selector:".fixed-me",init:function(b){var d=this,f=b?b:a(d.selector),g=a("#wpadminbar"),h=g?g.outerHeight():0;e.width()>1025?f.each(function(){var b=a(this),c=77;b.after('<div class="sticky-content-spacer"/>'),b.stick_in_parent({offset_top:c+h,spacer:".sticky-content-spacer"})}):e.resize(c.debounce(function(){a(document.body).trigger("sticky_kit:detach")},30))}},lazyLoad:{selector:"#content-container",init:function(){{var c=this;a(c.selector)}b.thb_lazyload=new LazyLoad({threshold:100,elements_selector:"img:not([src])",throttle:80,class_loading:"image-loading",class_loaded:"image-loaded",data_src:"original",data_srcset:"original-set",show_while_loading:!0,callback_set:function(b){a(b).parents(".row").data("equal")&&a.fn.matchHeight._update()}})}},animation:{selector:"#content-container .animation",init:function(){var b=this,c=a(b.selector);b.control(c),e.scroll(function(){b.control(c)})},control:function(b){var c=-1;b.filter(":in-viewport").each(function(){var b=a(this);c++,setTimeout(function(){b.addClass("animate")},200*c)})}},toTop:{selector:"#scroll_totop",init:function(){var d=this,f=a(d.selector);f.on("click",c.debounce(function(){return TweenMax.to(b,1,{scrollTo:{y:0},ease:Quart.easeOut}),!1},50)),e.scroll(c.debounce(function(){d.control()},50))},control:function(){var b=this,c=a(b.selector);e.scrollTop()>300?TweenMax.to(c,.2,{autoAlpha:1,ease:Quart.easeOut}):TweenMax.to(c,.2,{autoAlpha:0,ease:Quart.easeOut})}},themeSwitcher:{selector:"#theme-switcher",init:function(){var b=this,c=a(b.selector),d=c.find(".style-toggle");d.on("click",function(){return c.add(a(this)).toggleClass("active"),!1})}}};e.resize(c.debounce(function(){},50)),e.scroll(c.debounce(function(){},50)),d.ready(function(){f.init()})}(jQuery,this,_);